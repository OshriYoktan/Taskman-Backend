{"version":3,"sources":["services/http.service.js","services/userService.js","store/actions/userActions.js","assets/imgs/taskman-loader.svg","cmps/UserProfile/UserProfile.jsx","assets/imgs/Taskman-logo.png","cmps/AppHeader/AppHeader.jsx","services/utilService.js","services/boardService.js","store/actions/boardActions.js","services/socketService.js","cmps/CardPreview/CardPreview.jsx","cmps/LabelEditModal/LabelEditModal.jsx","cmps/LabelModal/LabelModal.jsx","assets/imgs/small-loader.svg","cmps/MemberModal/MemberModal.jsx","cmps/CheckListModal/CheckListModal.jsx","cmps/DueDateModal/DueDateModal.jsx","cmps/DrawNoteModal/DrawNoteModal.jsx","cmps/Cloudinary/Cloudinary.jsx","cmps/CoverModal/CoverModal.jsx","cmps/TaskModal/TaskModal.jsx","cmps/BoardMenu/BoardMenu.jsx","pages/BoardDetails/BoardDetails.jsx","pages/LandingPage/LandingPage.jsx","cmps/BoardPreview/BoardPreview.jsx","cmps/BoardList/BoardList.jsx","pages/TaskmanApp/TaskmanApp.jsx","assets/imgs/home-img.jpg","App.js","reportWebVitals.js","store/reducers/boardReducer.js","store/reducers/userReducer.js","store/index.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","KEY","id","user","_id","AUTH","query","getUserById","deleteUser","saveUser","getEmptyUser","name","username","password","storage","saveUserToStorage","sessionStorage","setItem","JSON","stringify","loadUserFromStorage","parse","getItem","login","logout","userToLogin","dispatch","userService","type","signup","updateUser","updatedUser","UserProfile","ref","handler","profileOp","isProfile","setIsProfile","useDispatch","useSelector","state","userReducer","useForm","register","handleSubmit","reset","useState","isLogin","setIsLogin","isLoading","setIsLoading","errMsg","setErrMsg","profileRef","useRef","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","onLogin","loginUsername","loginPass","isLoggedin","onSignup","userToSignup","loginFullname","tasks","isSignup","className","src","loader","alt","style","maxWidth","onClick","icon","faTimes","size","round","onSubmit","autoComplete","placeholder","AppHeader","loggedinUser","window","location","hash","includes","backgroundColor","position","top","zIndex","to","faHome","logo","faUserCircle","utilService","getRandomInt","min","max","Math","ceil","floor","random","makeId","length","txt","possible","i","charAt","filter","term","arr","toLocaleLowerCase","board","phone","email","sort","b","debounce","func","timeout","wait","args","later","clearTimeout","setTimeout","getCards","getBoardById","deleteBoard","saveBoard","getEmptyBoard","title","members","cards","activity","background","labels","gLabels","images","cloudUrls","description","getEmptyCard","updateCard","taskToUpdate","cardToUpdate","boardToUpdate","taskIdx","findIndex","t","splice","updateBoard","getEmptyTask","desc","createdAt","Date","now","dueDate","isWithAttachment","cover","checklists","doneAt","attachments","comments","getCoverColors","gCoverColors","cardIdx","card","loadBoards","filterBy","boardService","boards","updatedBoard","setCurrBoard","boardId","removeBoard","msg","updateBackground","setCurrBackground","currBackground","updateIsCloudLoader","bool","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","forwardRef","CardPreview","props","cardPreviewOp","currBoard","boardReducer","setTasks","isAddTask","setIsAddTask","isEditTitle","setIsEditTitle","isCardModal","setIsCardModal","newTask","useOnClickOutside","addTaskRef","cardModalRef","useImperativeHandle","setFromOutside","source","destination","find","c","droppableId","from","index","removed","forEach","boardToSave","setCardTitle","cardTitle","replace","doneAtToggle","ev","task","stopPropagation","newBoard","addTask","push","forSocket","addActivity","backgroundColorDueDate","colorDueDate","setCurrCard","provided","droppableProps","innerRef","onBlur","required","onKeyDown","e","key","preventDefault","defaultValue","maxHeight","deleteCard","map","idx","draggableId","snapshot","setCurrTask","setTaskLabels","setTaskMembers","draggableProps","dragHandleProps","isDragging","backgroundImage","label","isDescShown","color","setIsDescShown","labelsDescToggle","opacity","transition","faClock","faCheckSquare","format","withTitle","faSquare","faPaperclip","faAlignLeft","faComments","reduce","acc","checklist","list","faList","accTotal","itemInList","isChecked","member","faPlus","LabelEditModal","labelEditModal","setLabelEditModal","faChevronLeft","setLabelModal","labelName","labelColor","LabelModal","border","visibility","addLabel","currTask","currLabel","faCheckCircle","editLabel","faPencilAlt","width","LabelEditRef","MemberModal","searchMembers","setSearchMembers","addMemberToTask","chooseMemberForSockets","setMemberModal","memberModalLoader","onChange","users","toLowerCase","searchMember","taskMembers","currMember","smallLoader","CheckListModal","setChecklistModal","newChecklistToSend","range","handleChecklist","defaultMaterialTheme","createMuiTheme","overrides","MuiPickersCalendarHeader","switchHeader","MuiPickersDay","day","lightBlue","A700","daySelected","dayDisabled","container","DueDateModal","timeStemp","React","selectedDate","setSelectedDate","setDueDateModal","selectedDateStr","addDueDate","ThemeProvider","theme","utils","DateFnsUtils","disableToolbar","variant","margin","value","date","KeyboardButtonProps","DrawNoteModal","locations","setLocations","dot_flag","setDot_flag","flag","setFlag","setColor","setBackgroundColor","setTitle","inputSize","setInputSize","canvasRef","currX","currY","handleCanvasMouse","newLocation","canvas","ctx","getContext","clientX","clientY","getBoundingClientRect","left","x","y","beginPath","fillStyle","fillRect","closePath","draw","moveTo","lineTo","strokeStyle","lineWidth","stroke","setDrawNoteModal","height","onMouseDown","onMouseMove","onMouseOut","onMouseUp","inputColor","inputBackgroungColor","bgc","setBgcToCanvas","htmlFor","faTint","faPaintRoller","clearRect","innerHeight","innerWidth","dataURL","toDataURL","newAtt","Cloudinary","setCloudImgs","cloudOp","sources","sourceKeys","dropboxAppKey","instagramClientId","resourceType","cloudName","uploadPreset","buttonText","borderRadius","padding","folder","onSuccess","info","secure_url","unshift","original_filename","onFailure","err","logging","customPublicId","eager","use_filename","unique_filename","apiKey","accepts","contentType","CoverModal","coverColors","setCoverModal","addCover","attach","endsWith","crossOrigin","loading","currCard","TaskModal","taskModalOp","setClientX","setClientY","inputFile","labelModal","labelRef","attNameModal","setAttNameModal","editAttachRef","labelEditRef","coverModal","coverRef","memberModal","memberRef","checklistModal","checklistRef","dueDateModal","dueDateRef","drawNoteModal","drawNoteRef","isDesc","setIsDesc","setRange","rengeToShow","toFixed","marginTop","taskTitle","faWindowMaximize","display","dueDateSpanText","descValue","listIdx","item","checked","changeCheckBox","textDecoration","idxInList","input","Object","keys","str","addToList","inputItem0","inputItem1","inputItem2","inputItem3","inputItem4","onSubmitItemInList","attac","attIdx","imgSrc","imgDetails","setFullImg","toggleFullImg","fromNow","offsetLeft","offsetTop","testLog","fileSrc","get","responseType","then","link","createElement","blob","Blob","href","URL","createObjectURL","download","click","revokeObjectURL","catch","error","downloadItem","att","onAttRemove","onSubmitAtt","faComment","newComment","timeStamp","comment","onEditComment","onRemoveComment","faTag","faUser","addMember","onButtonClick","faClipboard","faPalette","confirmAlert","message","buttons","m","memberTask","BoardMenu","boardMenuOp","isAbout","setIsAbout","isBackground","setIsBackground","isFilter","setIsFilter","isLabels","setIsLabels","setLabels","cloudImgs","setActivity","setMsg","isAddLabel","setIsAddLabel","setFilterBy","isCloudLoader","sendFilter","isMenu","closeMenu","onSearchTask","searchTask","filterTasks","saveLabels","entries","en","setIsMenu","tasksProgress","inProgress","overdue","completed","memberNameList","memberListIdx","mem","dataForMembersChart","datasets","hoverOffset","dataForChart","borderColor","borderWidth","descToUpdate","boardDesc","changeBackground","decoding","removeIdx","onSearchLabel","labelId","l","deleteLabel","addBoardLabel","addBoardLabelColor","BoardDetails","setFilter","setMembers","history","useHistory","fref","taskLabels","setMemberModalLoader","match","draggedCards","setDraggedCards","addTaskForSockets","updateTask","addNewCardForSockets","deleteTaskForSockets","addLabelForSockets","updateCardForSockets","updateCardTitleForSockets","addActivityForSockets","img","preMembers","fullImg","undefined","menuRef","isInvite","setIsInvite","inviteRef","fullImgRef","isAddCard","setIsAddCard","addMembersToBoard","setMembersToBoard","setIsScrollOnDradAllowed","some","labelToRemove","handleOnDragEnd","items","Array","membersInBoard","usersToAdd","memberId","memberToRemove","findMemberToDelete","isMember","newActivity","newCards","cardsIds","failCard","boardTitle","onAddMember","removeUserFromBoard","faBars","onDragEnd","onMouseDownCapture","newCard","newCardTitle","LandingPage","BoardPreview","LinkPrev","BoardList","boardListOp","isCreateBoard","setIsCreateBoard","addBoard","newBoardTitle","TaskmanApp","App","backgroundImg","component","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"ouBAGMA,EACF,QAGAC,EAAQC,IAAMC,OAAO,CACrBC,iBAAiB,IAGRC,EAAc,SACnBC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IAFxBF,EAAc,SAIlBC,EAAUC,GACX,OAAOC,EAAKF,EAAU,OAAQC,IALzBF,EAAc,SAOnBC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IARxBF,EAAc,SAUhBC,EAAUC,GACb,OAAOC,EAAKF,EAAU,SAAUC,I,SAIzBC,E,8EAAf,WAAoBF,GAApB,+BAAAG,EAAA,6DAA8BC,EAA9B,+BAAuC,MAAOH,EAA9C,+BAAqD,KAArD,kBAE0BN,EAAM,CACpBU,IAAI,GAAD,OAAKX,GAAL,OAAgBM,GACnBI,SACAH,OACAK,OAAoB,QAAXF,EAAoBH,EAAO,OANhD,cAEcM,EAFd,yBAQeA,EAAIN,MARnB,sCAUQO,QAAQC,IAAR,qBAA0BL,EAA1B,yCAAiEJ,EAAjE,wBAAyFC,IACzFO,QAAQE,IAAR,MACI,KAAIC,UAAY,KAAIA,SAASC,OAZzC,+D,sBCxBA,IAAMC,EAAM,Q,4CAIZ,sBAAAV,EAAA,+EAEqBJ,EAAgBc,GAFrC,wEAIQL,QAAQC,IAAI,OAAZ,MAJR,yD,kEAQA,WAA2BK,GAA3B,SAAAX,EAAA,+EAEqBJ,EAAgBc,EAAMC,GAF3C,wEAIQN,QAAQC,IAAI,OAAZ,MAJR,yD,kEAQA,WAA0BK,GAA1B,SAAAX,EAAA,+EAEqBJ,EAAmBc,EAAMC,GAF9C,wEAIQN,QAAQC,IAAI,4BAAZ,MAJR,yD,kEAQA,WAAwBM,GAAxB,SAAAZ,EAAA,mEAEYY,EAAKC,IAFjB,gCAEmCjB,EAAgBc,EAAME,EAAKC,IAAKD,GAFnE,+DAGqBhB,EAAiBc,EAAKE,GAH3C,0EAKQP,QAAQC,IAAI,OAAZ,MALR,2D,kEASA,WAAqBM,GAArB,SAAAZ,EAAA,+EAEqBJ,EAAiBkB,aAAgBF,GAFtD,wEAIQP,QAAQC,IAAI,OAAZ,MAJR,yD,kEAQA,sBAAAN,EAAA,+EAEqBJ,EAAiBkB,eAFtC,wEAIQT,QAAQC,IAAI,OAAZ,MAJR,yD,sBA4Be,OACXS,M,2CACAC,Y,4CACAC,W,4CACAC,S,4CACAC,aAdJ,WACI,MAAO,CACHC,KAAM,GACNC,SAAU,GACVC,SAAU,KAWdC,QAzBY,CACZC,kBADY,SACMZ,GACda,eAAeC,QAAQ,eAAgBC,KAAKC,UAAUhB,KAE1DiB,oBAJY,WAKR,OAAOF,KAAKG,MAAML,eAAeM,QAAQ,mBAqB7CC,M,4CACAC,O,4CC1EG,SAASD,EAAME,GACpB,8CAAO,WAAMC,GAAN,eAAAnC,EAAA,sEACcoC,EAAYJ,MAAME,GADhC,UACCtB,EADD,gDAEa,kCAFb,OAGLwB,EAAYb,QAAQC,kBAAkBZ,GAEtCuB,EADe,CAAEE,KAAM,YAAazB,SAJ/B,2CAAP,sDAgBK,SAAS0B,EAAO1B,GACrB,8CAAO,WAAMuB,GAAN,SAAAnC,EAAA,sEACiBoC,EAAYlB,SAASN,GADtC,gFAE+BA,EAAKS,SAFpC,+BAGLe,EAAYb,QAAQC,kBAAkBZ,GAEtCuB,EADe,CAAEE,KAAM,YAAazB,SAJ/B,2CAAP,sDAQK,SAAS2B,EAAW3B,GACzB,8CAAO,WAAMuB,GAAN,eAAAnC,EAAA,sEACqBoC,EAAYlB,SAASN,GAD1C,cACC4B,EADD,OAELJ,EAAYb,QAAQC,kBAAkBgB,GAEtCL,EADe,CAAEE,KAAM,cAAeG,gBAHjC,kBAKEA,GALF,2CAAP,sDCpCa,UAA0B,2C,wBCUlC,SAASC,EAAT,GAAqC,IASbC,EAAKC,EATNC,EAAa,EAAbA,UAClBC,EAA4BD,EAA5BC,UAAWC,EAAiBF,EAAjBE,aACbX,EAAWY,cACXnC,EAAOoC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAAYtC,QACpD,EAA0CuC,cAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAChC,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAkCF,oBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA4BJ,mBAAS,MAArC,mBAAOK,EAAP,KAAeC,EAAf,KAmBMC,EAAaC,mBAjBQrB,EAkBToB,EAlBcnB,EAkBF,kBAAMG,GAAa,IAjB7CkB,qBAAU,WACN,IAAMC,EAAW,SAACC,GACTxB,EAAIyB,UAAWzB,EAAIyB,QAAQC,SAASF,EAAMG,SAG/C1B,EAAQuB,IAIZ,OAFAI,SAASC,iBAAiB,YAAaN,GACvCK,SAASC,iBAAiB,aAAcN,GACjC,WACHK,SAASE,oBAAoB,YAAaP,GAC1CK,SAASE,oBAAoB,aAAcP,MAEhD,CAACvB,EAAKC,IAMb,IAEM8B,EAAO,uCAAG,WAAM3E,GAAN,iBAAAE,EAAA,6DACZ6D,EAAU,MACVF,GAAa,GACPzB,EAAc,CAAEb,SAAUvB,EAAK4E,cAAepD,SAAUxB,EAAK6E,WAHvD,SAIaxC,EAASH,EAAME,IAJ5B,QAIN0C,EAJM,SAKIf,EAAUe,GAC1BjB,GAAa,GACbL,IAPY,2CAAH,sDAUPuB,EAAQ,uCAAG,WAAM/E,GAAN,iBAAAE,EAAA,6DACb6D,EAAU,MACVF,GAAa,GACPmB,EAAe,CAAE1D,KAAMtB,EAAKiF,cAAe1D,SAAUvB,EAAK4E,cAAepD,SAAUxB,EAAK6E,UAAWK,MAAO,IAHnG,SAIU7C,EAASG,EAAOwC,IAJ1B,OAIPG,EAJO,OAKbtB,GAAa,GACTsB,GAAUpB,EAAUoB,GACxBnC,GAAa,GACbQ,IARa,4CAAH,sDAgBd,OAAII,EAAmB,qBAAKwB,UAAU,4BAAf,SAA2C,qBAAKC,IAAKC,EAAQC,IAAI,OAGpF,qCACKzE,GAAQ,0BAAS8B,IAAKoB,EAAYoB,UAAU,YAAYI,MAAOzC,EAAY,CAAE0C,SAAU,QAAW,CAAEA,SAAU,KAAtG,UACL,gCACI,yCACA,mBAAGC,QAnCD,kBAAM1C,GAAa,IAmCrB,SAAuB,cAAC,IAAD,CAAiBoC,UAAU,KAAKO,KAAMC,WAEjE,gCACI,cAAC,IAAD,CAAQtE,KAAMR,EAAKQ,KAAMuE,KAAK,KAAKC,OAAO,IAC1C,4BAAIhF,EAAKS,cAUb,8BACI,wBAAQmE,QA3BP,WACbrD,EF5CN,uCAAO,WAAMA,GAAN,SAAAnC,EAAA,sEACCoC,EAAYH,SADb,OAELG,EAAYb,QAAQC,kBAAkB,MAEtCW,EADe,CAAEE,KAAM,YAAazB,KAAM,OAHrC,2CAAP,uDE6CMkC,GAAa,IAyBD,0BAGNlC,GAAQ,0BAAS8B,IAAKoB,EAAYoB,UAAU,aAAaI,MAAOzC,EAAY,CAAE0C,SAAU,QAAW,CAAEA,SAAU,KAAvG,UACN,6BAAK/B,EAAU,QAAU,WACxBA,GAAW,uBAAMqC,SAAUxC,EAAaoB,GAA7B,UACR,mCAAOpC,KAAK,OAAOyD,aAAa,MAAMC,YAAY,YAAe3C,EAAS,mBAC1E,mCAAOf,KAAK,WAAWyD,aAAa,MAAMC,YAAY,YAAe3C,EAAS,eAC7EQ,GAAU,mBAAGsB,UAAU,aAAb,SAA2BtB,IACtC,+CAEFJ,GAAW,uBAAMqC,SAAUxC,EAAawB,GAA7B,UACT,mCAAOxC,KAAK,OAAOyD,aAAa,MAAMC,YAAY,YAAe3C,EAAS,mBAC1E,mCAAOf,KAAK,OAAOyD,aAAa,MAAMC,YAAY,YAAe3C,EAAS,mBAC1E,mCAAOf,KAAK,WAAWyD,aAAa,MAAMC,YAAY,YAAe3C,EAAS,eAC9E,+CAEHI,GAAW,oBAAGgC,QAAS,kBAAM/B,GAAYD,IAA9B,mCAA8D,uBAA9D,6BACVA,GAAW,oBAAGgC,QAAS,kBAAM/B,GAAYD,IAA9B,6BAAwD,uBAAxD,gCC3Gd,UAA0B,yCCWlC,SAASwC,IACZ,IAAM7D,EAAWY,cACjB,EAAkCQ,oBAAS,GAA3C,mBAAOV,EAAP,KAAkBC,EAAlB,KACMmD,EAAe7D,EAAYb,QAAQM,sBAEzCmC,qBAAU,WACFiC,GAAc9D,EAASH,EAAMiE,MAClC,IAEH,IAAMrD,EAAY,CACdE,eACAD,aAGJ,OACI,qCACI,sBAAKqC,UAAU,2BAA2BI,MAAOY,OAAOC,SAASC,KAAKC,SAAS,UAAY,CAAEC,gBAAiB,UAAWC,SAAU,SAAUC,IAAK,EAAGC,OAAQ,IAAO,CAAEH,gBAAiB,uBAAvL,UACI,cAAC,IAAD,CAAMpB,UAAU,OAAOwB,GAAG,UAA1B,SAAqC,cAAC,IAAD,CAAiBjB,KAAMkB,QAC5D,eAAC,IAAD,CAAMzB,UAAU,OAAOwB,GAAG,UAA1B,UAAqC,qBAAKvB,IAAKyB,EAAMvB,IAAKuB,IAA1D,QAAuE,0CACvE,wBAAQ1B,UAAU,OAAOM,QAAS,kBAAM1C,GAAcD,IAAtD,SAAmE,cAAC,IAAD,CAAiB4C,KAAMoB,WAE9F,cAAC,EAAD,CAAajE,UAAWA,O,YChCvBkE,EAAc,CACzBC,aAQF,SAAsBC,EAAKC,GAGzB,OAFAD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,GAAOA,IAVhDM,OAaF,WAGE,IAH4B,IAAdC,EAAa,uDAAJ,GACnBC,EAAM,GACNC,EAAW,iEACNC,EAAI,EAAGA,EAAIH,EAAQG,IAC1BF,GAAOC,EAASE,OAAOT,KAAKE,MAAMF,KAAKG,SAAWI,EAASF,SAE7D,OAAOC,GAlBPI,OAqBF,SAAgBC,EAAMC,GAEpB,OADAD,EAAOA,EAAKE,oBACLD,EAAIF,QAAO,SAAAI,GAChB,OAAOA,EAAM5G,KAAK2G,oBAAoB1B,SAASwB,IAC7CG,EAAMC,MAAMF,oBAAoB1B,SAASwB,IACzCG,EAAME,MAAMH,oBAAoB1B,SAASwB,OAzB7CM,KA6BF,SAAcL,GACZ,OAAOA,EAAIK,MAAK,SAACnI,EAAGoI,GAClB,OAAIpI,EAAEoB,KAAK2G,oBAAsBK,EAAEhH,KAAK2G,qBAC9B,EAEN/H,EAAEoB,KAAK2G,oBAAsBK,EAAEhH,KAAK2G,oBAC/B,EAEF,MApCTM,SAwCF,SAAkBC,GAAoB,IAChCC,EADkBC,EAAa,uDAAN,IAE7B,OAAO,WAAoB,IAAD,uBAANC,EAAM,yBAANA,EAAM,gBACxB,IAAMC,EAAQ,WACZC,aAAaJ,GACbD,EAAI,WAAJ,EAAQG,IAEVE,aAAaJ,GACbA,EAAUK,WAAWF,EAAOF,KA/C9BK,SAmDF,WACE,MAAO,CAAC,CAAE,IAAO,aAAc,MAAS,oBAAqB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,sEAAuE,KAAQ,qCAAsC,UAAa,cAAe,OAAU,CAAC,CAAE,IAAO,aAAc,KAAQ,eAAgB,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,gBAAiB,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,cAAe,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,cAAe,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,OAAQ,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,WAAY,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,oBAAqB,MAAS,YAAc,QAAW,GAAI,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,GAAI,WAAc,GAAI,OAAU,GAAI,YAAe,GAAI,SAAY,CAAC,CAAE,IAAO,aAAc,OAAU,QAAS,UAAa,cAAe,MAAS,QAAW,CAAE,IAAO,aAAc,MAAS,0BAA2B,KAAQ,oBAAqB,UAAa,cAAe,OAAU,GAAI,QAAW,GAAI,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,i5cAAk5c,WAAc,CAAC,CAAE,MAAS,YAAa,KAAQ,CAAC,CAAE,KAAQ,2CAA4C,WAAa,GAAS,CAAE,KAAQ,oCAAqC,WAAa,GAAS,CAAE,KAAQ,wCAAyC,WAAa,GAAS,CAAE,KAAQ,oCAAqC,WAAa,GAAS,CAAE,KAAQ,+BAAgC,WAAa,GAAS,CAAE,KAAQ,0BAA2B,WAAa,IAAU,MAAS,IAAM,OAAU,GAAI,YAAe,CAAC,CAAE,IAAO,aAAc,MAAS,GAAI,IAAO,i5cAAk5c,UAAa,gBAAkB,SAAY,IAAM,CAAE,IAAO,aAAc,MAAS,eAAgB,KAAQ,UAAW,UAAa,cAAe,OAAU,GAAI,QAAW,YAAe,SAAY,GAAI,QAAW,CAAC,CAAE,KAAQ,aAAc,SAAY,UAAW,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,kBAAqB,CAAE,KAAQ,cAAe,SAAY,UAAW,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,kBAAqB,CAAE,KAAQ,eAAgB,SAAY,SAAU,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,mBAAsB,kBAAoB,EAAO,MAAS,UAAW,WAAc,GAAI,OAAU,GAAI,YAAe,GAAI,SAAY,MAAS,CAAE,IAAO,aAAc,MAAS,cAAe,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,kBAAmB,KAAQ,GAAI,UAAa,cAAe,OAAU,GAAI,QAAW,YAAe,SAAY,GAAI,QAAW,CAAC,CAAE,KAAQ,eAAgB,SAAY,SAAU,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,gBAAkB,CAAE,IAAO,aAAc,MAAS,sBAAyB,kBAAoB,EAAO,MAAS,yGAA0G,WAAc,CAAC,CAAE,MAAS,WAAY,KAAQ,CAAC,CAAE,KAAQ,qBAAsB,WAAa,IAAS,MAAS,MAAQ,OAAU,cAAe,YAAe,CAAC,CAAE,IAAO,aAAc,IAAO,yGAA0G,UAAa,gBAAkB,SAAY,IAAM,CAAE,IAAO,aAAc,MAAS,gBAAiB,KAAQ,qBAAsB,UAAa,cAAe,OAAU,CAAC,CAAE,IAAO,aAAc,KAAQ,eAAgB,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,gBAAiB,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,cAAe,MAAS,YAAc,QAAW,GAAI,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,yGAA0G,WAAc,GAAI,OAAU,GAAI,YAAe,CAAC,CAAE,IAAO,aAAc,IAAO,yGAA0G,UAAa,gBAAkB,SAAY,MAAS,CAAE,IAAO,aAAc,MAAS,QAAS,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,mCAAoC,KAAQ,sCAAuC,UAAa,cAAe,OAAU,GAAI,QAAW,WAAe,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,yGAA0G,WAAc,GAAI,OAAU,GAAI,YAAe,GAAI,SAAY,CAAC,CAAE,IAAO,aAAc,OAAU,SAAU,UAAa,cAAe,MAAS,qBAAwB,CAAE,IAAO,aAAc,MAAS,kBAAmB,KAAQ,GAAI,UAAa,cAAe,OAAU,CAAC,CAAE,IAAO,aAAc,KAAQ,cAAe,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,WAAY,MAAS,YAAc,QAAW,YAAe,SAAY,GAAI,QAAW,CAAC,CAAE,KAAQ,cAAe,SAAY,UAAW,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,gBAAkB,CAAE,IAAO,aAAc,MAAS,qBAAwB,CAAE,KAAQ,aAAc,SAAY,UAAW,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,gBAAkB,CAAE,IAAO,aAAc,MAAS,sBAAyB,kBAAoB,EAAO,MAAS,GAAI,WAAc,CAAC,CAAE,MAAS,QAAS,KAAQ,CAAC,CAAE,KAAQ,gBAAiB,WAAa,IAAU,MAAS,IAAM,OAAU,cAAe,YAAe,GAAI,SAAY,IAAM,CAAE,IAAO,aAAc,MAAS,0BAA2B,KAAQ,OAAQ,UAAa,cAAe,OAAU,CAAC,CAAE,IAAO,aAAc,KAAQ,gBAAiB,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,cAAe,MAAS,WAAa,CAAE,IAAO,aAAc,KAAQ,OAAQ,MAAS,YAAc,QAAW,GAAI,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,yGAA0G,WAAc,GAAI,OAAU,GAAI,YAAe,CAAC,CAAE,IAAO,aAAc,IAAO,yGAA0G,UAAa,gBAAkB,SAAY,MAAS,CAAE,IAAO,aAAc,MAAS,eAAgB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,mDAAoD,KAAQ,GAAI,UAAa,cAAe,OAAU,GAAI,QAAW,YAAe,SAAY,GAAI,QAAW,CAAC,CAAE,KAAQ,cAAe,SAAY,UAAW,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,gBAAkB,CAAE,IAAO,aAAc,MAAS,mBAAqB,CAAE,IAAO,aAAc,MAAS,uDAA0D,kBAAoB,EAAO,MAAS,UAAW,WAAc,GAAI,OAAU,GAAI,YAAe,GAAI,SAAY,CAAC,CAAE,IAAO,aAAc,OAAU,UAAW,UAAa,cAAe,MAAS,6BAAgC,CAAE,IAAO,aAAc,MAAS,mBAAoB,KAAQ,GAAI,UAAa,cAAe,OAAU,GAAI,QAAW,GAAI,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,yGAA0G,WAAc,GAAI,OAAU,GAAI,YAAe,CAAC,CAAE,IAAO,aAAc,IAAO,yGAA0G,UAAa,gBAAkB,SAAY,IAAM,CAAE,IAAO,aAAc,MAAS,kCAAmC,KAAQ,0EAA2E,UAAa,cAAe,OAAU,CAAC,CAAE,IAAO,aAAc,KAAQ,cAAe,MAAS,YAAc,QAAW,YAAe,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,UAAW,WAAc,GAAI,OAAU,cAAe,YAAe,GAAI,SAAY,MAAS,CAAE,IAAO,aAAc,MAAS,KAAM,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,wBAAyB,KAAQ,GAAI,UAAa,cAAe,OAAU,CAAC,CAAE,IAAO,aAAc,KAAQ,oBAAqB,MAAS,YAAc,QAAW,YAAe,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,yGAA0G,WAAc,GAAI,OAAU,GAAI,YAAe,GAAI,SAAY,IAAM,CAAE,IAAO,aAAc,MAAS,+BAAgC,KAAQ,GAAI,UAAa,cAAe,OAAU,CAAC,CAAE,IAAO,aAAc,KAAQ,gBAAiB,MAAS,YAAc,QAAW,GAAI,SAAY,GAAI,QAAW,CAAC,CAAE,KAAQ,cAAe,SAAY,UAAW,SAAY,OAAQ,IAAO,uBAAwB,MAAS,CAAC,CAAE,IAAO,aAAc,MAAS,OAAS,CAAE,IAAO,aAAc,MAAS,gBAAkB,CAAE,IAAO,aAAc,MAAS,mBAAqB,CAAE,IAAO,aAAc,MAAS,oDAAsD,CAAE,IAAO,aAAc,MAAS,mCAAsC,kBAAoB,EAAO,MAAS,GAAI,WAAc,CAAC,CAAE,MAAS,QAAS,KAAQ,CAAC,CAAE,KAAQ,MAAO,WAAa,GAAS,CAAE,KAAQ,MAAO,WAAa,GAAS,CAAE,KAAQ,QAAS,WAAa,IAAS,MAAS,OAAS,CAAE,MAAS,cAAe,KAAQ,CAAC,CAAE,KAAQ,MAAO,WAAa,GAAS,CAAE,KAAQ,MAAO,WAAa,IAAS,MAAS,IAAM,CAAE,MAAS,SAAU,KAAQ,CAAC,CAAE,KAAQ,QAAS,WAAa,IAAS,MAAS,MAAQ,OAAU,GAAI,YAAe,GAAI,SAAY,IAAM,CAAE,IAAO,aAAc,MAAS,cAAe,KAAQ,GAAI,UAAa,cAAe,OAAU,GAAI,QAAW,GAAI,SAAY,GAAI,QAAW,GAAI,kBAAoB,EAAO,MAAS,yGAA0G,WAAc,GAAI,OAAU,GAAI,YAAe,GAAI,SAAY,MAAS,CAAE,IAAO,aAAc,MAAS,QAAS,MAAS,OCxD5kuC,IAAMnI,EAAM,SAGG,GACXK,M,2CACA+H,a,6CACAC,Y,6CACAC,U,6CACAC,cAyGJ,WACI,MAAO,CACHC,MAAO,GACPC,QAAS,GACTC,MAAO,CAAC,CAAEvI,IAAKiG,EAAYQ,SAAU4B,MAAO,mBAAoBlE,MAAO,KACvEqE,SAAU,GACVC,WAAY,GACZC,OAAQC,EACRC,OAAQC,EACRC,YAAa,KAjHjBC,aAqHJ,WACI,MAAO,CACH/I,IAAKiG,EAAYQ,SACjB4B,MAAO,GACPlE,MAAO,KAxHX6E,WA4EJ,SAAoBC,EAAcC,EAAcC,GAC5C,GAA8B,kBAAlBF,EAA4B,CACpC,IAAMG,EAAUF,EAAa/E,MAAMkF,WAAU,SAAAC,GAAC,OAAIA,EAAEtJ,MAAQiJ,EAAajJ,OACzEkJ,EAAa/E,MAAMoF,OAAOH,EAAS,EAAGH,QAEtCC,EAAa/E,MAAMoF,OAAON,EAAc,GAE5C,OAAOO,GAAYN,EAAcC,IAlFjCK,eACAC,aA0HJ,WACI,MAAO,CACHzJ,IAAKiG,EAAYQ,SACjB4B,MAAO,GACPqB,KAAM,GACNC,UAAWC,KAAKC,MAChBnB,OAAQ,GACRoB,QAAS,GACTtB,SAAU,GACVF,QAAS,GACTyB,kBAAkB,EAClBC,MAAO,GACPC,WAAY,GACZC,OAAQ,GACRC,YAAa,GACbC,SAAU,KAxIdC,eAgGJ,WACI,OAAOC,IA9FLzB,EAAY,CACd,oHACA,sHACA,qHACA,sHACA,mHACA,mHACA,uHACA,qHACA,sHACA,yHACA,yHACA,yHACA,mHACA,mHACA,yHACA,qIACA,qHACA,qHACA,wHACA,uHACA,sHACA,oHACA,sHACA,0HACA,0HACA,sHAEEF,EAAU,CAAC,CAAE,IAAO1C,EAAYQ,SAAU,KAAQ,eAAgB,MAAS,WAAa,CAAE,IAAOR,EAAYQ,SAAU,KAAQ,gBAAiB,MAAS,WAAa,CAAE,IAAOR,EAAYQ,SAAU,KAAQ,cAAe,MAAS,WAAa,CAAE,IAAOR,EAAYQ,SAAU,KAAQ,oBAAqB,MAAS,WAAa,CAAE,IAAOR,EAAYQ,SAAU,KAAQ,cAAe,MAAS,WAAa,CAAE,IAAOR,EAAYQ,SAAU,KAAQ,OAAQ,MAAS,WAAa,CAAE,IAAOR,EAAYQ,SAAU,KAAQ,WAAY,MAAS,YACjhB6D,EAAe,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,W,4CAQzH,sBAAAnL,EAAA,+EAEqBJ,EAAgBc,GAFrC,wEAIQL,QAAQC,IAAI,OAAZ,MAJR,yD,oEAQA,WAA4BK,GAA5B,SAAAX,EAAA,+EAEqBJ,EAAgBc,EAAMC,GAF3C,wEAIQN,QAAQC,IAAI,OAAZ,MAJR,yD,oEAQA,WAA2BK,GAA3B,SAAAX,EAAA,+EAEqBJ,EAAmBc,EAAMC,GAF9C,wEAIQN,QAAQC,IAAI,6BAAZ,MAJR,yD,oEAQA,WAAyB0H,GAAzB,SAAAhI,EAAA,mEAEYgI,EAAMnH,IAFlB,gCAEoCjB,EAAgBc,EAAMsH,EAAMnH,IAAKmH,GAFrE,+DAGqBpI,EAAiBc,EAAKsH,GAH3C,0EAKQ3H,QAAQC,IAAI,OAAZ,MALR,2D,sBAmBA,SAAS+J,GAAYN,EAAcC,GAC/B,GAA8B,kBAAlBD,EAA4B,CACpC,IAAMqB,EAAUpB,EAAcZ,MAAMc,WAAU,SAAAmB,GAAI,OAAIA,EAAKxK,MAAQkJ,EAAalJ,OAChFmJ,EAAcZ,MAAMgB,OAAOgB,EAAS,EAAGrB,QAEvCC,EAAcZ,MAAMgB,OAAOL,EAAc,GAG7C,OADkB,2BAAQC,GAAR,IAAuBZ,MAAM,YAAKY,EAAcZ,SCvG/D,SAASkC,GAAWC,GACzB,8CAAO,WAAMpJ,GAAN,eAAAnC,EAAA,sEACgBwL,EAAazK,MAAMwK,GADnC,OACCE,EADD,OAGLtJ,EADe,CAAEE,KAAM,aAAcoJ,WAFhC,2CAAP,sDAaK,SAASzC,GAAUhB,GACxB,8CAAO,WAAM7F,GAAN,eAAAnC,EAAA,sEACsBwL,EAAaxC,UAAUhB,GAD7C,cACC0D,EADD,OAEA1D,EAAMnH,IACNsB,EAAS,CAAEE,KAAM,eAAgBqJ,iBADtBvJ,EAAS,CAAEE,KAAM,YAAa2F,MAAO0D,IAFhD,kBAIEA,GAJF,2CAAP,sDAOK,SAASC,GAAaC,GAC3B,8CAAO,WAAMzJ,GAAN,eAAAnC,EAAA,yDACDgI,EAAQ,MACR4D,EAFC,gCAEsBJ,EAAa1C,aAAa8C,GAFhD,OAEQ5D,EAFR,cAGL7F,EAAS,CAAEE,KAAM,YAAa2F,UAHzB,2CAAP,sDAMK,SAAS6D,GAAYD,GAC1B,8CAAO,WAAMzJ,GAAN,eAAAnC,EAAA,sEACawL,EAAazC,YAAY6C,GADtC,UACCxL,EADD,+DAGL+B,EAAS,CAAEE,KAAM,eAAgBuJ,YAH5B,kBAIExL,EAAI0L,KAJN,2CAAP,sDAOK,SAASC,GAAiBzC,GAC/B,8CAAO,WAAMnH,GAAN,SAAAnC,EAAA,sEACCmC,EAAS,CAAEE,KAAM,oBAAqBiH,eADvC,2CAAP,sDAIK,SAAS0C,GAAkBC,GAChC,8CAAO,WAAM9J,GAAN,SAAAnC,EAAA,sEACCmC,EAAS,CAAEE,KAAM,iBAAkB4J,mBADpC,2CAAP,sDASK,SAASC,GAAoBC,GAClC,8CAAO,WAAMhK,GAAN,SAAAnC,EAAA,sEACCmC,EAAS,CAAEE,KAAM,sBAAuB8J,SADzC,2CAAP,sD,+DCpDWC,GAIb,WACI,IAAIC,EACED,EAAgB,CAClBE,MADkB,WAEdD,EAASE,KATqC,KAWlDC,GAJkB,SAIfC,EAAWC,GACLL,GAAQD,EAAcE,QAC3BD,EAAOG,GAAGC,EAAWC,IAEzBC,IARkB,SAQdF,GAAuB,IAAZC,EAAW,uDAAN,KACXL,GAAQD,EAAcE,QACtBI,EACAL,EAAOM,IAAIF,EAAWC,GADlBL,EAAOO,mBAAmBH,IAGvCI,KAbkB,SAabJ,EAAW3M,GACPuM,GAAQD,EAAcE,QAC3BD,EAAOQ,KAAKJ,EAAW3M,IAE3BgN,UAjBkB,WAkBdT,EAAS,OAGjB,OAAOD,EA3BkBW,GAE7B7G,OAAOkG,cAAgBA,GCQRY,4BAAWC,IAE1B,SAASA,GAAYC,EAAOxK,GACxB,IAAQ2I,EAAwB6B,EAAxB7B,KAAM8B,EAAkBD,EAAlBC,cACRhL,EAAWY,cACjB,EAA0CI,cAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAC1B8J,EAAYpK,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAaD,aAC1D,EAA0B7J,mBAAS8H,EAAKrG,OAAxC,mBAAOA,EAAP,KAAcsI,EAAd,KACA,EAAkC/J,mBAAS,MAA3C,mBAAOgK,EAAP,KAAkBC,EAAlB,KACA,EAAsCjK,oBAAS,GAA/C,mBAAOkK,EAAP,KAAoBC,EAApB,KACA,EAAsCnK,oBAAS,GAA/C,mBAAOoK,EAAP,KAAoBC,EAApB,KACIC,EAAUrC,EAAalB,eAG3BtG,qBAAU,WACN0J,GAAgBD,KACjB,CAACL,IAEJ,IAAMU,EAAoB,SAACpL,EAAKC,GAC5BqB,qBACI,WACI,IAAMC,EAAW,SAACC,GACTxB,EAAIyB,UAAWzB,EAAIyB,QAAQC,SAASF,EAAMG,SAG/C1B,EAAQuB,IAIZ,OAFAI,SAASC,iBAAiB,YAAaN,GACvCK,SAASC,iBAAiB,aAAcN,GACjC,WACHK,SAASE,oBAAoB,YAAaP,GAC1CK,SAASE,oBAAoB,aAAcP,MAGnD,CAACvB,EAAKC,KAIRoL,EAAahK,mBACnB+J,EAAkBC,GAAY,kBAAMP,GAAa,MACjD,IAAMQ,EAAejK,mBACrB+J,EAAkBE,GAAc,kBAAMJ,GAAe,MAErDK,8BAAoBvL,GAAK,iBAAO,CACtBwL,eADsB,SACP9N,GAAM,OAAD,mIACd+N,EAAwB/N,EAAxB+N,OAAQC,EAAgBhO,EAAhBgO,YACV/C,EAAO+B,EAAUhE,MAAMiF,MAAK,SAAAC,GAAC,OAAIA,EAAEzN,MAAQsN,EAAOI,eAFlC,iDAIlBJ,EAAOI,cAAgBH,EAAYG,aAC7BC,EAAOnD,EACP3E,EAAK0G,EAAUhE,MAAMiF,MAAK,SAAAC,GAAC,OAAIA,EAAEzN,MAAQuN,EAAYG,eAFX,EAG9BC,EAAKxJ,MAAMoF,OAAO+D,EAAOM,MAAO,GAHF,mBAGzCC,EAHyC,KAIhDhI,EAAG1B,MAAMoF,OAAOgE,EAAYK,MAAO,EAAGC,GAChB,CAACF,EAAM9H,GACfiI,SAAQ,SAAAL,GAAC,OAAI9C,EAAanB,YAAYiE,EAAGlB,MACvDjL,EAAS6G,GAAUoE,MAEjB,EACgB/B,EAAKrG,MAAMoF,OAAO+D,EAAOM,MAAO,GADjD,mBACMC,EADN,KAEDrD,EAAKrG,MAAMoF,OAAOgE,EAAYK,MAAO,EAAGC,GAClCE,EAAcpD,EAAanB,YAAYgB,EAAM+B,GACnDjL,EAAS6G,GAAU4F,KAjBD,iDAoB1B,IAEJ,IAAMC,EAAe,SAAA/O,GACjB,GAAKA,EAAKgP,UAAV,CACAzD,EAAKnC,MAAQpJ,EAAKgP,UAAUC,QAAQ,OAAQ,IAC5C,IAAM/E,EAAgBwB,EAAanB,YAAYgB,EAAM+B,GACrDhB,GAAcS,KAAK,sBAAuBxB,GAC1Ce,GAAcS,KAAK,4BAA6BxB,GAChDqC,GAAe,GACfvL,EAAS6G,GAAUgB,MASjBgF,EAAe,SAACC,EAAIC,GACtBD,EAAGE,kBACED,EAAKnE,OACLmE,EAAKnE,OAAS,GADDmE,EAAKnE,OAASN,KAAKC,MAErC0B,GAAcS,KAAK,sBAAuB,CAAExB,OAAM6D,SAClD,IAAME,EAAW5D,EAAa3B,WAAWqF,EAAM7D,EAAM+B,GACrDjL,EAAS6G,GAAUoG,KAGjBC,EAAO,uCAAG,WAAMvP,GAAN,iBAAAE,EAAA,sDACZ6N,EAAQ3E,MAAQpJ,EAAK+N,QACrB7I,EAAMsK,KAAKzB,GACXP,EAAStI,GACHoK,EAAW5D,EAAa3B,WAAWgE,EAASxC,EAAM+B,GACxDjL,EAAS6G,GAAUoG,IACnB5B,GAAcD,GACRgC,EAAY,CAAEL,KAAMrB,EAASxC,KAAMA,EAAKxK,KAC9CuL,GAAcS,KAAK,mBAAoB0C,GACvCpC,EAAcqC,YAAY,QAAS,QAAS,OAAQnE,EAAKnC,OACzD2E,EAAUrC,EAAalB,eACvBhH,IAXY,4CAAH,sDAcPmM,EAAyB,SAACP,GAC5B,OAAOA,EAAKnE,OAAS,UAAcmE,EAAKvE,QAAUF,KAAKC,MAAS,UAAY,WAG1EgF,EAAe,SAACR,GAClB,OAAOA,EAAKnE,OAAS,QAAYmE,EAAKvE,QAAUF,KAAKC,MAAS,UAAY,SAS9E,OACI,qBAAKxF,UAAU,aAAaM,QAAS,kBAAM2H,EAAcwC,YAAYtE,IAArE,SACI,cAAC,KAAD,CAAWkD,YAAalD,EAAKxK,IAAoBwB,KAAK,OAAtD,SACK,SAACuN,GACE,OAAQ,8CAAK1K,UAAU,iBAAoB0K,EAASC,gBAA5C,IAA4DnN,IAAKkN,EAASE,SAA1E,UACJ,sBAAK5K,UAAU,QAAf,UACI,sBAAM6K,OAAQ1M,EAAawL,GAA3B,SACI,+CAAOxM,KAAK,OAAO2N,UAAQ,EAACC,UAAW,SAACC,GAAsB,UAAVA,EAAEC,KAAiBD,EAAEE,iBAAsBF,EAAEC,MAA4B/M,EAAS,cAAtI,IAAoJiN,aAAchF,EAAKnC,MAAOnD,YAAY,YAAYD,aAAa,WAEvN,qBAAKN,QAAS,WACVoI,GAAe,GACfhF,YAAW,kBAAMgF,GAAe,KAAQ,MACzC1I,UAAU,cAHb,SAG2B,4CAE/B,qBAAKA,UAAU,aAAaxC,IAAKsL,EAAc1I,MAAO,CAAEC,SAAUoI,EAAc,QAAU,IAAO2C,UAAW3C,EAAc,QAAU,KAApI,SACI,wBAAQnI,QAAS2H,EAAcoD,WAA/B,2BAEJ,qBAAIrL,UAAU,gBAAgBI,MAAO,CAAEgL,UAtBnD/C,GACAI,EADkB,OAEf,QAoBS,UACK3I,EAAMwL,KAAI,SAACtB,EAAMuB,GACd,OACI,cAAC,KAAD,CAA0BC,YAAaxB,EAAKrO,IAAK4N,MAAOgC,EAAxD,SACK,SAACb,EAAUe,GACR,OAAQ,yDAAInL,QAAS,WACjB2H,EAAcyD,YAAY1B,GAC1B/B,EAAc0D,cAAc3B,EAAK3F,QACjC4D,EAAc2D,eAAe5B,EAAK/F,WAEjByG,EAASmB,gBAAoBnB,EAASoB,iBALnD,IAKoEtO,IAAKkN,EAASE,SAAUxK,MAAK,aAAIsC,OAAQ+I,EAASM,WAAa,kBAAoB,oBAAuBrB,EAASmB,eAAezL,OAASJ,UAAU,YALzN,UAMDgK,EAAKrE,MAAiBqE,EAAKrE,MAAMxE,SAAS,KAAQ,qBAAKnB,UAAU,mBAAmBI,MAAO,CAAEgB,gBAAgB,GAAD,OAAK4I,EAAKrE,UAAqB,qBAAK3F,UAAU,iBAAiBI,MAAO,CAAE4L,gBAAgB,OAAD,OAAShC,EAAKrE,MAAd,QAArL,KACjB,qBAAK3F,UAAU,mCAAf,SAEKgK,EAAK3F,OAAOiH,KAAI,SAACW,EAAOV,GAAR,OACb,uBAAiBvL,UAAU,8BAA8BI,MAAO6H,EAAciE,YAAc,CAAE7L,SAAU,OAAQ+K,UAAW,OAAQhK,gBAAgB,GAAD,OAAK6K,EAAME,QAAY,CAAE9L,SAAU,OAAQ+K,UAAW,MAAOhK,gBAAgB,GAAD,OAAK6K,EAAME,QAAW7L,QAAS,SAACyJ,GAAD,OA3ExR,SAACA,GACtBA,EAAGE,kBACHhC,EAAcmE,gBAAgBnE,EAAciE,aAyEyQG,CAAiBtC,IAAtR,SAA2R,sBAAM3J,MAAO,CAAEkM,QAASrE,EAAciE,YAAc,IAAM,IAAKK,WAAY,KAAMlM,SAAU4H,EAAciE,YAAc,OAAS,IAAKd,UAAWnD,EAAciE,YAAc,OAAS,KAArL,SAA6LD,EAAM5G,QAAldkG,QAGpB,+BAAOvB,EAAKhG,QACZ,0BAAShE,UAAU,mBAAnB,UACI,0BAASA,UAAU,sBAAnB,UACMgK,EAAKvE,QAAkBuE,EAAKnE,OAI1B,sBAAK7F,UAAU,sBAAsBI,MAAO,CAAE+L,MAAO3B,EAAaR,GAAO5I,gBAAiBmJ,EAAuBP,IAAS1J,QAAS,SAACyJ,GAAD,OAAQD,EAAaC,EAAIC,IAA5J,UACI,cAAC,IAAD,CAAiBhK,UAAU,0BAA0BO,KAAMiM,MAAW,cAAC,IAAD,CAAiBxM,UAAU,iCAAiCO,KAAMkM,MAAiB,cAAC,KAAD,CAAQC,OAAO,QAAQC,WAAS,EAAhC,SAAkC3C,EAAKvE,aAJpM,sBAAKzF,UAAU,sBAAsBI,MAAO,CAAE+L,MAAO3B,EAAaR,GAAO5I,gBAAiBmJ,EAAuBP,IAAS1J,QAAS,SAACyJ,GAAD,OAAQD,EAAaC,EAAIC,IAA5J,UACI,cAAC,IAAD,CAAiBhK,UAAU,0BAA0BO,KAAMiM,MAAW,cAAC,IAAD,CAAiBxM,UAAU,yBAAyBO,KAAMqM,MAAY,cAAC,KAAD,CAAQF,OAAO,QAAQC,WAAS,EAAhC,SAAkC3C,EAAKvE,aAF1K,KAOfuE,EAAKlE,YAAYzD,OAAgB,gCAAK,cAAC,IAAD,CAAiB9B,KAAMsM,MAA5B,IAA6C7C,EAAKlE,YAAYzD,OAA9D,OAAP,KAC1B2H,EAAK3E,KAAc,8BAAK,cAAC,IAAD,CAAiB9E,KAAMuM,QAAnC,KACZ9C,EAAKjE,SAAS1D,OAAgB,gCAAK,cAAC,IAAD,CAAiB9B,KAAMwM,MAAe/C,EAAKjE,SAAS1D,UAAhE,MACtB2H,EAAKpE,WAAWvD,QAAW2H,EAAKpE,WAAWoH,QAAO,SAACC,EAAKC,GAAN,OAAoBA,EAAUC,KAAK9K,OAAS4K,IAAK,IAAM,EAAM,KAC9G,kCAAI,cAAC,IAAD,CAAiB1M,KAAM6M,MAAWpD,EAAKpE,WAAWoH,QAAO,SAACK,EAAUH,GACpE,OAAOG,EAAWH,EAAUC,KAAKH,QAAO,SAACC,EAAKK,GAAN,OAAqBA,EAAWC,UAAYN,IAAK,KAC1F,GAFH,IAGKjD,EAAKpE,WAAWoH,QAAO,SAACC,EAAKC,GAAN,OAAoBA,EAAUC,KAAK9K,OAAS4K,IAAK,SAGnFjD,EAAK/F,QAAQ5B,OAAgB,qBAAKrC,UAAU,sBAAf,SAC1BgK,EAAK/F,QAAQqH,KAAI,SAACkC,EAAQjC,GAAT,OAAiB,cAAC,IAAD,CAAkBrP,KAAMsR,EAAOtR,KAAMuE,KAAK,KAAKC,OAAO,GAAzC6K,QAD5B,WA5BzBvB,EAAKrO,OAPJqO,EAAKrO,QA0C5B+O,EAAS7J,YACT6J,EAAS7J,gBAEXwH,GAA4B,uBAAflC,EAAKnC,OAAmC,yBAAQhE,UAAU,eAAeM,QAAS,kBAAMgI,GAAcD,IAA9D,UAA0E,cAAC,IAAD,CAAiB9H,KAAMkN,MAAjG,eACvDpF,GAAa,uBAAM7K,IAAKqL,EAAY7I,UAAU,qBAAqBW,SAAUxC,EAAagM,GAA7E,UACV,+CAAOhN,KAAK,OAAO1B,GAAG,QAAQS,KAAK,QAAQ0E,aAAa,MAAMkK,UAAQ,GAAK5M,EAAS,YAApF,IAAgG2C,YAAY,8BAA8BsK,aAAcxC,EAAQ3E,SAChK,sBAAKhE,UAAU,gBAAf,UACI,8CACA,wBAAQM,QAAS,kBAAMgI,GAAcD,IAAYrI,UAAU,iBAA3D,SAA4E,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMC,oBApE/F2F,EAAKxK,O,cC/HjD,SAAS+R,GAAe1F,GAC3B,IAAQ2F,EAA8B3F,EAA9B2F,eAAgBzF,EAAcF,EAAdE,UAClBjL,EAAWY,cACjB,EAAmCI,cAA3BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAUlB,OACI,sBAAK6B,UAAU,mBAAf,UACI,sBAAKA,UAAU,2BAAf,UACI,wBAAQM,QAAS,kBAAM0H,EAAM4F,mBAAkB,IAA/C,SAAuD,cAAC,IAAD,CAAiBrN,KAAMsN,QAC9E,4CACA,wBAAQ7N,UAAU,iBAAiBM,QAAS,kBAAM0H,EAAM8F,eAAc,IAAtE,SAA8E,cAAC,IAAD,CAAiB9N,UAAU,KAAKO,KAAMC,WAExH,uBAAMG,SAAUxC,GAAa,SAAAjD,GAAG,OAdbN,EAcmCM,EAb1DyS,EAAetI,KAAOzK,EAAKmT,UAC3BJ,EAAexB,MAAQvR,EAAKoT,WAC5BhG,EAAM8F,cAAcH,GACpB1Q,EAAS6G,GAAU,eAAKoE,UACxBF,EAAM4F,mBAAkB,GALF,IAAChT,KAcnB,UACI,sCACA,+CAAOuC,KAAK,OAAOjB,KAAK,YAAY0E,aAAa,MAAMuK,aAAcwC,EAAetI,MAAUnH,EAAS,cAAvG,IAAqH6M,UAAW,SAAAC,GAAqB,UAAVA,EAAEC,KAAiBD,EAAEE,qBAChK,uCACA,mCAAO/N,KAAK,QAAQjB,KAAK,aAAa8D,UAAU,aAAamL,aAAcwC,EAAexB,OAAWjO,EAAS,gBAC9G,gD,OCzBT,SAAS+P,GAAWjG,GACvB,MAA4C3J,mBAAS,MAArD,mBAAOsP,EAAP,KAAuBC,EAAvB,KACM1F,EAAYpK,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAaD,aACpD7D,EAAS6D,EAAU7D,OAWzB,OACI,oCACK,sBAAKrE,UAAU,cAAcI,MAAQuN,EAAyC,CAAEtN,SAAU,EAAG6N,OAAQ,OAAQC,WAAY,WAAnE,CAAE9N,SAAU,SAAlE,UACG,sBAAKL,UAAU,eAAf,UACI,wCACA,mBAAGM,QAAS,kBAAM0H,EAAM8F,eAAc,IAAtC,SAA8C,cAAC,IAAD,CAAiB9N,UAAU,KAAKO,KAAMC,WAExF,oBAAIR,UAAU,mBAAd,SACKqE,EAAOiH,KAAI,SAACW,EAAOV,GAChB,OAAO,qBAAIjL,QAAS,kBAlBnB6L,EAkBqCF,OAjBtDjE,EAAMoG,SAASjC,GADC,IAACA,GAkBM,UACH,sBAAKnM,UAAU,gBAAgBI,MAAO,CAAEgB,gBAAgB,GAAD,OAAK6K,EAAME,QAAlE,UACI,4BAAIF,EAAM5G,OACV,+BAAQ2C,EAAMqG,SAAShK,OAAO8E,MAAK,SAACmF,GAAD,OAAeA,EAAUnC,QAAUF,EAAME,SAAS,cAAC,IAAD,CAAiBnM,UAAU,KAAKO,KAAMgO,MAAoB,UAEnJ,wBAAQvO,UAAU,iBAAiBM,QAAS,SAACyJ,GAAD,OAnBlD,SAACA,EAAIkC,GACnBlC,EAAGE,kBACH2D,EAAkB3B,GAiBsDuC,CAAUzE,EAAIkC,IAAlE,SAA0E,cAAC,IAAD,CAAiB1L,KAAMkO,UALlDlD,WAU9DoC,GAAkB,qBAAKrN,QAAS,SAACyJ,GAAD,OAAQA,EAAGE,mBAAmB7J,MAAO,CAAEiB,SAAU,WAAYqN,MAAO,GAAKlR,IAAKwK,EAAM2G,aAAlG,SAAgH,cAAC,GAAD,CAAgBb,cAAe9F,EAAM8F,cAAe5F,UAAWA,EAAWyF,eAAgBA,EAAgBC,kBAAmBA,EAAmBQ,SAAUpG,EAAMoG,gB,WCxChS,OAA0B,yCCUlC,SAASQ,GAAY5G,GACxB,MAAmC/J,cAA3BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aACZ+J,EAAYpK,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAaD,aAC1D,EAA0C7J,mBAAS6J,EAAUjE,SAA7D,mBAAO4K,EAAP,KAAsBC,EAAtB,KAoBA,OANAhQ,qBAAU,WACNoI,GAAcI,GAAG,gCAAiC,SAAAkG,IALvB,SAACA,GAC5BxF,EAAM+G,gBAAgBvB,GAKlBwB,CAAuBxB,SAK3B,sBAAKxN,UAAU,eAAf,UACI,sBAAKA,UAAU,eAAf,UACI,yCACA,mBAAGM,QAAS,kBAAM0H,EAAMiH,gBAAe,IAAvC,SAA+C,cAAC,IAAD,CAAiBjP,UAAU,KAAKO,KAAMC,YAEvFwH,EAAMkH,mBAAqB,qCAAE,sBAAMC,SAAUhR,GAxBhC,SAAAvD,GACnB,IAAMwU,EAAQlH,EAAUjE,QAAQvB,QAAO,SAAAhH,GACnC,OAAOA,EAAKQ,KAAKmT,cAAclO,SAASvG,EAAK0U,aAAaD,kBAEzDD,EAAM/M,QAAQ+M,EAAMhF,KAAK,CAAEzO,IAAK,aAAcO,KAAM,sBACzD4S,EAAiBM,MAmBkB,SAC3B,+CAAOxO,aAAa,MAAMmK,UAAW,SAAAC,GAAqB,UAAVA,EAAEC,KAAiBD,EAAEE,mBAAwBhN,EAAS,iBAAtG,IAAuHf,KAAK,OAAO0D,YAAY,yBAE/I,wCACA,oBAAIb,UAAU,mBAAd,SACK6O,EAAcvD,KAAI,SAAAkC,GAAM,MAAmB,eAAfA,EAAO7R,IAAuB,qBAAI2E,QAAS,kBAAM0H,EAAM+G,gBAAgBvB,EAAO7R,MAAuBqE,UAAU,eAAjF,UACvD,cAAC,IAAD,CAAyB9D,KAAMsR,EAAOtR,KAAMuE,KAAK,KAAKC,OAAO,GAAhD8M,EAAO7R,KACpB,+BAAO6R,EAAOtR,OACd,sBAAM8D,UAAU,cAAhB,SAAgCgI,EAAMuH,YAAYpG,MAAK,SAACqG,GAAD,OAAgBA,EAAW7T,MAAQ6R,EAAO7R,OAAO,cAAC,IAAD,CAAiB4E,KAAMgO,IAAvB,eAA4D,SAHlDf,EAAO7R,KAIzH,oBAAIqE,UAAU,eAAd,SAA8C,+BAAOwN,EAAOtR,QAA1BsR,EAAO7R,aAGpDqM,EAAMkH,mBAAqB,qBAAKlP,UAAU,sBAAf,SAAqC,qBAAKC,IAAKwP,GAAatP,IAAI,gB,OC9CjG,SAASuP,GAAe1H,GAC3B,MAAmC/J,cAA3BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aASlB,OACI,sBAAK6B,UAAU,kBAAf,UACI,sBAAKA,UAAU,eAAf,UACI,+CACA,mBAAGA,UAAU,iBAAiBM,QAAS,kBAAM0H,EAAM2H,mBAAkB,IAArE,SAA6E,cAAC,IAAD,CAAiB3P,UAAU,KAAKO,KAAMC,WAEnH,wCACJ,uBAAMG,SAAUxC,GAdP,SAAAvD,GACbA,EAAKoJ,MAAMpJ,EAAKoJ,MAAM6F,QAAQ,OAAQ,OACtC,IAAM+F,EAAqB,CAAE5L,MAAOpJ,EAAKoJ,MAAOmJ,KAAM,GAAI0C,MAAO,GACjE7H,EAAM8H,gBAAgBF,GACtB5H,EAAM2H,mBAAkB,MAUpB,UACI,+CAAOxS,KAAK,OAAO0D,YAAY,kBAAkBD,aAAa,MAAMnF,GAAG,QAAQS,KAAK,SAAagC,EAAS,UAA1G,IAAoHiN,aAAa,MACjI,yD,sECZV4E,GAAuBC,aAAe,CACxCC,UAAW,CACPC,yBAA0B,CACtBC,aAAc,CACV/O,gBAAiB,UACjB+K,MAAO,YAGfiE,cAAe,CACXC,IAAK,CACDlE,MAAOmE,KAAUC,MAErBC,YAAa,CACTrE,MAAO,kBACP/K,gBAAiB,oBAErBqP,YAAa,CACTtE,MAAOmE,KAAU,MAErBI,UAAW,CACPtP,gBAAiB,SAErBnC,QAAS,CACLkN,MAAO,kBACP+B,OAAQ,iCAKjB,SAASyC,GAAa3I,GAEzB,IAAM4I,EAAYrL,KAAKC,MAAQ,OAE/B,GADwB,IAAID,KAAKA,KAAKC,MAAQ,QACNqL,IAAMxS,SAASuS,IAAvD,mBAAOE,EAAP,KAAqBC,EAArB,KAOA,OACI,sBAAK/Q,UAAU,iBAAf,UACI,0BAASA,UAAU,eAAnB,UACI,0CACA,mBAAGA,UAAU,iBAAiBM,QAAS,kBAAM0H,EAAMgJ,iBAAgB,IAAnE,SAA2E,cAAC,IAAD,CAAiBhR,UAAU,KAAKO,KAAMC,WAErH,uBAAMG,SAXC,WACX,IAAIsQ,EAAkB1L,KAAK3I,MAAMkU,GACjC9I,EAAMkJ,WAAWD,GACjBjJ,EAAMgJ,iBAAgB,IAQlB,UACI,cAACG,GAAA,EAAD,CAAeC,MAAOrB,GAAtB,SACI,cAAC,KAAD,CAAyBsB,MAAOC,KAAhC,SACI,cAAC,KAAD,CACIC,gBAAc,EACdC,QAAQ,SACR9E,OAAO,aACP+E,OAAO,SACPhW,GAAG,qBACHwQ,MAAM,kBACNyF,MAAOZ,EACP3B,SAAU,SAACwC,GAAD,OAAUZ,EAAgBY,IACpCC,oBAAqB,CAAE,aAAc,qBAIjD,qBAAK5R,UAAU,UAAf,SACI,kD,OCpEb,SAAS6R,GAAc7J,GAC1B,MAAkC3J,mBAAS,IAA3C,mBAAOyT,EAAP,KAAkBC,EAAlB,KACA,EAAgC1T,oBAAS,GAAzC,mBAAO2T,EAAP,KAAiBC,EAAjB,KACA,EAAwB5T,oBAAS,GAAjC,mBAAO6T,EAAP,KAAaC,EAAb,KACA,EAA0B9T,mBAAS,QAAnC,mBAAO8N,EAAP,KAAciG,EAAd,KACA,EAA8C/T,mBAAS,QAAvD,mBAAO+C,EAAP,KAAwBiR,EAAxB,KACA,EAA0BhU,mBAAS,IAAnC,mBAAO2F,EAAP,KAAcsO,EAAd,KACA,EAAkCjU,mBAAS,GAA3C,mBAAOkU,EAAP,KAAkBC,EAAlB,KACMC,EAAY5T,iBAAO,MACzB,EAA0CZ,cAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAEjBsU,EAAQ,EAAcC,EAAQ,EAEvCC,EAAoB,SAAC5H,EAAG9P,GAC1B,IAAI2X,EACEC,EAASL,EAAUxT,QACnB8T,EAAMD,EAAOE,WAAW,MAC9Bf,GAAY,GACA,SAAR/W,IACAiX,GAAQ,GACAnH,EAAEiI,QACFjI,EAAEkI,QACVR,EAAQ1H,EAAEiI,QAAUH,EAAOK,wBAAwBC,KACnDT,EAAQ3H,EAAEkI,QAAUJ,EAAOK,wBAAwB7R,IACnDuR,EAAc,CAAEQ,EAAGX,EAAOY,EAAGX,GAC7BZ,EAAa,GAAD,mBAAKD,GAAL,CAAgBe,KACxBb,IACAe,EAAIQ,YACJR,EAAIS,UAAYpS,EAChB2R,EAAIU,SAASf,EAAOC,EAAO,EAAG,GAC9BI,EAAIW,YACJzB,GAAY,KAGR,OAAR/W,GAAwB,QAARA,GAChBiX,GAAQ,GAEA,SAARjX,GACIgX,IACQQ,EACAC,EACRD,EAAQ1H,EAAEiI,QAAUH,EAAOK,wBAAwBC,KACnDT,EAAQ3H,EAAEkI,QAAUJ,EAAOK,wBAAwB7R,IACnDuR,EAAc,CAAEQ,EAAGX,EAAOY,EAAGX,GAC7BZ,EAAa,GAAD,mBAAKD,GAAL,CAAgBe,KAC5Bc,EAAKZ,KAKXY,EAAO,SAACZ,GACVA,EAAIQ,YACJR,EAAIa,OAAO9B,EAAUA,EAAUzP,OAAS,GAAGgR,EAAGvB,EAAUA,EAAUzP,OAAS,GAAGiR,GAC9EP,EAAIc,OAAOnB,EAAOC,GAClBI,EAAIe,YAAc3H,EAClB4G,EAAIgB,UAAYxB,EAChBQ,EAAIiB,SACJjB,EAAIW,aAwCR,OACI,sBAAK1T,UAAU,kBAAf,UACI,0BAASA,UAAU,eAAnB,UACI,2CACA,mBAAGA,UAAU,iBAAiBM,QAAS,kBAAM0H,EAAMiM,kBAAiB,IAApE,SAA4E,cAAC,IAAD,CAAiBjU,UAAU,KAAKO,KAAMC,WAEtH,yBAASR,UAAU,uBAAnB,SACI,sBAAKA,UAAU,mBAAf,UACI,uBAAMmP,SAAUhR,GAZX,SAACjD,GAClBoX,EAASpX,EAAI8I,UAWD,UACI,4CACA,+CAAOnD,YAAY,aAAa1D,KAAK,OAAOyD,aAAa,MAAMnF,GAAG,eAAeS,KAAK,gBAAoBgC,EAAS,UAAnH,IAA6HiN,aAAa,GAAGJ,UAAW,SAAAC,GAAqB,UAAVA,EAAEC,KAAiBD,EAAEE,wBAE5L,wBAAQ1N,IAAKiV,EAAW/D,MAAM,QAAQwF,OAAO,QAAQC,YAAa,SAAAjZ,GAAG,OAAI0X,EAAkB1X,EAAK,SAASkZ,YAAa,SAAAlZ,GAAG,OAAI0X,EAAkB1X,EAAK,SAASmZ,WAAY,SAAAnZ,GAAG,OAAI0X,EAAkB1X,EAAK,QAAQoZ,UAAW,SAAApZ,GAAG,OAAI0X,EAAkB1X,EAAK,SACxP,uBAAM8E,UAAU,gBAAgBmP,SAAUhR,GAvBnC,SAACjD,GACpBkX,EAASlX,EAAIqZ,YACb/B,EAAatX,EAAIqX,WACbrX,EAAIsZ,uBAAyBpT,GAXd,SAACqT,GACpB,IACM1B,EADSN,EAAUxT,QACN+T,WAAW,MAC9BD,EAAIS,UAAYpS,EAChB2R,EAAIU,SAAS,EAAG,EAAG,IAAK,KACxBpB,EAAmBoC,GAM+BC,CAAexZ,EAAIsZ,yBAoBzD,UACI,gCACI,wBAAOG,QAAQ,cAAf,UAA6B,cAAC,IAAD,CAAiB3U,UAAU,KAAKO,KAAMqU,MAAnE,SACI,+CAAOzX,KAAK,QAAQ1B,GAAG,cAAcS,KAAK,eAAmBgC,EAAS,eAAtE,IAAqFiN,aAAcgB,QAEvG,wBAAOwI,QAAQ,wBAAf,UAAuC,cAAC,IAAD,CAAiB3U,UAAU,KAAKO,KAAMsU,MAA7E,oBACI,+CAAO1X,KAAK,QAAQ1B,GAAG,wBAAwBS,KAAK,yBAA6BgC,EAAS,yBAA1F,IAAmHiN,aAAc,gBAGzI,uBAAOwJ,QAAQ,aAAf,kBACA,+CAAOxX,KAAK,SAAS1B,GAAG,aAAaS,KAAK,cAAkBgC,EAAS,cAArE,IAAmFiN,aAAcoH,QAErG,sBAAKvS,UAAU,cAAf,UACI,wBAAQM,QA/DR,WAChByR,EAAa,IACEU,EAAUxT,QACN+T,WAAW,MAC1B8B,UAAU,EAAG,EAAG9T,OAAO+T,YAAa/T,OAAOgU,YAC/C3C,EAAmB,SA0DH,mBACA,wBAAQ/R,QAxDT,WACf,IACI2U,EADWxC,EAAUxT,QACJiW,YACfC,EAAS,CAAExZ,IAAKiG,EAAYQ,SAAU4B,MAAOA,GAAS,GAAI/D,IAAKgV,GACrE9Z,QAAQC,IAAI,UAAW+Z,GACvBnN,EAAMqG,SAASvI,YAAYsE,KAAK+K,GAChCnN,EAAM7C,YAAY6C,EAAMqG,UACxBjQ,EAAM,CAAE4F,MAAO,KACfgE,EAAMiM,kBAAiB,IAgDP,6B,sCC7HjB,SAASmB,GAAT,GAAqE,IAA/CjY,EAA8C,EAA9CA,KAAMmF,EAAwC,EAAxCA,IAAK+L,EAAmC,EAAnCA,SAAUgH,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,QACtDrY,EAAWY,cACXqK,EAAYpK,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAaD,aAsB1D,OACI,yBAASlI,UAAU,uBAAnB,SACI,cAAC,IAAD,CACIuV,QAAS,CAAC,QAAS,SAAU,MAAO,UAAW,aAC/CC,WAAY,CAAEC,cAAe,kBAAmBC,kBAAmB,oCACnEC,aAAc,QACdC,UAAW,YACXC,aAAc,WACdC,WAAYxT,GAAO,cACnBlC,MAAO,CACH+L,MAAO,UACP+B,OAAQ,OACRQ,MAAO,OACPwF,OAAQ,OACR9S,gBAAiB,UACjB2U,aAAc,MACdC,QAAS,GAEbC,OAAQ,UACRC,UAvCK,SAAChb,GACd,IAAIia,EACS,UAAThY,GACAkR,EAAS1I,MAAQzK,EAAIib,KAAKC,WAC1Bd,EAAQnQ,YAAYkJ,IAEN,eAATlR,GACL+K,EAAU3D,OAAO8R,QAAQnb,EAAIib,KAAKC,YAClCf,EAAanN,EAAU3D,QACvBtH,EAAS6G,GAAUoE,IACnBjL,EAAS6J,GAAkB5L,EAAIib,KAAKC,eAGpCjB,EAAS,CAAExZ,IAAKiG,EAAYQ,SAAU4B,MAAO9I,EAAIib,KAAKG,kBAAmBrW,IAAK/E,EAAIib,KAAKC,WAAY9Q,UAAWC,KAAKC,OACnH6I,EAASvI,YAAYsE,KAAK+K,GAC1BG,EAAQnQ,YAAYkJ,IAExBpR,EAAS+J,IAAoB,KAuBrBuP,UAAW,SAAAC,GAAG,OAAIrb,QAAQC,IAAIob,IAC9BC,SAAS,EACTC,eAAgB,SAChBC,MAAO,uCACPC,cAAc,EACdC,iBAAiB,EACjBC,OAAQ,gBACRC,QAAS,mBACTC,YAAa,mBACbvc,iBAAiB,MCjD1B,SAASwc,GAAWjP,GACvB,IAAM/K,EAAWY,cACXqZ,EAAc5Q,EAAaN,iBAEjC,OACI,0BAAShG,UAAU,cAAcI,MAAQ4H,EAAMqG,SAAS1I,MAA2B,KAAnB,CAAErE,IAAK,SAAvE,UACI,sBAAKtB,UAAU,eAAf,UACI,uCACA,mBAAGA,UAAU,iBAAiBM,QAAS,kBAAM0H,EAAMmP,eAAc,IAAjE,SAAyE,cAAC,IAAD,CAAiBnX,UAAU,KAAKO,KAAMC,WAEnH,sBAAKR,UAAU,mBAAf,UACI,wCACA,qBAAKA,UAAU,wBAAf,SACKkX,EAAY5L,KAAI,SAACa,EAAOZ,GAAR,OAAgB,sBAAMvL,UAAU,cAAwBM,QAAS,kBAAM0H,EAAMoP,SAASjL,IAAQ/L,MAAO,CAAEgB,gBAAiB+K,IAArEZ,QAEtEvD,EAAMqG,SAASvI,YAAYzD,OAAgB,gCACzC,6CACA,qBAAKrC,UAAU,4CAAf,SACKgI,EAAMqG,SAASvI,YAAYwF,KAAI,SAAC+L,GAC7B,IAAIA,EAAOpX,IAAIqX,SAAS,OACxB,OAAO,cAAC,KAAD,CAAOC,YAAY,YAA6BtX,IAAKoX,EAAOpX,IAAKyM,OAAO,MAAxE,SACF,YAAwB,IAArB9R,EAAoB,EAApBA,KACA,OADoB,EAAd4c,QACc,qBAAKxX,UAAU,yBAAf,SAAwC,qBAAKC,IAAKwP,GAAatP,IAAI,OAChF,qBAAKH,UAAU,eAAeI,MAAO,CAAEgB,gBAAiBxG,EAAMoR,gBAAgB,OAAD,OAASqL,EAAOpX,IAAhB,MAA0BK,QAAS,kBAAM0H,EAAMoP,SAASC,EAAOpX,UAHhHoX,EAAO1b,aALxB,KActC,cAAC,GAAD,CAAY2Z,QAAStN,EAAMsN,QAASmC,SAAUzP,EAAMyP,SAAWnV,IAAK,qBAAKtC,UAAU,mBAAmBM,QAAS,WAC3GrD,EAAS+J,IAAoB,IAC7BtD,YAAW,WACPzG,EAAS+J,IAAoB,MAC9B,MAJ6D,SAMhE,+CAA2B7J,KAAK,QAAQkR,SAAUrG,EAAMqG,WAC3DrG,EAAMqG,SAAS1I,OAAS,wBAAQ3F,UAAU,mBAAmBM,QAAS,kBAAM0H,EAAMoP,SAAS,KAAnE,gC,aCpBlC,SAASM,GAAT,GAAqC,IAAhBC,EAAe,EAAfA,YAChBtJ,EAA2CsJ,EAA3CtJ,SAAUnG,EAAiCyP,EAAjCzP,UAAWwD,EAAsBiM,EAAtBjM,YAAahQ,EAASic,EAATjc,KACpCuB,EAAWY,cACjB,EAA0CI,cAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAChC,EAA8BC,mBAAS,MAAvC,mBAAO4U,EAAP,KAAgB2E,EAAhB,KACA,EAA8BvZ,mBAAS,MAAvC,mBAAO6U,EAAP,KAAgB2E,EAAhB,KAEMC,EAAYjZ,iBAAO,MACnB+J,EAAoB,SAACpL,EAAKC,GAC5BqB,qBACI,WACI,IAAMC,EAAW,SAACC,GACTxB,EAAIyB,UAAWzB,EAAIyB,QAAQC,SAASF,EAAMG,SAG/C1B,EAAQuB,IAIZ,OAFAI,SAASC,iBAAiB,YAAaN,GACvCK,SAASC,iBAAiB,aAAcN,GACjC,WACHK,SAASE,oBAAoB,YAAaP,GAC1CK,SAASE,oBAAoB,aAAcP,MAGnD,CAACvB,EAAKC,KAId,EAAoCY,oBAAS,GAA7C,mBAAO0Z,EAAP,KAAmBjK,EAAnB,KACMkK,EAAWnZ,mBACjB+J,EAAkBoP,GAAU,kBAAMlK,GAAc,MAEhD,MAAwCzP,mBAAS,MAAjD,mBAAO4Z,EAAP,KAAqBC,EAArB,KACMC,EAAgBtZ,mBACtB+J,EAAkBuP,GAAe,kBAAMD,GAAgB,MAEvD,MAA4C7Z,oBAAS,GAArD,mBAAuBuP,GAAvB,WACMwK,EAAevZ,mBACrB+J,EAAkBwP,GAAc,kBAAMxK,GAAkB,MAExD,MAAoCvP,oBAAS,GAA7C,mBAAOga,EAAP,KAAmBlB,GAAnB,KACMmB,GAAWzZ,mBACjB+J,EAAkB0P,IAAU,kBAAMnB,IAAc,MAEhD,OAAsC9Y,oBAAS,GAA/C,qBAAOka,GAAP,MAAoBtJ,GAApB,MACMuJ,GAAY3Z,mBAClB+J,EAAkB4P,IAAW,kBAAMvJ,IAAe,MAElD,OAA4C5Q,oBAAS,GAArD,qBAAOoa,GAAP,MAAuB9I,GAAvB,MACM+I,GAAe7Z,mBACrB+J,EAAkB8P,IAAc,kBAAM/I,IAAkB,MAExD,OAAwCtR,oBAAS,GAAjD,qBAAOsa,GAAP,MAAqB3H,GAArB,MACM4H,GAAa/Z,mBACnB+J,EAAkBgQ,IAAY,kBAAM5H,IAAgB,MAEpD,OAA0C3S,oBAAS,GAAnD,qBAAOwa,GAAP,MAAsB5E,GAAtB,MACM6E,GAAcja,mBACpB+J,EAAkBkQ,IAAa,kBAAM7E,IAAiB,MAKtD,OAA4B5V,oBAAS,GAArC,qBAAO0a,GAAP,MAAeC,GAAf,MAEMvB,GAAWvP,EAAUhE,MAAMiF,MAAK,SAAAhD,GAClC,OAAOA,EAAKrG,MAAMqJ,MAAK,SAAAlE,GACnB,OAAOA,EAAEtJ,MAAQ0S,EAAS1S,UAqD5Bsd,GAAW,SAAA/L,GACb,IAGMgM,IAHehM,EAAUC,KAAKH,QAAO,SAACC,EAAKK,GAC7C,OAAOA,EAAWC,UAAYN,IAC/B,GACmCC,EAAUC,KAAK9K,OAAS,KAAK8W,QAAQ,GAC3EjM,EAAU2C,MAAQqJ,EAClB/T,GAAYkJ,IAoCVlJ,GAAc,SAAA6E,GAChB,IAAMxD,EAAeF,EAAa3B,WAAWqF,EAAMyN,GAAUvP,GAC7DhB,GAAcS,KAAK,sBAAuB,CAAExB,KAAMsR,GAAUzN,KAAMA,GAAQqE,IAC1EpR,EAAS6G,GAAU0C,IACnBvJ,EAASwJ,GAAayB,EAAUvM,OA+CpC,IAAK0S,IAAaoJ,GAAU,OAAQ,qBAAKzX,UAAU,mBAAf,SAAkC,qBAAKC,IAAKC,EAAQC,IAAI,OAC5FkO,EAAShJ,KAAOgJ,EAAShJ,KAAKwE,QAAQ,gBAAiB,MAAMA,QAAQ,OAAQ,KAE7E,IA3EwBG,GA2ElBsL,GAAU,CACZnQ,gBAGJ,OACI,mCACI,0BAASnF,UAAU,2BAAnB,UACI,sBAAKA,UAAU,kBAAkBI,MAAOiO,EAAS1I,MAAQ,CAAEyT,UAAW,SAAY,CAAEA,UAAW,GAA/F,UACM/K,EAAS1I,MAAe0I,EAAS1I,MAAMxE,SAAS,KAAO,qBAAKnB,UAAU,gBAAgBI,MAAO,CAAEgB,gBAAgB,GAAD,OAAKiN,EAAS1I,UAC1H,cAAC,KAAD,CAAO1F,IAAKoO,EAAS1I,MAAO4R,YAAY,YAAY7K,OAAO,MAA3D,SACK,YAAwB,IAArB9R,EAAoB,EAApBA,KACA,OADoB,EAAd4c,QACc,sCACZ,qBAAKxX,UAAU,gBAAgBI,MAAO,CAAEgB,gBAAiBxG,EAAMoR,gBAAgB,OAAD,OAASqC,EAAS1I,MAAlB,WAJ/E,KAQnB,qBAAK3F,UAAU,cAAf,SACI,sBAAKA,UAAU,aAAf,UACI,uBAAM6K,OAAQ1M,GAnFjB,SAAAvD,GACZA,EAAKye,YACVhL,EAASrK,MAAQpJ,EAAKye,UACtBlU,GAAYkJ,OAgFQ,UACI,cAAC,IAAD,CAAiB9N,KAAM+Y,MAD3B,IACgD,+CAAO1Y,aAAa,MAAMzD,KAAK,OAAO4N,UAAW,SAACC,GAAsB,UAAVA,EAAEC,KAAiBD,EAAEE,mBAAwBhN,EAAS,cAApH,IAAkIiN,aAAckD,EAASrK,MAAOnD,YAAY,kBAE5N,oBAAGb,UAAU,aAAb,sBAAoCyX,GAASzT,cAGrD,sBAAKhE,UAAU,yBAAf,UACM2X,EAAYpI,YAAYlN,OAAgB,0BAASrC,UAAU,kBAAnB,UAAqC,0CAC3E,sBAAKA,UAAU,cAAf,UACK2X,EAAYpI,YAAYjE,KAAI,SAACkC,EAAQjC,GAAT,OACzB,qBAAKvL,UAAU,kBAAkBM,QAAS,kBAAM2O,IAAe,IAA/D,SACI,cAAC,IAAD,CAAkB/S,KAAMsR,EAAOtR,KAAMuE,KAAK,KAAKC,OAAO,GAAzC6K,IAD0DA,MAG/E,wBAAQjL,QAAS,kBAAM2O,IAAe,IAAtC,SAA6C,cAAC,IAAD,CAAiB1O,KAAMkN,cANzC,KASjCY,EAAShK,OAAOhC,OAAgB,0BAASrC,UAAU,iBAAnB,UAAoC,yCACjEqO,EAAShK,OAAOiH,KAAI,SAACW,EAAOV,GAAR,OACjB,qBAAKvL,UAAU,iBAA2BM,QAAS,kBAAMwN,GAAc,IAAO1N,MAAO,CAAEgB,gBAAiB6K,EAAME,OAA9G,SACI,4BAAIF,EAAM5G,QADuBkG,MAGzC,wBAAQjL,QAAS,kBAAMwN,GAAc,IAArC,SAA4C,cAAC,IAAD,CAAiBvN,KAAMkN,WAL5C,KAOzBY,EAAS5I,QAAiB,0BAASzF,UAAU,0BAAnB,UAA6C,2CACrE,uBAAMA,UAAU,kBAAkBM,QA/InC,WACjB+N,EAASxI,OAAyCwI,EAASxI,OAAS,GAAjDwI,EAASxI,OAASN,KAAKC,MAC5CL,GAAYkJ,IA6IQ,cAA8DA,EAASxI,OAA8C,cAAC,IAAD,CAAiBtF,KAAMkM,MAA5D,cAAC,IAAD,CAAiBlM,KAAMiM,MAAuD,cAAC,KAAD,CAAQE,OAAO,aAAaC,WAAS,EAArC,SAAuC0B,EAAS5I,UAAiB,uBAAOrF,MAAO,CAAE+L,MAAO,QAASoN,SArH/PvP,GAqHuRqE,EApHpSrE,GAAKnE,OAAS,QAAYmE,GAAKvE,QAAUF,KAAKC,MAAS,OAAS,SAoH+OpE,gBAzH3R,SAAC4I,GAC5B,OAAOA,EAAKnE,OAAS,UAAcmE,EAAKvE,QAAUF,KAAKC,MAAS,WAAa,UAwH0P+E,CAAuB8D,IAA3G,SA7H/N,SAACrE,GACrB,OAAOA,EAAKnE,OAAS,YAAemE,EAAKvE,QAAUF,KAAKC,MAAS,GAAK,UA4HuSgU,CAAgBnL,QADjV,OAAP,KAGrB,0BAASrO,UAAU,eAAnB,UACI,sBAAKA,UAAU,WAAf,UAA0B,cAAC,IAAD,CAAiBO,KAAMuM,MAC7C,+CAEJ,sBAAMjC,OAAQ1M,GAAa,SAAAjD,GAAG,OAlMjCN,EAkMkDM,EAjMnEmT,EAAShJ,KAAOzK,EAAKyK,KAAKwE,QAAQ,OAAQ,KAAMA,QAAQ,MAAO,qBAC/D1E,GAAYkJ,GAFK,IAAAzT,KAkMG,SACI,kDAAUa,GAAG,OAAOS,KAAK,OAAOoE,QAAS,kBAAM0Y,IAAWD,KAAS5N,aA3M3FsO,UA2MoH5Y,YAAY,oCAAuC3C,EAAS,SAAxJ,IAAiKiN,aAAcwM,EAAYtJ,SAAShJ,gBAI9MgJ,EAASzI,WAAWvD,OAAgB,kCACjCgM,EAASzI,WAAW0F,KAAI,SAAC4B,EAAWwM,GAAZ,OACrB,sBAAK1Z,UAAU,qBAAf,UACI,sBAAKA,UAAU,gBAAf,cAAgC,sBAAKA,UAAU,OAAf,cAAuB,cAAC,IAAD,CAAiBO,KAAM6M,MAA9C,IAA0E,8BAAIF,EAAUlJ,MAAd,UACtG,wBAAQ1D,QAAS,kBAAMqX,EAAY7H,gBAAgB4J,IAAnD,4BAEFxM,EAAUC,KAAK9K,OAAgB,+BAAK6K,EAAU2C,MAAf,OAAP,KACxB3C,EAAUC,KAAK9K,OAAgB,qBAAKrC,UAAU,uBAAf,SACR,MAApBkN,EAAU2C,MAAgB,qBAAK7P,UAAU,qBAAqBI,MAAO,CAAEgB,gBAAiB,UAAWsN,MAAOxB,EAAU2C,MAAQ,OACzH,qBAAK7P,UAAU,qBAAqBI,MAAO,CAAEsO,MAAOxB,EAAU2C,MAAQ,SAFpD,KAGxB3C,EAAUC,KAAK9K,OAAgB6K,EAAUC,KAAK7B,KAAI,SAACqO,EAAMpO,GACvD,OAAO,sBAAKvL,UAAU,kBAAf,UACH,uBAAO7C,KAAK,WAAW1B,GAAI,kBAAoB8P,EAAKqO,QAASD,EAAKpM,UAAW4B,SAAU,YA1KpG,SAACwK,GACpBA,EAAKpM,WAAaoM,EAAKpM,UA0KasM,CAAeF,GACfV,GAAS/L,MAEZyM,EAAKpM,UAAY,uBAAOnN,MAAO,CAAE0Z,eAAgB,gBAAhC,SAAmDH,EAAKtU,OAAgB,gCAAQsU,EAAKtU,SAL9DkG,MADvB,KAS1B,uBAAM5K,SAAUxC,GAAa,SAAAjD,GAAG,OArNjC,SAACN,EAAMmf,GAC9B,IAAMC,EAAQC,OAAOC,KAAKtf,GAAMuO,MAAK,SAAAgR,GAAG,OAAIA,IAAS,YAAcJ,KACnE,GAAKnf,EAAKof,GAAV,CACA,IAAMI,EAAYxf,EAAKof,GAAOnQ,QAAQ,OAAQ,KAC9CwE,EAASzI,WAAWmU,GAAW5M,KAAK/C,KAAK,CAAE/E,KAAM+U,EAAW7M,WAAW,IACvE0L,GAAS5K,EAASzI,WAAWmU,IAC7B3b,EAAM,CAAEic,WAAY,GAAIC,WAAY,GAAIC,WAAY,GAAIC,WAAY,GAAIC,WAAY,KACpFvT,GAAcS,KAAK,sBAAuB,CAAExB,KAAMsR,GAAUzN,KAAMqE,KA8MNqM,CAAmBxf,EAAKwe,MAA5D,UACI,mCAAOvc,KAAK,OAAOyD,aAAa,MAAMnF,GAAI,cAAgBie,EAASxd,KAAK,OAAO2E,YAAY,eAAmB3C,EAAS,YAAcwb,KACrI,wBAAQ1Z,UAAU,kBAAlB,sBAnBiC0Z,QAFlB,KAyB7BrL,EAASvI,YAAYzD,OAAgB,oCACnC,sBAAKrC,UAAU,UAAf,UAAyB,cAAC,IAAD,CAAiBO,KAAMsM,MAC5C,+CAEHwB,EAASvI,YAAYwF,KAAI,SAACqP,EAAOC,GAAR,OACtB,sBAAkB5a,UAAU,wBAA5B,UACI,qBAAKA,UAAU,UAAf,SACI,cAAC,KAAD,CAAOuX,YAAY,YAAYtX,IAAK0a,EAAM1a,IAAKyM,OAAO,MAAtD,SACK,YAAwB,IAArB9R,EAAoB,EAApBA,KACA,OADoB,EAAd4c,QACc,qBAAKxX,UAAU,aAAf,SAA4B,qBAAKC,IAAKwP,GAAatP,IAAI,OAClEwa,EAAM1a,IAAIqX,SAAS,QAAW,qBAAKtX,UAAU,qBAAqBG,IAAI,SAAgB,qBAAKH,UAAU,iBAAiBI,MAAO,CAAEgB,gBAAiBxG,EAAMoR,gBAAgB,OAAD,OAAS2O,EAAM1a,IAAf,MAAyBK,QAAS,kBA1HlO,SAACua,GAA4B,IACzCC,EAAa,CAAED,SAAQ3e,KADiB,uDAAZ,SAElCyb,EAAYoD,WAAWD,GAwHmOE,CAAcL,EAAM1a,IAAK0a,EAAM3W,QAAQ7D,IAAI,eAI7Q,sBAAKH,UAAU,cAAf,UACI,gCACI,4BAAI2a,EAAM3W,OAAS,UACnB,cAAC,KAAD,CAAQiX,SAAO,EAAf,SAAiBN,EAAMrV,eAE3B,sBAAKtF,UAAU,WAAf,UACI,wBAAQM,QAAS,SAACyJ,GAASmO,GAAiBD,GA7JhE,SAAClO,GACb6N,EAAW7N,EAAG5K,OAAO+b,YACrBrD,EAAW9N,EAAG5K,OAAOgc,WA2JsEC,CAAQrR,IAAnE,kBACA,wBAAQzJ,QAAU,kBAnJjC,SAAC+a,GAA6B,IAApBnf,EAAmB,uDAAZ,QAClC5B,IACKghB,IAAID,EAAS,CAAEE,aAAc,SAC7BC,MAAK,YAAe,IAAZ5gB,EAAW,EAAXA,KAEC6gB,EAAOrc,SAASsc,cAAc,KAC9BC,EAAO,IAAIC,KAAK,CAAChhB,GAAO,CAAEuC,KAAM,cACtCse,EAAKI,KAAOC,IAAIC,gBAAgBJ,GAChCF,EAAKO,SAAW9f,EAChBuf,EAAKQ,QACLH,IAAII,gBAAgBT,EAAKI,SAE5BM,MAAMhhB,QAAQihB,OAuIqCC,CAAa1B,EAAM1a,IAAK0a,EAAM3W,QAAtD,sBACA,wBAAQ1D,QAAS,kBA3KjC,SAAC7E,GACjB,IAAM8P,EAAM8C,EAASvI,YAAYd,WAAU,SAAAsX,GAAS,OAAOA,EAAI3gB,MAAQF,KACvE4S,EAASvI,YAAYZ,OAAOqG,EAAK,GACjCpG,GAAYkJ,GAwK2CkO,CAAY5B,EAAMhf,MAAzC,0BAGPsc,GAAgB,sBAAK7X,MAAO,CAAEgT,KAAK,GAAD,OAAKH,EAAU,IAAf,MAAwB3R,IAAI,GAAD,OAAK4R,EAAU,IAAf,OAA0BlT,UAAU,WAAjF,UACb,sBAAKA,UAAU,kBAAf,UACI,gDACA,wBAAQM,QAAS,kBAAM4X,GAAgB,IAAvC,kBAEJ,sBAAKlY,UAAU,gBAAgBxC,IAAK2a,EAApC,UACI,iDACA,uBAAMxX,SAAUxC,GAAa,SAAAjD,GAAG,OAjPhD,SAACN,EAAM2Q,GACvB,IAAMyO,EAAQC,OAAOC,KAAKtf,GAAMuO,MAAK,SAAAgR,GAAG,OAAIA,IAAS,UAAY5O,KACjE8C,EAASvI,YAAYyF,GAAKvH,MAAQpJ,EAAKof,GACvC7U,GAAYkJ,GACZ6J,GAAgB,GA6OoDsE,CAAYthB,EAAK0f,MAArD,UACI,mCAAOzd,KAAK,OAAOyD,aAAa,MAAMnF,GAAI,YAAcmf,EAAQzP,aAAcwP,EAAM3W,OAAY9F,EAAS,UAAY0c,KACrH,qDA7BNA,SALc,KAyChC,sBAAK5a,UAAU,UAAf,UAAyB,cAAC,IAAD,CAAiBO,KAAMkc,MAC5C,4CAEJ,sBAAKzc,UAAU,eAAf,UACI,sBAAMW,SAAUxC,GAvPZ,SAAAvD,GACpB,IAAM8hB,EAAa,CAAE/gB,IAAKiG,EAAYQ,SAAUoL,OAAQ9R,EAAOA,EAAKS,SAAW,QAASwgB,UAAWpX,KAAKC,MAAOxB,MAAOpJ,EAAKgiB,SAC3HvO,EAAStI,SAASsQ,QAAQqG,GAC1BvX,GAAYkJ,GACZjQ,EAAM,CAAEwe,QAAS,QAmPD,SACI,mCAAO5c,UAAU,qBAAqB7C,KAAK,OAAOyD,aAAa,MAAMnF,GAAG,UAAUS,KAAK,UAAU2E,YAAY,qBAAyB3C,EAAS,eAEjJmQ,EAAStI,SAAS1D,OAAgBgM,EAAStI,SAASuF,KAAI,SAACsR,EAASrR,GAAV,OAAkB,sBAAuBvL,UAAU,oBAAjC,UACxE,qBAAKA,UAAU,iBAAf,SACI,cAAC,IAAD,CAA0B9D,KAAM0gB,EAAQpP,OAAQ/M,KAAK,KAAKC,OAAO,GAApDkc,EAAQjhB,OAEzB,sBAAKqE,UAAU,kBAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,mBAAGA,UAAU,iBAAb,SAA+B4c,EAAQpP,SAD3C,IACuD,4BAAG,cAAC,KAAD,CAAQyN,SAAO,EAAf,SAAiB2B,EAAQD,iBAEnF,uBAAMxN,SAAUhR,GAAa,SAACjD,GAAD,OArPnC,SAACN,EAAM2Q,GACzB,IAAMyO,EAAQC,OAAOC,KAAKtf,GAAMuO,MAAK,SAAAgR,GAAG,OAAIA,IAAS,cAAgB5O,KACrE8C,EAAStI,SAASwF,GAAKvH,MAAQpJ,EAAKof,GACpC7U,GAAYkJ,GAkPkDwO,CAAc3hB,EAAKqQ,MAAOvL,UAAU,gBAA1E,UACI,mCAAO7C,KAAK,OAAOyD,aAAa,MAAMnF,GAAI,eAAiB8P,EAAKJ,aAAcyR,EAAQ5Y,OAAW9F,EAAS,cAAgBqN,KAC1H,wBAAQnL,MAAO,CAAEmZ,QAAS,QAAUjZ,QAAS,SAACyJ,GAAD,OAAQA,EAAGmB,uBAE5D,qBAAKlL,UAAU,eAAf,SACI,wBAAQM,QAAS,kBAhQzB,SAAC7E,GACrB,IAAM8P,EAAM8C,EAAStI,SAASf,WAAU,SAAA4X,GAAa,OAAOA,EAAQjhB,MAAQF,KAC5E4S,EAAStI,SAASb,OAAOqG,EAAK,GAC9BpG,GAAYkJ,GA6PuCyO,CAAgBF,EAAQjhB,MAA/C,2BAb0EihB,EAAQjhB,QAAjE,WAmBrC,sBAAKqE,UAAU,cAAcI,MAAOiO,EAAS1I,MAAQ,CAAEyT,UAAW,SAAY,CAAEA,UAAW,GAA3F,UACI,sBAAKpZ,UAAU,mBAAf,UACI,6CACA,mBAAGM,QAAS,kBAAMqX,EAAYjM,YAAY,OAAO1L,UAAU,iBAA3D,SAA4E,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMC,WAEtH,sBAAKR,UAAU,wBAAf,UACI,sBAAKM,QAAS,WAAQwN,GAAc,IAAS9N,UAAU,iBAAvD,UACI,cAAC,IAAD,CAAiBO,KAAMwc,MACvB,yCACGhF,EAAqB,sBAAKzX,QAAS,SAACyJ,GAAD,OAAQA,EAAGE,mBAAmBzM,IAAKwa,EAAjD,cAA4D,cAAC,GAAD,CAAYI,aAAcA,EAActK,cAAeA,EAAeiK,WAAYA,EAAY1J,SAAUA,EAAUD,SAAUuJ,EAAYvJ,cAA3M,QAErB,sBAAK9N,QAAS,kBAAM2O,IAAe,IAAOjP,UAAU,iBAApD,UACI,cAAC,IAAD,CAAiBO,KAAMyc,MACvB,0CACGzE,GAAsB,sBAAKjY,QAAS,SAACyJ,GAAD,OAAQA,EAAGE,mBAAmB7J,MAAO,CAAEiB,SAAU,WAAYqN,MAAO,GAAKlR,IAAKgb,GAA5F,cAAwG,cAAC,GAAD,CAAatJ,kBAAmByI,EAAYzI,kBAAmBD,eAAgBA,GAAgBsJ,YAAaA,GAAalK,SAAUA,EAAUU,gBAAiB4I,EAAYsF,UAAW1N,YAAaoI,EAAYpI,iBAA7T,QAEtB,sBAAKjP,QAAS,kBAAMqP,IAAkB,IAAO3P,UAAU,iBAAvD,UACI,cAAC,IAAD,CAAiBO,KAAM6M,MACvB,4CACGqL,GAAyB,sBAAKnY,QAAS,SAACyJ,GAAD,OAAQA,EAAGE,mBAAmB7J,MAAO,CAAEiB,SAAU,WAAYqN,MAAO,GAAKlR,IAAKkb,GAA5F,cAA2G,cAAC,GAAD,CAAgB/I,kBAAmBA,GAAmB8I,eAAgBA,GAAgBpK,SAAUA,EAAUyB,gBAAiB6H,EAAY7H,qBAAzP,QAEzB,sBAAKxP,QAAS,kBAAM0Q,IAAgB,IAAOhR,UAAU,iBAArD,UACI,cAAC,IAAD,CAAiBO,KAAMiM,MACvB,2CACGmM,GAAuB,sBAAKrY,QAAS,SAACyJ,GAAD,OAAQA,EAAGE,mBAAmB7J,MAAO,CAAEiB,SAAU,WAAYqN,MAAO,GAAKlR,IAAKob,GAA5F,cAAyG,cAAC,GAAD,CAAc5H,gBAAiBA,GAAiB2H,aAAcA,GAAczH,WAAYyG,EAAYzG,WAAY7C,SAAUA,OAA1O,QAEvB,cAAC,GAAD,CAAYA,SAAUA,EAAUiH,QAASA,GAAShT,IAAK,sBAAKhC,QAAS,WACjErD,EAAS+J,IAAoB,IAC7BtD,YAAW,WACPzG,EAAS+J,IAAoB,MAC9B,MACJhH,UAAU,iBAL0C,UAMnD,cAAC,IAAD,CAAiBO,KAAMsM,MACvB,iDACDwL,EAAqB,qBAAK/X,QAAS,SAACyJ,GAAD,OAAQA,EAAGE,mBAAmB7J,MAAO,CAAEiB,SAAU,WAAYqN,MAAO,GAAKlR,IAAK8a,GAA5F,SAAsG,cAAC,GAAD,CAAYnB,cAAeA,GAAekB,WAAYA,EAAY/C,QAASA,GAASmC,SAAUA,GAAUL,SAAUO,EAAYP,SAAU/I,SAAUA,EAAU6O,cA1QxR,WAClBpF,EAAU7Y,QAAQgd,SAyQsTnE,UAAWA,MAAlT,KACjB,sBAAKxX,QAAS,kBAAM6W,IAAc,IAAOnX,UAAU,iBAAnD,UACI,cAAC,IAAD,CAAiBO,KAAM4c,MACvB,2CAEJ,sBAAK7c,QAAS,kBAAM2T,IAAiB,IAAOjU,UAAU,iBAAtD,UACI,cAAC,IAAD,CAAiBO,KAAM6c,MACvB,4CACGvE,GAAwB,sBAAKvY,QAAS,SAACyJ,GAAD,OAAQA,EAAGE,mBAAmB7J,MAAO,CAAEiB,SAAU,WAAYqN,MAAO,GAAKlR,IAAKsb,GAA5F,cAA0G,cAAC,GAAD,CAAe7E,iBAAkBA,GAAkB4E,cAAeA,GAAe1T,YAAaA,GAAakJ,SAAUA,OAAtO,WAG5B,wBAAQrO,UAAU,kBAAkBM,QA5N/B,WACjB+c,wBAAa,CACTrZ,MAAO,oBACPsZ,QAAS,yCACTC,QAAS,CACL,CACItR,MAAO,cACP3L,QAAS,WACL,IAAMyE,EAAU0S,GAAS3X,MAAMkF,WAAU,SAAAC,GAAC,OAAIA,EAAEtJ,MAAQ0S,EAAS1S,OACjE8b,GAAS3X,MAAMoF,OAAOH,EAAS,GAC/B2G,EAAY,MACZzO,EAAS6G,GAAUoE,IACnBmG,EAASpK,QAAQwF,QAAjB,uCAAyB,WAAM+T,GAAN,eAAA1iB,EAAA,6DACfiK,EAAUyY,EAAE1d,MAAMkF,WAAU,SAAAyY,GAAU,OAAIA,EAAWzZ,QAAUqK,EAASrK,SAC9EwZ,EAAE1d,MAAMoF,OAAOH,EAAS,GAFH,SAGH9H,EAASI,EAAWmgB,IAHjB,yDAAzB,yDAOR,CACIvR,MAAO,SACP3L,QAAS,kBAAMoL,EAAY2C,SAuM3B,iC,4BChab,SAASqP,GAAT,GAAqC,IAAhBC,EAAe,EAAfA,YAClB1gB,EAAWY,cACjB,EAA0CI,cAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAC1B8J,EAAYpK,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAaD,aACpDxM,EAAOoC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAAYtC,QACpD,EAA8B2C,oBAAS,GAAvC,mBAAOuf,EAAP,KAAgBC,EAAhB,KACA,EAAwCxf,oBAAS,GAAjD,mBAAOyf,EAAP,KAAqBC,EAArB,KACA,EAAgC1f,oBAAS,GAAzC,mBAAO2f,EAAP,KAAiBC,EAAjB,KACA,EAAgC5f,oBAAS,GAAzC,mBAAO6f,EAAP,KAAiBC,EAAjB,KACA,EAA4B9f,mBAAS,MAArC,mBAAOgG,EAAP,KAAe+Z,EAAf,KACA,EAAkC/f,mBAAS,MAA3C,mBAAOggB,EAAP,KAAkBhJ,EAAlB,KACA,EAAgChX,mBAAS,MAAzC,mBAAO8F,EAAP,KAAiBma,EAAjB,KACA,EAAsBjgB,mBAAS,MAA/B,mBAAOuI,EAAP,KAAY2X,GAAZ,KACA,GAAoClgB,oBAAS,GAA7C,qBAAOmgB,GAAP,MAAmBC,GAAnB,MACA,GAAgCpgB,mBAAS,CAAE2L,KAAM,GAAI3F,OAAQ,KAA7D,qBAAOgC,GAAP,MAAiBqY,GAAjB,MAEsB5gB,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAawW,iBAE9D7f,oBAAS,sBAAC,sBAAAhE,EAAA,sDACNua,EAAanN,EAAU3D,QACvBqa,KAFM,2CAGP,CAACvY,KAEJvH,qBAAU,WACD6e,EAAYkB,QAAQC,OAC1B,CAACnB,EAAYkB,SAEhB/f,qBAAU,WACNsf,EAAUlW,EAAU7D,QACpBia,EAAYpW,EAAU/D,YACvB,CAAC+D,IAEJ,IAAM6W,GAAe,SAAAnkB,GACjB8jB,GAAY,2BAAKrY,IAAN,IAAgB2D,KAAMpP,EAAKokB,eAYpCJ,GAAa,WACfjB,EAAYsB,YAAY5Y,KAGtB6Y,GAAa,SAAAtkB,GACf,IAAIukB,EAAUlF,OAAOkF,QAAQvkB,GAEvByJ,GADN8a,EAAUA,EAAQzc,QAAO,SAAA0c,GAAE,MAAc,kBAAVA,EAAG,IAAoC,uBAAVA,EAAG,IAAyC,cAAVA,EAAG,IAAgC,eAAVA,EAAG,OACnG9T,KAAI,SAACW,EAAOV,GAE/B,OAAIA,EAAM,IAAM,EAAU,CAAEY,MAAOF,EAAM,IAClC,CAAE5G,KAAM4G,EAAM,OAGnBrJ,EAAM,GACZyB,EAAOoF,SAAQ,SAACwC,EAAOV,GACfA,EAAM,IAAM,GAAG3I,EAAIwH,KAAK,CAAEzO,IAAKiG,EAAYQ,SAAUiD,KAAM4G,EAAM5G,KAAM8G,MAAO9H,EAAOkH,EAAM,GAAGY,WAEtGiS,EAAUxb,GACV3F,EAAS6G,GAAU,2BAAKoE,GAAN,IAAiB7D,OAAQzB,OA0BzCkc,GAAY,WACdnB,EAAY0B,WAAU,GACtBxB,GAAW,GACXE,GAAgB,GAChBE,GAAY,GACZE,GAAY,GACZY,GAAa,IACb3gB,KAsBJ,IAAKigB,IAAcnW,IAAc7D,IAAWF,EAAU,OAAQ,qBAAKnE,UAAU,oBAAf,SAAmC,qBAAKC,IAAKC,EAAQC,IAAI,OACvH+H,EAAUzD,YAAcyD,EAAUzD,YAAYoF,QAAQ,gBAAiB,MAEvE,IAAMyV,GAAgB,CAClBC,WAAY,GACZC,QAAS,GACTC,UAAW,IAGTC,GAAiB,GACjBC,GAAgBzX,EAAUjE,QAAQqH,KAAI,SAACkC,GAEzC,OADAkS,GAAetV,KAAKoD,EAAOtR,MACpB,KAIXgM,EAAUhE,MAAMuF,SAAQ,SAAAtD,GACpBA,EAAKrG,MAAM2J,SAAQ,SAAAO,GACXA,EAAKnE,OAAQyZ,GAAcG,UAAUrV,KAAKJ,GACpCA,EAAKvE,QACVuE,EAAKvE,QAAUF,KAAKC,MAAQ8Z,GAAcC,WAAWnV,KAAKJ,GAAQsV,GAAcE,QAAQpV,KAAKJ,GAD1EsV,GAAcC,WAAWnV,KAAKJ,GAEtDA,EAAK/F,QAAQwF,SAAQ,SAAA+T,GACjBkC,GAAejW,SAAQ,SAACmW,EAAKrU,GACrBiS,EAAEthB,OAAS0jB,GACXD,GAAcpU,iBAQlC,IAAMsU,GAAsB,CACxBxb,OAAQqb,GACRI,SAAU,CAAC,CACP7T,MAAO,UACPrR,KAAM+kB,GACNve,gBAAiB,CACb,0BACA,0BACA,0BACA,2BACA,2BAEJ2e,YAAa,KAIfC,GAAe,CACjB3b,OAAQ,CAAC,YAAa,cAAe,WACrCyb,SAAU,CAAC,CACP7T,MAAO,SACPrR,KAAM,CAAC0kB,GAAcG,UAAUpd,OAAQid,GAAcC,WAAWld,OAAQid,GAAcE,QAAQnd,QAC9FjB,gBAAiB,CACb,yBACA,0BACA,2BAEJ6e,YAAa,CACT,oBACA,qBACA,sBAEJC,YAAa,KAIrB,OACI,0BAASlgB,UAAU,kBAAkBI,MAAOud,EAAYkB,OAAS,CAAExe,SAAU,QAAc,CAAEA,SAAU,GAAvG,UACI,0BAASL,UAAU,YAAnB,UACI,sBAAKA,UAAU,OAAf,UACI,sCACA,mBAAGM,QAASwe,GAAW9e,UAAU,iBAAjC,SAAkD,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMC,WAE5F,sBAAKR,UAAU,OAAf,UACI,mBAAGM,QAAS,kBAAMud,GAAYD,IAA9B,gCACA,mBAAGtd,QAAS,kBAAMyd,GAAiBD,IAAnC,wBACA,mBAAGxd,QAAS,kBAAM2d,GAAaD,IAA/B,0BACA,mBAAG1d,QAAS,kBAAM6d,GAAaD,IAA/B,uBAEJ,sBAAKle,UAAU,qBAAf,UACI,0CACA,+BACMmE,EAAS9B,OAAgB8B,EAASmH,KAAI,SAAAnH,GAAQ,OAAI,+BAC5B,aAAlBA,EAAShH,MAAyC,YAAlBgH,EAAShH,KAAsB,8BAAG,+BAAOgH,EAASqJ,SAAnB,IAAmCrJ,EAAShH,KAA5C,IAAmDgH,EAASkB,KAA5D,IAAqF,YAAlBlB,EAAShH,KAAqB,OAAS,KAA1G,IAAgH,+BAAOgH,EAASgC,OAA+B,UAAlBhC,EAASgC,KAAmB,GAAK,QAA9K,OAC3D,8BAAG,+BAAOhC,EAASqJ,SAAnB,IAAmCrJ,EAAShH,KAA5C,IAAmDgH,EAASkB,KAA5D,IAAqF,YAAlBlB,EAAShH,KAAqB,OAAS,KAA1G,IAAgH,+BAAOgH,EAASgC,OAAhI,YACN,gCAAO,cAAC,KAAD,CAAQ8U,SAAO,EAAf,SAAiB9W,EAASmB,gBAHwBnB,EAASxI,QAAlD,MAKlBwI,EAAS9B,QAAU,6BAAI,gEAIrC,0BAASrC,UAAU,sBAAsBI,MAAOwd,EAAU,CAAEvd,SAAU,QAAc,CAAEA,SAAU,GAAhG,UACI,sBAAKL,UAAU,OAAf,UACI,mBAAGM,QAAS,kBAAMud,GAAYD,IAAU5d,UAAU,iBAAlD,SAAmE,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMsN,QACzG,oDACA,mBAAGvN,QAASwe,GAAW9e,UAAU,iBAAjC,SAAkD,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMC,WAE5F,sBAAKR,UAAU,qBAAf,UACI,sBAAKA,UAAU,OAAf,UACI,yCACA,8BAAM2d,EAAY1Z,QAAQqH,KAAI,SAAAkC,GAAM,OAAI,cAAC,IAAD,CAAyBtR,KAAMsR,EAAOtR,KAAMuE,KAAK,KAAKC,OAAO,GAAhD8M,EAAO7R,UAC5D,wCAAWgiB,EAAY1Z,QAAQ5B,aAEnC,sBAAKrC,UAAU,OAAf,UACI,6CACA,sBAAM6K,OAAQ1M,GA9Jd,SAAAvD,GAChB,IAAMulB,EAAevlB,EAAKwlB,UAAUvW,QAAQ,OAAQ,OAAOA,QAAQ,MAAO,gBAC1E5M,EAAS6G,GAAU,2BAAKoE,GAAN,IAAiBzD,YAAa0b,SA4JhC,SACI,kDAAUhV,aAAcjD,EAAUzD,aAAiBvG,EAAS,cAA5D,IAA0E2C,YAAY,kIAG9F,sBAAKb,UAAU,OAAf,UACI,4CACA,kDACA,cAAC,KAAD,CAAW9D,KAAK,YAAYtB,KAAMilB,KAClC,8CACA,cAAC,KAAD,CAAK3L,OAAO,MAAMtZ,KAAMolB,QAE5B,sBAAKhgB,UAAU,OAAf,UACI,6CACC4G,GAAO,oBAAI5G,UAAU,UAAd,SAAyB4G,IACjC,wBAAQtG,QA3IN,WACb5E,EACsB,YAAlBA,EAAKS,UAA4C,YAAlBT,EAAKS,UAA4C,WAAlBT,EAAKS,SAAuBoiB,GAAO,8FAErGlB,wBAAa,CACdrZ,MAAO,oBACPsZ,QAAS,0CACTC,QAAS,CACL,CACItR,MAAO,eACP3L,QAAS,kBAAMqd,EAAY9Z,gBAE/B,CACIoI,MAAO,aAZRsS,GAAO,sCA0IF,mCAIZ,0BAASve,UAAU,2BAA2BI,MAAO0d,EAAe,CAAEzd,SAAU,QAAc,CAAEA,SAAU,GAA1G,UACI,sBAAKL,UAAU,OAAf,UACI,mBAAGM,QAAS,kBAAMyd,GAAiBD,IAAe9d,UAAU,iBAA5D,SAA6E,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMsN,QACnH,mDACA,mBAAGvN,QAASwe,GAAW9e,UAAU,iBAAjC,SAAkD,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMC,WAE5F,sBAAKR,UAAU,qBAAf,UACI,sBAAKA,UAAU,OAAf,UACI,wCACA,qBAAKA,UAAU,OAAf,SA5OL,CAAC,aAAc,cAAe,YAAa,SAAU,YAAa,YAAa,YAAa,SA6O3EsL,KAAI,SAACa,EAAOZ,GAAR,OAAgB,uBAAiBnL,MAAO,CAAEgB,gBAAiB+K,GAAS7L,QAAS,kBAAMqd,EAAY0C,iBAAiBlU,GAAO,KAA3FZ,WAGhD,sBAAKvL,UAAU,OAAf,UACI,wCACA,sBAAKA,UAAU,OAAf,UACI,cAAC,GAAD,CAAYsC,IAAK,qBAAKhC,QAAS,WAC3BrD,EAAS+J,IAAoB,IAC7BtD,YAAW,WACPzG,EAAS+J,IAAoB,MAC9B,MACJhH,UAAU,iBALI,SAKa,+CAA2B7C,KAAK,aAAakY,aAAcA,IACxFgJ,EAAU/S,KAAI,SAACtQ,EAAKuQ,GAAN,OAAc,qBAAejL,QAAS,kBAAMqd,EAAY0C,iBAAiBrlB,IAAMslB,SAAS,QAAQ9I,QAAQ,OAAOvX,IAAKjF,EAAKmF,IAAKnF,GAAtGuQ,kBAKvD,0BAASvL,UAAU,uBAAuBI,MAAO4d,EAAW,CAAE3d,SAAU,QAAc,CAAEA,SAAU,GAAlG,UACI,sBAAKL,UAAU,OAAf,UACI,mBAAGM,QAAS,kBAAM2d,GAAaD,IAAWhe,UAAU,iBAApD,SAAqE,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMsN,QAC3G,8CACA,mBAAGvN,QAASwe,GAAW9e,UAAU,iBAAjC,SAAkD,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMC,WAE5F,8BACI,sBAAM2O,SAAUhR,EAAa4gB,IAA7B,SACI,mCAAO5hB,KAAK,OAAOyD,aAAa,MAAMC,YAAY,sBAAyB3C,EAAS,oBAG5F,gCACI,iDACA,6BACKmG,EAAOiH,KAAI,SAACW,EAAOV,GAAR,OAAgB,qBAAcnL,MAAO,CAAEgB,gBAAiBiF,GAAShC,OAAOlD,SAAS8K,EAAM5G,MAAQ,OAAS,WAAa/E,QAAS,kBAvPxI,SAAAiL,GAClB,GAAIlF,GAAShC,OAAOlD,SAASkD,EAAOkH,GAAKlG,MAAO,CAC5C,IAAMkb,EAAYla,GAAShC,OAAOW,WAAU,SAAAiH,GAAK,OAAIA,IAAU5H,EAAOkH,GAAKlG,QAC3EgB,GAAShC,OAAOa,OAAOqb,EAAW,GAClC7B,GAAY,2BAAKrY,IAAN,IAAgBhC,OAAQgC,GAAShC,eAE3Cqa,GAAY,2BAAKrY,IAAN,IAAgBhC,OAAO,GAAD,mBAAMgC,GAAShC,QAAf,CAAuBA,EAAOkH,GAAKlG,UAiPuFmb,CAAcjV,IAAlI,UACxB,qBAAKnL,MAAO,CAAEgB,gBAAiB6K,EAAME,SACrC,4BAAIF,EAAM5G,SAFuBkG,cAOjD,0BAASvL,UAAU,uBAAuBI,MAAO8d,EAAW,CAAE7d,SAAU,QAAc,CAAEA,SAAU,GAAlG,UACI,sBAAKL,UAAU,OAAf,UACI,mBAAGM,QAAS,kBAAM6d,GAAaD,IAAWle,UAAU,iBAApD,SAAqE,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMsN,QAC3G,wCACA,mBAAGvN,QAASwe,GAAW9e,UAAU,iBAAjC,SAAkD,cAAC,IAAD,CAAiBA,UAAU,KAAKO,KAAMC,WAE5F,qBAAKR,UAAU,gBAAf,SACI,+BACKqE,EAAOiH,KAAI,SAACW,EAAOV,GAAR,OAAgB,qBAAoBnL,MAAO,CAAEgB,gBAAiB6K,EAAME,OAApD,UACxB,uBAAMgD,SAAUhR,EAAayD,EAAYuB,SAAS+b,GAAY,MAA9D,UACI,mCAAO/hB,KAAK,OAAOyD,aAAa,MAAMuK,aAAcc,EAAM5G,KAAMxE,YAAY,aAAaiK,UAAQ,GAAK5M,EAAS,iBAAmBqN,KAClI,wBAAOrP,KAAK,cAAZ,UAA0B,cAAC,IAAD,CAAiB8D,UAAU,KAAKO,KAAM6c,MAC5D,+CAAOjgB,KAAK,QAAQyD,aAAa,OAAU1C,EAAS,sBAAwBqN,IAA5E,IAAkFJ,aAAcc,EAAME,eAE9G,4BAAG,cAAC,IAAD,CAAiBnM,UAAU,KAAKO,KAAMC,IAASF,QAAS,kBAhO/D,SAACmgB,GACjB,IAAMlV,EAAMlH,EAAOW,WAAU,SAAA0b,GAAC,OAAIA,EAAE/kB,MAAQ8kB,KAC5Cpc,EAAOa,OAAOqG,EAAK,GACnB6S,EAAU,YAAI/Z,IACd6D,EAAU7D,OAASA,EACnBpH,EAAS6G,GAAUoE,IA2NkEyY,CAAY1U,EAAMtQ,YANlDsQ,EAAMtQ,SAQzC6iB,IAAc,oBAAIle,QAAS,kBAAMme,IAAeD,KAAlC,SAA+C,4CAC9DA,IAAc,+BACX,uBAAM7d,SAAUxC,GA7OhB,SAACvD,GACrB,IAAMqR,EAAQ,CAAEtQ,IAAKiG,EAAYQ,SAAUiD,KAAMzK,EAAKgmB,cAAezU,MAAOvR,EAAKimB,oBACjFzC,EAAU,GAAD,mBAAK/Z,GAAL,CAAa4H,KACtB/D,EAAU7D,OAAV,sBAAuBA,GAAvB,CAA+B4H,IAC/BwS,IAAeD,IACfvhB,EAAS6G,GAAUoE,OAwOC,UACI,mCAAO/K,KAAK,OAAO0D,YAAY,aAAaD,aAAa,MAAMkK,UAAQ,GAAK5M,EAAS,mBACrF,mCAAOf,KAAK,QAAQjB,KAAK,cAAcT,GAAG,cAAc0P,aAAa,WAAcjN,EAAS,wBAC5F,kDAEJ,wBAAQoC,QAAS,kBAAMme,IAAeD,KAAtC,6B,OCpTrB,SAASsC,GAAa9Y,GACzB,IAAM/K,EAAWY,cACjB,EAA0CI,cAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAC1B8J,EAAYpK,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAaD,aACpDnB,EAAiBjJ,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAapB,kBACzDqI,EAAQtR,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAAYoR,SAC/C1T,EAAOoC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAAYtC,QAC9CijB,EAAgB7gB,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAawW,iBAC9D,EAAgCtgB,mBAAS,MAAzC,mBAAOoZ,EAAP,KAAiBhN,EAAjB,KACA,EAA4BpM,mBAAS,MAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA4BN,mBAAS,MAArC,mBAAOqE,EAAP,KAAeqe,EAAf,KACA,EAA8B1iB,mBAAS,MAAvC,mBAAO4F,EAAP,KAAgB+c,EAAhB,KACMC,EAAUC,cACVC,EAAOtiB,mBACb,EAAgCR,mBAAS,MAAzC,mBAAOgQ,EAAP,KAAiB3C,EAAjB,KACA,EAAoCrN,mBAAS,MAA7C,mBAAO+iB,EAAP,KAAmBzV,GAAnB,KACA,GAAsCtN,mBAAS,MAA/C,qBAAOkR,GAAP,MAAoB3D,GAApB,MACA,GAAkDvN,oBAAS,GAA3D,qBAAO6Q,GAAP,MAA0BmS,GAA1B,MAEMzY,GAAoB,SAACpL,EAAKC,GAC5BqB,qBAAU,WACN,IAAMC,EAAW,SAACC,GACTxB,EAAIyB,UAAWzB,EAAIyB,QAAQC,SAASF,EAAMG,SAG/C1B,EAAQuB,IAIZ,OAFAI,SAASC,iBAAiB,YAAaN,GACvCK,SAASC,iBAAiB,aAAcN,GACjC,WACHK,SAASE,oBAAoB,YAAaP,GAC1CK,SAASE,oBAAoB,aAAcP,MAEhD,CAACvB,EAAKC,KAGbqB,qBAAU,kBAAMuP,EAAWgR,IAAU,GAAS,OAAM,CAAChR,IAErDvP,qBAAU,WACN7B,EAASmJ,MACTnJ,EAAS4J,IAAiB,IAC1B,IAAQpL,EAAOuM,EAAMsZ,MAAMrmB,OAAnBQ,GACRyL,GAAcS,KAAK,cAAelM,GAC7ByM,EAGKqZ,KACNC,GAAgBtZ,EAAUhE,OAC1B8c,EAAW9Y,EAAUjE,SACrBiD,GAAcI,GAAG,iBAAiB,SAAA1M,GAC9B6mB,GAAkB7mB,MAEtBsM,GAAcI,GAAG,oBAAoB,SAAA1M,GACjC8mB,GAAW9mB,MAEfsM,GAAcI,GAAG,iBAAiB,SAAA1M,GAC9B+mB,GAAqB/mB,MAEzBsM,GAAcI,GAAG,oBAAoB,SAAA1M,GACjCgnB,GAAqBhnB,MAEzBsM,GAAcI,GAAG,mBAAmB,SAAA1M,GAChCinB,GAAmBjnB,MAEvBsM,GAAcI,GAAG,oBAAoB,SAAA1M,GACjCknB,GAAqBlnB,MAEzBsM,GAAcI,GAAG,0BAA0B,SAAA1M,GACvCmnB,GAA0BnnB,MAE9BsM,GAAcI,GAAG,sBAAsB,SAAAnD,GACnC6d,GAAsB7d,OA3B1BlH,EAASwJ,GAAahL,IA8BtByM,IACA8Y,EAAW9Y,EAAUjE,SAChB8C,GACD9J,EAAS6J,GAAkBoB,EAAU9D,WAAW+H,MAAQjE,EAAU9D,WAAW+H,MAAQjE,EAAU9D,WAAW6d,SAInH,CAAC/Z,IAEJpJ,qBAAU,WACNojB,OAED,CAACje,IAEJ,IAAMzG,GAAMqB,mBACZ+J,GAAkBpL,IAAK,kBAAQ2kB,QAAgCC,EAArB1W,GAAY,MAEtD,OAA4BrN,oBAAS,GAArC,qBAAOwgB,GAAP,MAAeQ,GAAf,MACMgD,GAAUxjB,mBAChB+J,GAAkByZ,IAAS,kBAAMhD,IAAU,MAE3C,OAAgChhB,mBAAS,MAAzC,qBAAOikB,GAAP,MAAiBC,GAAjB,MACMC,GAAY3jB,mBAClB+J,GAAkB4Z,IAAW,kBAAMD,IAAY,MAE/C,OAA8BlkB,mBAAS,MAAvC,qBAAO8jB,GAAP,MAAgBpH,GAAhB,MACM0H,GAAa5jB,mBACnB+J,GAAkB6Z,IAAY,kBAAM1H,GAAW,SAE/C,OAAkC1c,mBAAS,MAA3C,qBAAOqkB,GAAP,MAAkBC,GAAlB,MACA,GAAwCtkB,oBAAS,OAAC6J,QAAD,IAACA,OAAD,EAACA,EAAWhE,OAASgE,EAAUhE,MAAQ,MAAxF,qBAAOqd,GAAP,MAAqBC,GAArB,MACA,GAA+CnjB,mBAAS,IAAxD,qBAAOukB,GAAP,MAA0BC,GAA1B,MACA,GAAsCxkB,oBAAS,GAA/C,qBAAO6N,GAAP,MAAoBE,GAApB,MACA,GAA0D/N,oBAAS,GAAnE,qBAA8BykB,IAA9B,aAIMhB,GAAuB,SAAA3b,GACzB,IAAMD,EAAUgC,EAAUhE,MAAMc,WAAU,SAAAoE,GAAC,OAAIA,EAAEzN,MAAQwK,EAAKxK,OAC9DuM,EAAUhE,MAAMgB,OAAOgB,EAAS,EAAGC,GACnClJ,EAASwJ,GAAayB,EAAUvM,MAChC+H,YAAW,kBAAMzG,EAASwJ,GAAayB,EAAUvM,QAAO,MAGtD+lB,GAAa,SAAA9mB,GACf,IAAM+J,EAAauD,EAAUhE,MAAMiF,MAAK,SAAAC,GAAC,OAAIA,EAAEzN,MAAQf,EAAKuL,KAAKxK,OAC3DoJ,EAAUJ,EAAW7E,MAAMkF,WAAU,SAAAC,GAAC,OAAIA,EAAEtJ,MAAQf,EAAKoP,KAAKrO,OACpEgJ,EAAW7E,MAAMoF,OAAOH,EAAS,EAAGnK,EAAKoP,MACzC/M,EAASwJ,GAAayB,EAAUvM,OAG9BomB,GAA4B,SAAA5b,GACT+B,EAAUhE,MAAMiF,MAAK,SAAAC,GAAC,OAAIA,EAAEzN,MAAQwK,EAAKxK,OACjDqI,MAAQmC,EAAKnC,MAC1B/G,EAASwJ,GAAayB,EAAUvM,OAG9B8lB,GAAoB,SAAA7mB,GACRsN,EAAUhE,MAAMiF,MAAK,SAAAC,GAAC,OAAIA,EAAEzN,MAAQf,EAAKuL,QACjDrG,MAAMsK,KAAKxP,EAAKoP,MACtB/M,EAASwJ,GAAayB,EAAUvM,OAG9BimB,GAAuB,SAAAhnB,GACzB,IAAMsL,EAAUgC,EAAUhE,MAAMc,WAAU,SAAAoE,GAAC,OAAIA,EAAEzN,MAAQf,EAAKuL,QAC9D+B,EAAUhE,MAAMgB,OAAOgB,EAAS,GAChCjJ,EAASwJ,GAAayB,EAAUvM,OAG9BgmB,GAAuB,SAAAxb,GACzB+B,EAAUhE,MAAMkG,KAAKjE,GACrBlJ,EAASwJ,GAAayB,EAAUvM,OAG9BkmB,GAAqB,SAAAjnB,GACvB,GAAKA,EAAKoP,KAAK3F,OAAOhC,OAElB,GAAIzH,EAAKoP,KAAK3F,OAAO0e,MAAK,SAACzU,GAAD,OAAeA,EAAUnC,QAAUvR,EAAKqR,MAAME,SAAQ,CAC5E,IAAM6W,EAAgBpoB,EAAKoP,KAAK3F,OAAOW,WAAU,SAAAsJ,GAAS,OAAIA,EAAUnC,QAAUvR,EAAKqR,MAAME,SAC7FvR,EAAKoP,KAAK3F,OAAOa,OAAO8d,EAAe,QAEvCpoB,EAAKoP,KAAK3F,OAAO+F,KAAKxP,EAAKqR,YANLrR,EAAKoP,KAAK3F,OAAO+F,KAAKxP,EAAKqR,OASzD3F,EAAa3B,WAAW/J,EAAKoP,KAAMpP,EAAKuL,KAAM+B,GAC9CjL,EAASwJ,GAAayB,EAAUvM,OAG9BqmB,GAAwB,SAAA7d,GAC1B+D,EAAU/D,SAASkS,QAAQlS,GAC3BlH,EAASwJ,GAAayB,EAAUvM,OAK9BsnB,GAAe,uCAAG,WAAO/nB,GAAP,yBAAAJ,EAAA,yDACfI,EAAIgO,YADW,iDAEZD,EAAwB/N,EAAxB+N,OAAQC,EAAgBhO,EAAhBgO,YACC,SAAbhO,EAAIiC,KAAiBgkB,EAAKliB,QAAQ+J,eAAe9N,IAE3CgoB,EAAQC,MAAM7Z,KAAKiY,IADxB,EAEiB2B,EAAMhe,OAAO+D,EAAOM,MAAO,GAF5C,mBAEMC,EAFN,KAGD0Z,EAAMhe,OAAOgE,EAAYK,MAAO,EAAGC,GACnCgY,GAAgB0B,GAChBhb,EAAUhE,MAAV,YAAsBgf,GACtBjmB,EAAS6G,GAAUoE,KAVH,2CAAH,sDA2Bfga,GAAa,WACf,GAAIje,EAAS,CACT,IAAMmf,EAAiBnf,EAAQqH,KAAI,SAAAkC,GAAM,OAAIA,EAAO7R,OAC9C0nB,EAAajU,EAAM1M,QAAO,SAAAhH,GAC5B,IAAK0nB,EAAejiB,SAASzF,EAAKC,KAAM,OAAOD,EAAKQ,QAExD2mB,GAAkBQ,KAwBpBjV,GAAQ,uCAAG,WAAOnC,GAAP,iBAAAnR,EAAA,6DACRsmB,EAAW/e,QAER+e,EAAW2B,MAAK,SAACzU,GAAD,OAAeA,EAAUnC,QAAUF,EAAME,UACnD6W,EAAgB5B,EAAWpc,WAAU,SAAAsJ,GAAS,OAAIA,EAAUnC,QAAUF,EAAME,SAClFiV,EAAWlc,OAAO8d,EAAe,IAJjB5B,EAAWhX,KAAK6B,GASxCN,GAAc,YAAIyV,IAClB/S,EAAShK,OAAT,YAAsB+c,GAChBlX,EAAW5D,EAAa3B,WAAW0J,EAAUoJ,EAAUvP,GAZhD,SAaPjL,EAAS6G,GAAUoG,IAbZ,OAcbI,GAAY5O,EAAOA,EAAKS,SAAW,QAAS,QAAS,QAASsb,EAASzT,OACvEkD,GAAcS,KAAK,sBAAuB,CAAExB,KAAMsR,EAAUzN,KAAMqE,IAfrD,2CAAH,sDA0CR4O,GAAS,uCAAG,WAAOqG,GAAP,qBAAAxoB,EAAA,6DACdumB,IAAqB,GADP,SAEOnkB,EAAYpB,YAAYwnB,GAF/B,cAER9V,EAFQ,OAGd6T,IAAqB,GACjB9R,GAAYwT,MAAK,SAAAvT,GAAU,OAAIA,EAAW7T,MAAQ6R,EAAO7R,QACnDoJ,EAAUyI,EAAO1N,MAAMkF,WAAU,SAAAC,GAAC,OAAIA,EAAEtJ,MAAQ0S,EAAS1S,OAC/D6R,EAAO1N,MAAMoF,OAAOH,EAAS,GACvBwe,EAAiBhU,GAAYvK,WAAU,SAAAwK,GAAU,OAAIA,EAAW7T,MAAQ6R,EAAO7R,OACrF4T,GAAYrK,OAAOqe,EAAgB,GACnCjZ,GAAY5O,EAAOA,EAAKS,SAAW,QAAS,UAAWqR,EAAOrR,SAAUkS,EAASrK,SAEjFwJ,EAAO1N,MAAMsK,KAAK,CAAEzO,IAAKiG,EAAYQ,SAAU4B,MAAOqK,EAASrK,QAC/DuL,GAAYnF,KAAKoD,GACjBlD,GAAY5O,EAAOA,EAAKS,SAAW,QAAS,WAAYqR,EAAOrR,SAAUkS,EAASrK,QAEtF4H,GAAe,YAAI2D,KACnBlB,EAASpK,QAAT,YAAuBsL,IACjBrF,EAAW5D,EAAa3B,WAAW0J,EAAUoJ,EAAUvP,GAjB/C,UAkBRjL,EAAS6G,GAAUoG,IAlBX,QAmBdjN,EAASI,EAAWmQ,IACpBtG,GAAcS,KAAK,sBAAuB,CAAExB,KAAMsR,EAAUzN,KAAMqE,IApBpD,4CAAH,sDAuBTmV,GAAqB,SAACF,GACxB,IAAIG,GAAW,EAQf,OAPAvb,EAAUhE,MAAMuF,SAAQ,SAAAtD,GACpBA,EAAKrG,MAAM2J,SAAQ,SAAAO,GACfA,EAAK/F,QAAQwF,SAAQ,SAAA+T,GACbA,EAAE7hB,MAAQ2nB,IAAUG,GAAW,YAIxCA,GAuGLnZ,GAAc,SAACkD,EAAQrQ,EAAMkI,GAA0B,IAApBc,EAAmB,uDAAZ,QACtCud,EAAc,CAAE/nB,IAAKiG,EAAYQ,SAAUoL,SAAQrQ,OAAMkI,OAAMc,OAAMb,UAAWC,KAAKC,OAC3F0C,EAAU/D,SAASkS,QAAQqN,GAC3Bxc,GAAcS,KAAK,wBAAyB+b,GAC5CzmB,EAAS6G,GAAUoE,KAGjBrE,GAAW,uCAAG,WAAO6C,GAAP,eAAA5L,EAAA,sEACIwL,EAAa1C,aAAa8C,GAAWwB,EAAUvM,KADnD,cACVmH,EADU,QAEVoB,MAAMuF,SAAQ,SAAAL,GAChBA,EAAEtJ,MAAM2J,SAAQ,SAAAxE,GACRA,EAAEhB,QAAQ5B,QACV4C,EAAEhB,QAAQwF,QAAV,uCAAkB,WAAM+T,GAAN,eAAA1iB,EAAA,6DACRiK,EAAUyY,EAAE1d,MAAMkF,WAAU,SAAAyY,GAAU,OAAIA,EAAWzZ,QAAUiB,EAAEjB,SACvEwZ,EAAE1d,MAAMoF,OAAOH,EAAS,GAFV,SAGI9H,EAASI,EAAWmgB,IAHxB,yDAAlB,6DALI,SAaEvgB,EAAS0J,GAAY7D,EAAMnH,MAb7B,oEAeXslB,EAAQ7W,KAAK,WAfF,4CAAH,sDAkBjB,IAAKlC,IAAcqZ,KAAiBA,KAAiBtd,EAAS,OAAQ,qBAAKjE,UAAU,mBAAf,SAAkC,qBAAKC,IAAKC,EAAQC,IAAI,OAE9H,IAAM8H,GAAgB,CAClBqC,eACAG,cACAiB,cACAQ,eACAE,kBACAT,iBACAC,kBACAP,WA3He,WACV3P,EAIsB,YAAlBA,EAAKS,UAA4C,YAAlBT,EAAKS,UAA4C,WAAlBT,EAAKS,UACxEwC,EAAU,6FACV+E,YAAW,kBAAM/E,EAAU,QAAO,MAEjC0e,wBAAa,CACdrZ,MAAO,oBACPsZ,QAAS,yCACTC,QAAS,CACL,CACItR,MAAO,cACP3L,QAAS,WACL,IAAM4F,EAAUgC,EAAUhE,MAAMc,WAAU,SAAAmB,GAAI,OAAIA,EAAKxK,MAAQ8b,EAAS9b,OAClE+N,EAAcpD,EAAanB,YAAYe,EAASgC,GACtDhB,GAAcS,KAAK,sBAAuBzB,GAC1CuR,EAAS3X,MAAM2J,SAAQ,SAAAxE,GACfA,EAAEhB,QAAQ5B,QACV4C,EAAEhB,QAAQwF,QAAV,uCAAkB,WAAM+T,GAAN,eAAA1iB,EAAA,6DACRiK,EAAUyY,EAAE1d,MAAMkF,WAAU,SAAAyY,GAAU,OAAIA,EAAWzZ,QAAUiB,EAAEjB,SACvEwZ,EAAE1d,MAAMoF,OAAOH,EAAS,GAFV,SAGI9H,EAASI,EAAWmgB,IAHxB,yDAAlB,0DAOR/S,EAAY,MACZH,GAAY5O,EAAOA,EAAKS,SAAW,QAAS,UAAW,QACvDqlB,GAAgBtZ,EAAUhE,OAC1BjH,EAAS6G,GAAU4F,MAG3B,CACIuC,MAAO,cAjCftN,EAAU,oCACV+E,YAAW,kBAAM/E,EAAU,QAAO,QA2HpCgf,GAAc,CAChB0B,aACAR,UACAwB,iBAxFqB,SAACjc,EAAYjH,GAC9BA,GACAmN,GAAY5O,EAAOA,EAAKS,SAAW,QAAS,UAAW,SACvD+L,EAAU9D,WAAa,CAAE+H,MAAO/H,EAAY6d,IAAK,QAGjD3X,GAAY5O,EAAOA,EAAKS,SAAW,QAAS,UAAW,SACvD+L,EAAU9D,WAAa,CAAE+H,MAAO,KAAM8V,IAAK7d,IAE/CnH,EAAS6J,GAAkB1C,IAC3BnH,EAAS6G,GAAUoE,KA+EnBjE,QAASiE,EAAUjE,QACnBgb,YA7EgB,SAAC5Y,GAEjB,GADA0a,EAAU1a,GACNA,EAAS2D,MAAQ3D,EAAShC,OAAOhC,OAAQ,CACzC,IAAIshB,EAAW,GACXtd,EAAS2D,MACT9B,EAAUhE,MAAMoH,KAAI,SAAAnF,GAChB,OAAOA,EAAKrG,MAAM4C,QAAO,SAAAsH,GACjBA,EAAKhG,MAAMqL,cAAclO,SAASkF,EAAS2D,KAAKqF,gBAAgBsU,EAASvZ,KAAKjE,SAI1FE,EAAShC,OAAOhC,QAChB6F,EAAUhE,MAAMuF,SAAQ,SAAAtD,GACpB,OAAOA,EAAKrG,MAAM2J,SAAQ,SAAAO,GACtB,OAAOA,EAAK3F,OAAOoF,SAAQ,SAAAwC,GACnB5F,EAAShC,OAAOlD,SAAS8K,EAAM5G,OAAOse,EAASvZ,KAAKjE,YAKxE,IAAMyd,EAAW,GAMjB,IALAD,EAAWA,EAASjhB,QAAO,SAAA0G,GACvB,IAAIwa,EAASziB,SAASiI,EAAEzN,KAExB,OADAioB,EAASxZ,KAAKhB,EAAEzN,KACTyN,OAEO6Q,OAAOC,KAAKyJ,GAAUthB,OAIjCmf,GAAgBmC,OAJyB,CAC5C,IAAME,EAAWvd,EAAa5B,eAC9Bmf,EAAS7f,MAAQ,qBACjBwd,GAAgB,CAACqC,UAElBrC,GAAgBtZ,EAAUhE,QA+CjCoG,eACAzG,gBAGE8T,GAAc,CAChBjM,cACA2C,WACAD,YACA6O,aACAnN,gBApNoB,SAAC3C,GACD,kBAATA,EAAmBkB,EAASzI,WAAWwE,KAAK+C,GAClDkB,EAASzI,WAAWV,OAAOiI,EAAM,GACtC,IAAMjD,EAAW5D,EAAa3B,WAAW0J,EAAUoJ,EAAUvP,GAC7DhB,GAAcS,KAAK,sBAAuB,CAAExB,KAAMsR,EAAUzN,KAAMqE,IAClEpR,EAAS6G,GAAUoG,IACnBjN,EAASwJ,GAAayD,EAASvO,OA+M/BuV,WA5Me,SAACS,GAChBtD,EAAS5I,QAAUkM,EACnB,IAAMzH,EAAW5D,EAAa3B,WAAW0J,EAAUoJ,EAAUvP,GAC7DhB,GAAcS,KAAK,sBAAuB,CAAExB,KAAMsR,EAAUzN,KAAMqE,IAClEpR,EAAS6G,GAAUoG,KAyMnBkN,SAtMa,SAACzR,GACd0I,EAAS1I,MAAQA,EACjB,IAAMuE,EAAW5D,EAAa3B,WAAW0J,EAAUoJ,EAAUvP,GAC7DhB,GAAcS,KAAK,sBAAuB,CAAExB,KAAMsR,EAAUzN,KAAMqE,IAClEpR,EAAS6G,GAAUoG,IACnBjN,EAASwJ,GAAayD,EAASvO,OAkM/BuM,YACAxM,OACA0lB,aACA7R,eACAL,qBACA6L,eAGJ,OACI,qCACI,sBAAK/a,UAAU,8BAAf,UACI,sBAAKA,UAAU,oBAAf,UACI,sBAAKA,UAAU,OAAf,UACI,sBAAM6K,OAAQ1M,GAjSZ,SAACvD,GACnB,IAAIoJ,EAAQpJ,EAAKkpB,WAAWja,QAAQ,OAAQ,IAC5C5M,EAAS6G,GAAU,2BAAKoE,GAAN,IAAiBlE,eA+RnB,SACI,+CAAO7G,KAAK,OAAO1B,GAAG,QAAQS,KAAK,SAAYgC,EAAS,eAAxD,IAAuEiN,aAAcjD,EAAUlE,MAAO+G,UAAW,SAACC,GAAsB,UAAVA,EAAEC,KAAiBD,EAAEE,iBAAsBF,EAAEC,KAAwBrK,aAAa,WAEpN,sBAAKZ,UAAU,OAAf,UACI,qBAAKA,UAAU,wBAAf,SACKiE,EAAQqH,KAAI,SAAAkC,GAAM,OAAI,cAAC,IAAD,CAAyBtR,KAAMsR,EAAOtR,KAAMuE,KAAK,KAAKC,OAAO,GAAhD8M,EAAO7R,UAE/C,wBAAQ2E,QAAS,WACbiiB,IAAaD,IACbJ,MAFJ,oBAICI,IAAY,sBAAK9kB,IAAKglB,GAAWxiB,UAAU,qCAA/B,UACT,sBAAKA,UAAU,sBAAf,UACI,gDACA,mBAAGA,UAAU,iBAAiBM,QAAS,kBAAMiiB,IAAaD,KAA1D,SAAqE,cAAC,IAAD,CAAiBtiB,UAAU,KAAKO,KAAMC,WAE/G,sBAAM2O,SAAUhR,GA5SzB,SAAAvD,GACf,IAAMwoB,EAAiBnf,EAAQqH,KAAI,SAAAkC,GAAM,OAAIA,EAAO7R,OAC9C0nB,EAAajU,EAAM1M,QAAO,SAAAhH,GAC5B,IAAK0nB,EAAejiB,SAASzF,EAAKC,KAAM,OAAOD,EAAKQ,KAAKmT,cAAclO,SAASvG,EAAK4S,OAAO6B,kBAEhGwT,GAAkBQ,MAuSM,SACI,mCAAOlmB,KAAK,OAAOyD,aAAa,MAAMC,YAAY,eAAepF,GAAG,SAASS,KAAK,UAAcgC,EAAS,cAE3G0kB,GAAkBvgB,OAAgB,sBAAKrC,UAAU,iBAAf,UAChC,mDACA,6BACK4iB,GAAkBtX,KAAI,SAACkC,EAAQjC,GAC5B,OAAQA,GAAO,EAAK,KAAO,qBAAqBjL,QAAS,kBAjS7E,SAACkN,GACjBwT,EAAW,GAAD,mBAAK/c,GAAL,CAAcuJ,KACxBtF,EAAUjE,QAAV,sBAAwBA,GAAxB,CAAiCuJ,IACjCvQ,EAAS6G,GAAUoE,IA8RgF6b,CAAYvW,IAAhD,UACvB,cAAC,IAAD,CAAyBtR,KAAMsR,EAAOtR,KAAMuE,KAAK,KAAKC,OAAO,GAAhD8M,EAAO7R,KACpB,4BAAI6R,EAAOtR,OACX,4BAAG,cAAC,IAAD,CAAiBqE,KAAMkN,UAHMD,EAAO7R,aAJ1B,KAY3BsI,EAAQ5B,OAAgB,sBAAKrC,UAAU,iBAAf,UACtB,+CACA,6BACKiE,EAAQqH,KAAI,SAAC5P,EAAM6P,GAChB,OAAO,qBAAmBjL,QAAS,kBAvS/C,SAAC7E,GAEzB,GADwB+nB,GAAmB/nB,GAIvC,OAFAkD,EAAU,mEACV+E,YAAW,kBAAM/E,EAAU,QAAO,KAGtC,IAAM4M,EAAMrD,EAAUjE,QAAQe,WAAU,SAAAwI,GAAM,OAAIA,EAAO7R,MAAQF,KACjEwI,EAAQiB,OAAOqG,EAAK,GACpByV,EAAW,YAAI/c,IACfiE,EAAUjE,QAAV,YAAwBA,GACxBhH,EAAS6G,GAAUoE,IA4R0D8b,CAAoBtoB,EAAKC,MAA3D,UACH,cAAC,IAAD,CAAkBO,KAAMR,EAAKQ,KAAMuE,KAAK,KAAKC,OAAO,GAAvC6K,GACb,4BAAI7P,EAAKQ,OACT,4BAAG,cAAC,IAAD,CAAiBqE,KAAMgO,UAHd7S,EAAKC,aAJd,cAe/B,sBAAK6B,IAAKkF,GAAUA,EAAOsH,KAAO,KAAkBqY,GAASriB,UAAU,OAAvE,UACI,mBAAGA,UAAU,gBAAgBM,QAAS,kBAAM+e,IAAU,IAAtD,SAA6D,cAAC,IAAD,CAAiBrf,UAAU,KAAKO,KAAM0jB,QACnG,cAAC,GAAD,CAAWtG,YAAaA,WAGhC,qBAAK3d,UAAU,uBAAf,SACI,cAAC,KAAD,CAAiBkkB,UAAW,SAAChpB,EAAKiC,GAAN,OAAe8lB,GAAgB/nB,EAAKiC,IAAhE,SACI,sBAAK6C,UAAU,OAAf,UACKuhB,GAAajW,KAAI,SAACnF,EAAMoF,GACrB,OAAQ,cAAC,KAAD,CAAWlC,YAAalD,EAAKxK,IAAoBwB,KAAK,OAAtD,SACH,SAACuN,GACE,OAAQ,gDAASA,EAASC,gBAAlB,IAAkCnN,IAAKkN,EAASE,SAAhD,UACJ,qBAAKuZ,mBAAoB,kBAAMrB,IAAyB,IAAxD,SACI,cAAC,KAAD,CAA0BtX,YAAarF,EAAKxK,IAAK4N,MAAOgC,EAAxD,SACK,SAACb,EAAUe,GACR,OAAQ,2DAASf,EAASmB,gBAAoBnB,EAASoB,iBAA/C,IAAgEtO,IAAKkN,EAASE,SAAUxK,MAAK,eAAOsK,EAASmB,eAAezL,OAA5H,SACJ,cAAC,GAAD,CAAa5C,IAAK2jB,EAAMlZ,cAAeA,GAAe9B,KAAMA,SAHxDA,EAAKxK,OAOxB+O,EAAS7J,kBAXyBsF,EAAKxK,SAetD+mB,IAAa,yBAAQ1iB,UAAU,eAAeM,QAAS,kBAAMqiB,IAAcD,KAA9D,UAA0E,cAAC,IAAD,CAAiB1iB,UAAU,KAAKO,KAAMkN,MAA0B,oDACxJiV,IAAa,sBAAK1iB,UAAU,WAAf,cAA2B,uBAAMA,UAAU,qBAAqBW,SAAUxC,GAhP7F,SAACvD,GAChB,IAAIwpB,EAAU9d,EAAa5B,eAC3B0f,EAAQpgB,MAAQpJ,EAAKypB,aACrB7C,GAAgB,GAAD,mBAAKD,IAAL,CAAmB6C,KAClClc,EAAUhE,MAAV,sBAAsBqd,IAAtB,CAAoC6C,IACpCnnB,EAAS6G,GAAUoE,IACnBya,IAAcD,IACdtkB,IACAkM,GAAY5O,EAAOA,EAAKS,SAAW,QAAS,QAAS,QACrD+K,GAAcS,KAAK,mBAAoByc,MAuOsB,UACrC,mCAAOjnB,KAAK,OAAOyD,aAAa,MAAMC,YAAY,YAAYpF,GAAG,QAAQS,KAAK,SAAYgC,EAAS,kBACnG,sBAAK8B,UAAU,OAAf,UACI,8CACA,mBAAGM,QAAS,kBAAMqiB,IAAcD,KAAhC,SAA4C,cAAC,IAAD,CAAiB1iB,UAAU,KAAKO,KAAMC,yBAMpG6N,GAAY8T,KAAY,qBAAK3kB,IAAKA,GAAV,SAAe,cAAC,GAAD,CAAWma,YAAaA,OAChEwK,IAAW9T,GAAY,sBAAKrO,UAAU,sBAAf,UACpB,oBAAIA,UAAU,uBAAd,SAAsCmiB,GAAQjmB,OAC9C,qBAAK8D,UAAU,kBAAkBxC,IAAKilB,GAAYxiB,IAAKkiB,GAAQtH,YAEnE,yBAAS7a,UAAU,YAAYI,MAAO,CAAEC,SAAU3B,EAAS,QAAU,KAArE,SACI,4BAAIA,SAGXigB,GAAiB,yBAAS3e,UAAU,eAAnB,SAAkC,qBAAKC,IAAKC,EAAQC,IAAI,U,OCjkB/E,SAASmkB,KACZ,IAAMrnB,EAAWY,cAMjB,OAJAiB,qBAAU,WACN7B,EAAS4J,IAAiB,OAI1B,0BAAS7G,UAAU,uCAAnB,UAEI,sBAAKA,UAAU,uBAAf,UACI,gCACI,yCACA,gPAGJ,kCACI,qBAAKC,IAAI,wGAAwGE,IAAI,UAG7H,sBAAKH,UAAU,kDAAf,UACI,kCACI,qBAAKC,IAAI,wGAAwGE,IAAI,OAEzH,gCACI,yDACA,mKAIR,sBAAKH,UAAU,uBAAf,UACI,gCACI,mEACA,oNAIJ,kCACI,qBAAKC,IAAI,wGAAwGE,IAAI,UAG7H,qBAAKH,UAAU,gCAAf,SACI,cAAC,IAAD,CAAMwB,GAAG,UAAUxB,UAAU,OAA7B,4BAEJ,qBAAKA,UAAU,sBAAf,SACI,eAAC,IAAD,CAAMwB,GAAG,UAAUxB,UAAU,OAA7B,iBAAwC,+C,OC9CjD,SAASukB,GAAT,GAAkC,IAAVzhB,EAAS,EAATA,MACrB7F,EAAWY,cAEX2mB,EAAW,kBAAO,cAAC,IAAD,CAAMxkB,UAAU,OAAOI,MAAO,CAAE+L,MAAO,SAAW3K,GAAE,iBAAYsB,EAAMnH,KAAtE,SACpB,6BAAKmH,EAAMkB,WAGf,OACI,qBAAKhE,UAAU,mBAAmCM,QAAS,kBAAMrD,EAASwJ,GAAa3D,EAAMnH,OAAOyE,MAAO0C,EAAMsB,WAAatB,EAAMsB,WAAW6d,IAAM,CAAEjW,gBAAgB,OAAD,OAASlJ,EAAMsB,WAAW6d,IAA1B,MAAqC,CAAE7gB,gBAAiB0B,EAAMsB,WAAW+H,OAAU,CAAE/K,gBAAiB,SAA5Q,SACK0B,EAAMsB,YAAatB,EAAMsB,WAAW6d,IAAM,cAAC,IAAD,CAAMjiB,UAAU,OAAOwB,GAAE,iBAAYsB,EAAMnH,KAA3C,SACvC,6BAAMmH,EAAMkB,UACS,cAACwgB,EAAD,KAHU1hB,EAAMnH,K,OCR9C,SAAS8oB,GAAT,GAAqC,IAAhBC,EAAe,EAAfA,YACxB,EAA0CzmB,cAAlCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcC,EAAhC,EAAgCA,MAChC,EAA0CC,mBAAS,MAAnD,mBAAOsmB,EAAP,KAAsBC,EAAtB,KAQA,OACI,qBAAI5kB,UAAU,kBAAd,UACK0kB,EAAYne,OAAO+E,KAAI,SAAAxI,GAAK,OAAI,6BAAoB,cAAC,GAAD,CAA8BA,MAAOA,GAAlBA,EAAMnH,MAApCmH,EAAMnH,QAChD,qBAAIqE,UAAU,uBAAd,WACM2kB,GAAiB,wBAAQrkB,QAAS,kBAAMskB,GAAkBD,IAAzC,0BAClBA,GACG,uBAAMhkB,SAAUxC,GAZb,SAAAvD,GACf8pB,EAAYG,SAASjqB,EAAKkqB,eAC1BF,GAAkBD,GAClBvmB,OASY,UACI,+CAAOjB,KAAK,OAAO1B,GAAG,QAAQS,KAAK,QAAQ0E,aAAa,OAAU1C,EAAS,kBAA3E,IAA6F2C,YAAY,gBACzG,2D,OCXjB,SAASkkB,KACZ,IAAM9nB,EAAWY,cACX0I,EAASzI,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAa5B,UACjDxF,EAAe7D,EAAYb,QAAQM,sBACnCskB,EAAUC,cAEhBpiB,qBAAU,WACNoI,GAAcE,QACdnK,EAASwJ,GAAa,OACtBxJ,EAASmJ,MACTnJ,EAAS4J,IAAiB,MAC3B,CAAC5J,IAEJ6B,qBAAU,WACFiC,IACA9D,EAASH,EAAMiE,IACfkgB,EAAQ7W,KAAK,cAElB,IAEH,IAAMya,EAAQ,uCAAG,WAAO7gB,GAAP,eAAAlJ,EAAA,6DACPoP,EAAW5D,EAAavC,iBACrBC,MAAQA,EAFJ,SAGP/G,EAAS6G,GAAUoG,IAHZ,OAIb3D,EAAO6D,KAAKF,GAJC,2CAAH,sDAMd,IAAK3D,IAAWA,EAAOlE,OAAQ,OAAQ,qBAAKrC,UAAU,mBAAf,SAAkC,qBAAKC,IAAKC,EAAQC,IAAI,OAE/F,IAAMukB,EAAc,CAChBne,SACAse,YAGJ,OACI,sBAAK7kB,UAAU,kCAAf,UACI,uDACA,cAAC,GAAD,CAAW0kB,YAAaA,OChDrB,WAA0B,qCCmD1BM,OArCf,WACI,IAAM/nB,EAAWY,cACXqK,EAAYpK,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAaD,aACpD9D,EAAatG,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAa/D,cACrD2C,EAAiBjJ,aAAY,SAAAC,GAAK,OAAIA,EAAMoK,aAAapB,kBACzDhG,EAAe7D,EAAYb,QAAQM,sBAiBzC,OAfAmC,qBAAU,WACN7B,E3BnBN,uCAAO,WAAMA,GAAN,eAAAnC,EAAA,sEACeoC,EAAYrB,QAD3B,OACCuT,EADD,OAGLnS,EADe,CAAEE,KAAM,YAAaiS,UAF/B,2CAAP,uD2BoBMnS,EAASmJ,QACV,IAEHtH,qBAAU,WACN7B,EAAS6J,GAAkB,SAC5B,CAAC1C,IAEJtF,qBAAU,WACFiC,GACA9D,EAASH,EAAMiE,MAEpB,CAACmH,IAGA,cAAC,IAAD,UACI,sBAAKlI,UAAU,gBAAgBI,MAAQgE,EAA2M,CAAE4H,gBAAgB,OAAD,OAASiZ,GAAT,MAA/M/c,EAAYA,EAAU9D,WAAW+H,MAAQ,CAAE/K,gBAAiB2F,GAAmB,CAAEiF,gBAAiB9D,EAAU9D,WAAW6d,IAArB,cAAkClb,EAAlC,KAAsD,IAAO,CAAE3F,gBAAiB,SAAtO,UACI,cAAC,EAAD,IACA,cAAC,IAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAO8jB,UAAWpE,GAAcqE,KAAK,gBACrC,cAAC,IAAD,CAAOD,UAAWH,GAAYI,KAAK,YACnC,cAAC,IAAD,CAAOD,UAAWZ,GAAaa,KAAK,eChCzCC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB9J,MAAK,YAAkD,IAA/C+J,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCPRO,GAAgB,CACpBrf,OAAQ,GACR2B,UAAW,KACX9D,YAAY,EACZ2C,eAAgB,KAChBV,SAAU,KACVsY,eAAe,GCNjB,IAAMiH,GAAgB,CACpBxW,MAAO,GACP1T,KAAM,MCGR,IAAMmqB,GAAmB7kB,OAAO8kB,sCAAwCC,KAElEC,GAAcC,aAAgB,CAClC9d,aFCK,WAAsD,IAAhCpK,EAA+B,uDAAvB6nB,GAAeM,EAAQ,uCAC1D,OAAQA,EAAO/oB,MACb,IAAK,aACH,OAAO,2BACFY,GADL,IAEEwI,OAAQ2f,EAAO3f,SAEnB,IAAK,YACH,OAAO,2BACFxI,GADL,IAEEmK,UAAWge,EAAOpjB,QAEtB,IAAK,YACH,OAAO,2BACF/E,GADL,IAEEwI,OAAO,GAAD,mBAAMxI,EAAMwI,QAAZ,CAAoB2f,EAAOpjB,UAErC,IAAK,eACH,OAAO,2BACF/E,GADL,IAEEwI,OAAQxI,EAAMwI,OAAO7D,QAAO,SAAAI,GAAK,OAAIA,EAAMnH,MAAQuqB,EAAOxf,aAE9D,IAAK,eACH,IAAQF,EAAiB0f,EAAjB1f,aACR,OAAO,2BACFzI,GADL,IAEEwI,OAAQxI,EAAMwI,OAAO+E,KAAI,SAAAxI,GAAK,OAAIA,EAAMnH,MAAQ6K,EAAa7K,IAAM6K,EAAe1D,OAEtF,IAAK,oBACH,OAAO,2BACF/E,GADL,IAEEqG,WAAY8hB,EAAO9hB,aAEvB,IAAK,iBACH,OAAO,2BACFrG,GADL,IAEEgJ,eAAgBmf,EAAOnf,iBAE3B,IAAK,kBACH,OAAO,2BACFhJ,GADL,IAEEsI,SAAU6f,EAAO7f,WAErB,IAAK,sBACH,OAAO,2BACFtI,GADL,IAEE4gB,cAAeuH,EAAOjf,OAE1B,QACE,OAAOlJ,IEjDXC,YDJK,WAAqD,IAAhCD,EAA+B,uDAAvB6nB,GAAeM,EAAQ,uCACzD,OAAQA,EAAO/oB,MACb,IAAK,YACH,OAAO,2BACFY,GADL,IAEEqR,MAAO8W,EAAO9W,QAElB,IAAK,YACH,OAAO,2BACFrR,GADL,IAEErC,KAAMwqB,EAAOxqB,OAEjB,IAAK,cACH,IAAQ4B,EAAgB4oB,EAAhB5oB,YACR,OAAO,2BACFS,GADL,IAEEqR,MAAOrR,EAAMqR,MAAM9D,KAAI,SAAA5P,GAAI,OAAIA,EAAKC,MAAQ2B,EAAY3B,IAAM2B,EAAc5B,OAEhF,QACE,OAAOqC,MCZAooB,GAAQC,aAAYJ,GAAaH,GAAiBQ,aAAgBC,QCJ/EC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJ/mB,SAASsnB,eAAe,SAG1BtB,O","file":"static/js/main.cfb7ef8c.chunk.js","sourcesContent":["import Axios from 'axios'\r\n// import { router } from '@/router'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ?\r\n    '/api/' :\r\n    '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            // Depends on routing startegy - hash or history\r\n            // window.location.assign('/#/login')\r\n            // window.location.assign('/login')\r\n            // router.push('/login')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from \"./http.service\"\r\n\r\nconst KEY = 'user/'\r\nconst AUTH = 'auth/'\r\n\r\n// CRUDL\r\nasync function query() {\r\n    try {\r\n        return await httpService.get(KEY)\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\nasync function getUserById(id) {\r\n    try {\r\n        return await httpService.get(KEY + id)\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\nasync function deleteUser(id) {\r\n    try {\r\n        return await httpService.delete(KEY + id)\r\n    } catch (err) {\r\n        console.log('Error from userService - ', err);\r\n    }\r\n}\r\n\r\nasync function saveUser(user) {\r\n    try {\r\n        if (user._id) return await httpService.put(KEY + user._id, user)\r\n        return await httpService.post(KEY, user)\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\nasync function login(user) {\r\n    try {\r\n        return await httpService.post(AUTH + 'login', user)\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\nasync function logout() {\r\n    try {\r\n        return await httpService.post(AUTH + 'logout')\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\n// storage\r\nconst storage = {\r\n    saveUserToStorage(user) {\r\n        sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    },\r\n    loadUserFromStorage() {\r\n        return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n    }\r\n}\r\n\r\n// get functions\r\nfunction getEmptyUser() {\r\n    return {\r\n        name: '',\r\n        username: '',\r\n        password: ''\r\n    }\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default {\r\n    query,\r\n    getUserById,\r\n    deleteUser,\r\n    saveUser,\r\n    getEmptyUser,\r\n    storage,\r\n    login,\r\n    logout\r\n}","import userService from \"../../services/userService\"\r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    const users = await userService.query()\r\n    const action = { type: 'SET_USERS', users }\r\n    dispatch(action)\r\n  }\r\n}\r\nexport function login(userToLogin) {\r\n  return async dispatch => {\r\n    const user = await userService.login(userToLogin)\r\n    if (!user) return 'Incorrect username or password';\r\n    userService.storage.saveUserToStorage(user)\r\n    const action = { type: 'LOAD_USER', user }\r\n    dispatch(action)\r\n  }\r\n}\r\nexport function logout() {\r\n  return async dispatch => {\r\n    await userService.logout()\r\n    userService.storage.saveUserToStorage(null)\r\n    const action = { type: 'LOAD_USER', user: null }\r\n    dispatch(action)\r\n  }\r\n}\r\nexport function signup(user) {\r\n  return async dispatch => {\r\n    const confirm = await userService.saveUser(user)\r\n    if (!confirm) return `Username - '${user.username}' is already taken.`\r\n    userService.storage.saveUserToStorage(user)\r\n    const action = { type: 'LOAD_USER', user }\r\n    dispatch(action)\r\n  }\r\n}\r\nexport function updateUser(user) {\r\n  return async dispatch => {\r\n    const updatedUser = await userService.saveUser(user)\r\n    userService.storage.saveUserToStorage(updatedUser)\r\n    const action = { type: 'UPDATE_USER', updatedUser }\r\n    dispatch(action)\r\n    return updatedUser;\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/taskman-loader.ce04c907.svg\";","import { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { login, logout, signup } from '../../store/actions/userActions'\r\nimport loader from '../../assets/imgs/taskman-loader.svg'\r\nimport './UserProfile.scss'\r\nimport Avatar from 'react-avatar'\r\n\r\nexport function UserProfile({ profileOp }) {\r\n    const { isProfile, setIsProfile } = profileOp\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.userReducer.user)\r\n    const { register, handleSubmit, reset } = useForm();\r\n    const [isLogin, setIsLogin] = useState(true)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [errMsg, setErrMsg] = useState(null)\r\n\r\n    const useOnClickOutside = (ref, handler) => {\r\n        useEffect(() => {\r\n            const listener = (event) => {\r\n                if (!ref.current || ref.current.contains(event.target)) {\r\n                    return;\r\n                }\r\n                handler(event);\r\n            };\r\n            document.addEventListener(\"mousedown\", listener);\r\n            document.addEventListener(\"touchstart\", listener);\r\n            return () => {\r\n                document.removeEventListener(\"mousedown\", listener);\r\n                document.removeEventListener(\"touchstart\", listener);\r\n            };\r\n        }, [ref, handler]);\r\n    }\r\n\r\n    const profileRef = useRef()\r\n    useOnClickOutside(profileRef, () => setIsProfile(false));\r\n\r\n    const closeMenu = () => setIsProfile(false)\r\n\r\n    const onLogin = async data => {\r\n        setErrMsg(null)\r\n        setIsLoading(true)\r\n        const userToLogin = { username: data.loginUsername, password: data.loginPass }\r\n        const isLoggedin = await dispatch(login(userToLogin))\r\n        if (isLoggedin) setErrMsg(isLoggedin)\r\n        setIsLoading(false)\r\n        reset()\r\n    }\r\n\r\n    const onSignup = async data => {\r\n        setErrMsg(null)\r\n        setIsLoading(true)\r\n        const userToSignup = { name: data.loginFullname, username: data.loginUsername, password: data.loginPass, tasks: [] }\r\n        const isSignup = await dispatch(signup(userToSignup))\r\n        setIsLoading(false)\r\n        if (isSignup) setErrMsg(isSignup)\r\n        setIsProfile(true)\r\n        reset()\r\n    }\r\n\r\n    const onLogout = () => {\r\n        dispatch(logout())\r\n        setIsProfile(false)\r\n    }\r\n\r\n    if (isLoading) return (<div className=\"profile-loader login-form\"><img src={loader} alt=\"\" /></div>)\r\n\r\n    return (\r\n        <>\r\n            {user && <section ref={profileRef} className=\"user-menu\" style={isProfile ? { maxWidth: '100%' } : { maxWidth: '0' }}>\r\n                <div>\r\n                    <h3>Profile</h3>\r\n                    <p onClick={closeMenu}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                </div>\r\n                <div>\r\n                    <Avatar name={user.name} size=\"40\" round={true} />\r\n                    <p>{user.username}</p>\r\n                </div>\r\n                {/* <div className=\"hide-overflow\">\r\n                    <p>{user.tasks.length ? 'Tasks:' : 'No tasks assigned.'}</p>\r\n                    {!user.tasks.length ? null : <p>{user.tasks.length} tasks.</p>}\r\n                    <ul>\r\n                        {user.tasks ? null : <li>{user.tasks.length}</li>}\r\n                        {!user.tasks.length ? null : user.tasks.map(task => <li key={task._id}>{task.title}</li>)}\r\n                    </ul>\r\n                </div> */}\r\n                <div>\r\n                    <button onClick={onLogout}>Logout</button>\r\n                </div>\r\n            </section>}\r\n            {!user && <section ref={profileRef} className=\"login-form\" style={isProfile ? { maxWidth: '100%' } : { maxWidth: '0' }}>\r\n                <h3>{isLogin ? 'Login' : 'Signup'}</h3>\r\n                {isLogin && <form onSubmit={handleSubmit(onLogin)}>\r\n                    <input type=\"text\" autoComplete=\"off\" placeholder=\"username\" {...register(\"loginUsername\")} />\r\n                    <input type=\"password\" autoComplete=\"off\" placeholder=\"password\" {...register(\"loginPass\")} />\r\n                    {errMsg && <p className=\"fail-login\">{errMsg}</p>}\r\n                    <button>Login</button>\r\n                </form>}\r\n                {!isLogin && <form onSubmit={handleSubmit(onSignup)}>\r\n                    <input type=\"text\" autoComplete=\"off\" placeholder=\"fullname\" {...register(\"loginFullname\")} />\r\n                    <input type=\"text\" autoComplete=\"off\" placeholder=\"username\" {...register(\"loginUsername\")} />\r\n                    <input type=\"password\" autoComplete=\"off\" placeholder=\"password\" {...register(\"loginPass\")} />\r\n                    <button>Signup</button>\r\n                </form>}\r\n                {isLogin && <p onClick={() => setIsLogin(!isLogin)}>Not a registered user?<br />Click here to sign-up.</p>}\r\n                {!isLogin && <p onClick={() => setIsLogin(!isLogin)}>Registered user?<br />Click here to login.</p>}\r\n            </section>}\r\n        </>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/Taskman-logo.13c10a7c.png\";","import { Link } from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHome, faUserCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport './AppHeader.scss'\r\nimport { useDispatch } from 'react-redux'\r\nimport { UserProfile } from '../UserProfile'\r\nimport { useEffect, useState } from 'react'\r\nimport { login } from '../../store/actions/userActions'\r\nimport userService from '../../services/userService'\r\nimport logo from '../../assets/imgs/Taskman-logo.png'\r\n\r\nexport function AppHeader() {\r\n    const dispatch = useDispatch()\r\n    const [isProfile, setIsProfile] = useState(false)\r\n    const loggedinUser = userService.storage.loadUserFromStorage()\r\n\r\n    useEffect(() => {\r\n        if (loggedinUser) dispatch(login(loggedinUser))\r\n    }, [])\r\n\r\n    const profileOp = {\r\n        setIsProfile,\r\n        isProfile\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"app-header sub-container\" style={window.location.hash.includes('boards') ? { backgroundColor: '#026AA7', position: 'sticky', top: 0, zIndex: 20 } : { backgroundColor: 'rgba(0, 0, 0, 0.32)' }}>\r\n                <Link className=\"link\" to=\"/boards\" ><FontAwesomeIcon icon={faHome} /></Link>\r\n                <Link className=\"link\" to=\"/boards\" ><img src={logo} alt={logo} /> Task<span>man</span></Link>\r\n                <button className=\"link\" onClick={() => setIsProfile(!isProfile)} ><FontAwesomeIcon icon={faUserCircle} /></button>\r\n            </nav>\r\n            <UserProfile profileOp={profileOp} />\r\n        </>\r\n    )\r\n}\r\n","export const utilService = {\r\n  getRandomInt,\r\n  makeId,\r\n  filter,\r\n  sort,\r\n  debounce,\r\n  getCards\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min) + min);\r\n}\r\n\r\nfunction makeId(length = 10) {\r\n  var txt = ''\r\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n  for (var i = 0; i < length; i++) {\r\n    txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n  }\r\n  return txt\r\n}\r\n\r\nfunction filter(term, arr) {\r\n  term = term.toLocaleLowerCase()\r\n  return arr.filter(board => {\r\n    return board.name.toLocaleLowerCase().includes(term) ||\r\n      board.phone.toLocaleLowerCase().includes(term) ||\r\n      board.email.toLocaleLowerCase().includes(term)\r\n  })\r\n}\r\n\r\nfunction sort(arr) {\r\n  return arr.sort((a, b) => {\r\n    if (a.name.toLocaleLowerCase() < b.name.toLocaleLowerCase()) {\r\n      return -1;\r\n    }\r\n    if (a.name.toLocaleLowerCase() > b.name.toLocaleLowerCase()) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  })\r\n}\r\n\r\nfunction debounce(func, wait = 1000) {\r\n  let timeout;\r\n  return function (...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n}\r\n\r\nfunction getCards() {\r\n  return [{ \"_id\": \"Iqo7B9IkHL\", \"title\": \"Project Resources\", \"tasks\": [{ \"_id\": \"9YSa1kzg52\", \"title\": \"Taskman Tip: Card labels! What do they mesan? (Click for more info)\", \"desc\": \"Add some detailed description...  \", \"createdAt\": 1626005013737, \"labels\": [{ \"_id\": \"Dmx3Ndq5ae\", \"desc\": \"Copy Request\", \"color\": \"#61BD4F\" }, { \"_id\": \"DTe0Hyuy15\", \"desc\": \"One more step\", \"color\": \"#F2D600\" }, { \"_id\": \"3T7iY5aEZq\", \"desc\": \"Design Team\", \"color\": \"#FF9F1A\" }, { \"_id\": \"eUndoFloY5\", \"desc\": \"Taskman Tip\", \"color\": \"#C377E0\" }, { \"_id\": \"OpKNerKB7i\", \"desc\": \"Help\", \"color\": \"#0079BF\" }, { \"_id\": \"ExsR2osNYg\", \"desc\": \"Priority\", \"color\": \"#51E898\" }, { \"_id\": \"2vtJbqwa21\", \"desc\": \"Product Marketing\", \"color\": \"#EB5A46\" }], \"dueDate\": \"\", \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [], \"comments\": [{ \"_id\": \"E7AA1HoD1n\", \"member\": \"Guest\", \"timeStamp\": 1627567554433, \"title\": \"aa\" }] }, { \"_id\": \"w2X3Uwfkdk\", \"title\": \"Project Launch Timeline\", \"desc\": \"git push, go home\", \"createdAt\": 1626005016566, \"labels\": [], \"dueDate\": \"\", \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"data:image/png;base64,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\", \"checklists\": [{ \"title\": \"checklist\", \"list\": [{ \"desc\": \"March 1st, 2019: Begin campaign planning\", \"isChecked\": false }, { \"desc\": \"March 15th, 2019: Approve budgets\", \"isChecked\": false }, { \"desc\": \"March 22nd, 2019: Finish legal review\", \"isChecked\": false }, { \"desc\": \"April 15th, 2019: Approve designs\", \"isChecked\": false }, { \"desc\": \" May 1st, 2019: Test website\", \"isChecked\": false }, { \"desc\": \"May 20th, 2019: Launch!\", \"isChecked\": false }], \"range\": 0 }], \"doneAt\": \"\", \"attachments\": [{ \"_id\": \"KtjGiTETLM\", \"title\": \"\", \"src\": \"data:image/png;base64,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\", \"createdAt\": 1627904381576 }], \"comments\": [] }, { \"_id\": \"dGZVkQgpck\", \"title\": \"Stakeholders\", \"desc\": \"hey you\", \"createdAt\": 1626005018854, \"labels\": [], \"dueDate\": 1625501760000, \"activity\": [], \"members\": [{ \"name\": \"Aviv Zohar\", \"username\": \"avivzo9\", \"password\": \"1234\", \"_id\": \"CzGuCFAKZU5fVtlzIIne\", \"tasks\": [{ \"_id\": \"D3KlOWxSFD\", \"title\": \"qwe\" }, { \"_id\": \"RcqHUlyMZP\", \"title\": \"Stakeholders\" }] }, { \"name\": \"Hadar Marom\", \"username\": \"hadarMa\", \"password\": \"1234\", \"_id\": \"JNFBQHweV6uSeFozLJsH\", \"tasks\": [{ \"_id\": \"NAJjUcJa8C\", \"title\": \"qwe\" }, { \"_id\": \"bRRxo3M8I1\", \"title\": \"Stakeholders\" }] }, { \"name\": \"Oshri Yoktan\", \"username\": \"OshYok\", \"password\": \"1234\", \"_id\": \"g9EWfXnC2qRWYgrTVzJ1\", \"tasks\": [{ \"_id\": \"edRJNkDHlj\", \"title\": \"qwe\" }, { \"_id\": \"pHbH5Xka9W\", \"title\": \"Stakeholders\" }] }], \"isWithAttachment\": false, \"cover\": \"#f5dd29\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [], \"comments\": [] }] }, { \"_id\": \"AI1mAAmYWO\", \"title\": \"Development\", \"tasks\": [{ \"_id\": \"VD0LpqszbO\", \"title\": \"create git repo\", \"desc\": \"\", \"createdAt\": 1627569368456, \"labels\": [], \"dueDate\": 1628779140000, \"activity\": [], \"members\": [{ \"name\": \"Oshri Yoktan\", \"username\": \"OshYok\", \"password\": \"1234\", \"_id\": \"g9EWfXnC2qRWYgrTVzJ1\", \"tasks\": [{ \"_id\": \"edRJNkDHlj\", \"title\": \"qwe\" }, { \"_id\": \"pHbH5Xka9W\", \"title\": \"Stakeholders\" }, { \"_id\": \"qTA9MqX2IY\", \"title\": \"create git repo\" }] }], \"isWithAttachment\": false, \"cover\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627569507/taskman/uploads/vklannewbujwjgtxjebd.png\", \"checklists\": [{ \"title\": \"Linkedin\", \"list\": [{ \"desc\": \"check my Linkedin \", \"isChecked\": true }], \"range\": 100 }], \"doneAt\": 1627569591795, \"attachments\": [{ \"_id\": \"HQhauncovd\", \"src\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627569507/taskman/uploads/vklannewbujwjgtxjebd.png\", \"createdAt\": 1627904381576 }], \"comments\": [] }, { \"_id\": \"5YK5sCMBCn\", \"title\": \"Master Vue.js\", \"desc\": \"wow vue is awsome!\", \"createdAt\": 1627569786876, \"labels\": [{ \"_id\": \"Dmx3Ndq5ae\", \"desc\": \"Copy Request\", \"color\": \"#61BD4F\" }, { \"_id\": \"DTe0Hyuy15\", \"desc\": \"One more step\", \"color\": \"#F2D600\" }, { \"_id\": \"3T7iY5aEZq\", \"desc\": \"Design Team\", \"color\": \"#FF9F1A\" }], \"dueDate\": \"\", \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627569813/taskman/uploads/f7nruemruy4w3zrzbi1l.jpg\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [{ \"_id\": \"3Jfpll0HlY\", \"src\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627569813/taskman/uploads/f7nruemruy4w3zrzbi1l.jpg\", \"createdAt\": 1627904381576 }], \"comments\": [] }] }, { \"_id\": \"JLGHI7zTSR\", \"title\": \"Style\", \"tasks\": [{ \"_id\": \"lBep47cNqy\", \"title\": \"Transform all css into scss file\", \"desc\": \"I cannot believe how simple it was!\", \"createdAt\": 1627570073147, \"labels\": [], \"dueDate\": 1634309400000, \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627570113/taskman/uploads/dasllc2vqmrz8ggvik6t.png\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [], \"comments\": [{ \"_id\": \"zBLPyjT7o1\", \"member\": \"OshYok\", \"timeStamp\": 1627570159419, \"title\": \"really was easy\" }] }, { \"_id\": \"dbzHVgh2ri\", \"title\": \"Design new logo\", \"desc\": \"\", \"createdAt\": 1627569973215, \"labels\": [{ \"_id\": \"3T7iY5aEZq\", \"desc\": \"Design Team\", \"color\": \"#FF9F1A\" }, { \"_id\": \"ExsR2osNYg\", \"desc\": \"Priority\", \"color\": \"#51E898\" }], \"dueDate\": 1628698560000, \"activity\": [], \"members\": [{ \"name\": \"Hadar Marom\", \"username\": \"hadarMa\", \"password\": \"1234\", \"_id\": \"JNFBQHweV6uSeFozLJsH\", \"tasks\": [{ \"_id\": \"NAJjUcJa8C\", \"title\": \"qwe\" }, { \"_id\": \"bRRxo3M8I1\", \"title\": \"Stakeholders\" }, { \"_id\": \"eLJD4i02rp\", \"title\": \"Design new logo\" }] }, { \"name\": \"Aviv Zohar\", \"username\": \"avivzo9\", \"password\": \"1234\", \"_id\": \"CzGuCFAKZU5fVtlzIIne\", \"tasks\": [{ \"_id\": \"D3KlOWxSFD\", \"title\": \"qwe\" }, { \"_id\": \"RcqHUlyMZP\", \"title\": \"Stakeholders\" }, { \"_id\": \"P8WLPBnuWX\", \"title\": \"Design new logo\" }] }], \"isWithAttachment\": false, \"cover\": \"\", \"checklists\": [{ \"title\": \"To Do\", \"list\": [{ \"desc\": \"use photoshop\", \"isChecked\": false }], \"range\": 0 }], \"doneAt\": 1627575363158, \"attachments\": [], \"comments\": [] }, { \"_id\": \"CuBYb4z8Ku\", \"title\": \"Make the web responsive\", \"desc\": \"none\", \"createdAt\": 1627570330261, \"labels\": [{ \"_id\": \"DTe0Hyuy15\", \"desc\": \"One more step\", \"color\": \"#F2D600\" }, { \"_id\": \"3T7iY5aEZq\", \"desc\": \"Design Team\", \"color\": \"#FF9F1A\" }, { \"_id\": \"OpKNerKB7i\", \"desc\": \"Help\", \"color\": \"#0079BF\" }], \"dueDate\": \"\", \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627570387/taskman/uploads/odqygkvwgjj4ysu03mf5.jpg\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [{ \"_id\": \"MED941SNaG\", \"src\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627570387/taskman/uploads/odqygkvwgjj4ysu03mf5.jpg\", \"createdAt\": 1627904381576 }], \"comments\": [] }] }, { \"_id\": \"j89sGUxH7s\", \"title\": \"Color Review\", \"tasks\": [{ \"_id\": \"pbUEBUO7NU\", \"title\": \"user should be able to delete board, list, tasks\", \"desc\": \"\", \"createdAt\": 1627573612054, \"labels\": [], \"dueDate\": 1627487220000, \"activity\": [], \"members\": [{ \"name\": \"Hadar Marom\", \"username\": \"hadarMa\", \"password\": \"1234\", \"_id\": \"JNFBQHweV6uSeFozLJsH\", \"tasks\": [{ \"_id\": \"NAJjUcJa8C\", \"title\": \"qwe\" }, { \"_id\": \"bRRxo3M8I1\", \"title\": \"Stakeholders\" }, { \"_id\": \"eLJD4i02rp\", \"title\": \"Design new logo\" }, { \"_id\": \"LxQMJqks1y\", \"title\": \"user should be able to delete board, list, tasks\" }] }], \"isWithAttachment\": false, \"cover\": \"#7bc86c\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [], \"comments\": [{ \"_id\": \"PtVX1tIhVv\", \"member\": \"avivzo9\", \"timeStamp\": 1627573676086, \"title\": \"I cant make it on time.\" }] }, { \"_id\": \"656hRdVJds\", \"title\": \"connect to MySql\", \"desc\": \"\", \"createdAt\": 1627574205698, \"labels\": [], \"dueDate\": \"\", \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627574246/taskman/uploads/yzlmy051h04ww8tlbyla.png\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [{ \"_id\": \"x9OxRL11ky\", \"src\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627574246/taskman/uploads/yzlmy051h04ww8tlbyla.png\", \"createdAt\": 1627904381576 }], \"comments\": [] }, { \"_id\": \"buEn294I24\", \"title\": \"user can edit labels as he wish\", \"desc\": \"The generation of random numbers is too important to be left to chance.\", \"createdAt\": 1627573994215, \"labels\": [{ \"_id\": \"eUndoFloY5\", \"desc\": \"Taskman Tip\", \"color\": \"#C377E0\" }], \"dueDate\": 1628783580000, \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"#29cce5\", \"checklists\": [], \"doneAt\": 1627574041247, \"attachments\": [], \"comments\": [] }] }, { \"_id\": \"QihBi8fJrB\", \"title\": \"QA\", \"tasks\": [{ \"_id\": \"s3Wj5zIxyE\", \"title\": \"check the server side\", \"desc\": \"\", \"createdAt\": 1627575187722, \"labels\": [{ \"_id\": \"2vtJbqwa21\", \"desc\": \"Product Marketing\", \"color\": \"#EB5A46\" }], \"dueDate\": 1630167240000, \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627575268/taskman/uploads/k32jzq8v4n6icq5nbjj0.jpg\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [], \"comments\": [] }, { \"_id\": \"j3AND3Ky65\", \"title\": \"check if the checklist works\", \"desc\": \"\", \"createdAt\": 1627575744035, \"labels\": [{ \"_id\": \"DTe0Hyuy15\", \"desc\": \"One more step\", \"color\": \"#F2D600\" }], \"dueDate\": \"\", \"activity\": [], \"members\": [{ \"name\": \"Hadar Marom\", \"username\": \"hadarMa\", \"password\": \"1234\", \"_id\": \"JNFBQHweV6uSeFozLJsH\", \"tasks\": [{ \"_id\": \"NAJjUcJa8C\", \"title\": \"qwe\" }, { \"_id\": \"bRRxo3M8I1\", \"title\": \"Stakeholders\" }, { \"_id\": \"eLJD4i02rp\", \"title\": \"Design new logo\" }, { \"_id\": \"LxQMJqks1y\", \"title\": \"user should be able to delete board, list, tasks\" }, { \"_id\": \"869HKjM2vR\", \"title\": \"check if the checklist works\" }] }], \"isWithAttachment\": false, \"cover\": \"\", \"checklists\": [{ \"title\": \"check\", \"list\": [{ \"desc\": \"one\", \"isChecked\": false }, { \"desc\": \"two\", \"isChecked\": false }, { \"desc\": \"three\", \"isChecked\": true }], \"range\": 33.33 }, { \"title\": \"check again\", \"list\": [{ \"desc\": \"one\", \"isChecked\": false }, { \"desc\": \"two\", \"isChecked\": true }], \"range\": 50 }, { \"title\": \"again!\", \"list\": [{ \"desc\": \"arrrr\", \"isChecked\": true }], \"range\": 100 }], \"doneAt\": \"\", \"attachments\": [], \"comments\": [] }, { \"_id\": \"L3hoCwoPT1\", \"title\": \"check my CV\", \"desc\": \"\", \"createdAt\": 1627575953341, \"labels\": [], \"dueDate\": \"\", \"activity\": [], \"members\": [], \"isWithAttachment\": false, \"cover\": \"https://res.cloudinary.com/dtu0lzwpw/image/upload/v1627576136/taskman/uploads/steafbd30qnetmuuafn1.gif\", \"checklists\": [], \"doneAt\": \"\", \"attachments\": [], \"comments\": [] }] }, { \"_id\": \"UjlVn2qnoM\", \"title\": \"Done!\", \"tasks\": [] }]\r\n}","import { httpService } from \"./http.service\"\r\nimport { utilService } from \"./utilService\"\r\nconst KEY = 'board/'\r\n\r\n// eslint-disable-next-line\r\nexport default {\r\n    query,\r\n    getBoardById,\r\n    deleteBoard,\r\n    saveBoard,\r\n    getEmptyBoard,\r\n    getEmptyCard,\r\n    updateCard,\r\n    updateBoard,\r\n    getEmptyTask,\r\n    getCoverColors,\r\n}\r\n\r\nconst cloudUrls = [\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621015877/taskman/jared-verdi-PNKwdJ8WetM-unsplash_aabpzg.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016569/taskman/zsofia-szalay-TbrzJbcacnQ-unsplash_bst628.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016567/taskman/the-nigmatic-lUnLaEWzcz8-unsplash_vcfxju.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016565/taskman/steve-johnson-274PPmlOjyQ-unsplash_twaarr.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/omer-salom-LoijtQXXNhs-unsplash_w6cs4h.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/jonny-gios-h_XcnLbDc_0-unsplash_lhi5si.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/inaki-del-olmo-IRCzpl2YYKE-unsplash_tpzeyw.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/joel-holland-TRhGEGdw-YY-unsplash_dqapzs.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016558/taskman/ian-schneider-TamMbr4okv4-unsplash_r85bnj.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016557/taskman/mohammad-alizade-CDu0x1Aiils-unsplash_jqizxr.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016556/taskman/mohammad-alizade-62t_kKa2YlA-unsplash_rbytvb.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016555/taskman/mohamed-rishfaan-ir_65wcK_DA-unsplash_qgfljs.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016554/taskman/ines-mills-TGs0tHMk4eg-unsplash_bkqpbf.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016551/taskman/erol-ahmed-aIYFR0vbADk-unsplash_g8hmym.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016551/taskman/duy-thanh-nguyen-ZeoSVUcWjfY-unsplash_z4qs2l.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016550/taskman/fransiskus-filbert-mangundap-C9hqYikX34w-unsplash_mqj9zi.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016548/taskman/arpad-spodni-KbKQY_LjmuE-unsplash_fqlcyv.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016546/taskman/dave-hoefler-PkQH-GHEp0A-unsplash_jfurlc.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016544/taskman/fabrice-villard-Du41jIaI5Ww-unsplash_kqcna2.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016542/taskman/estee-janssens-aQfhbxailCs-unsplash_slddqg.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016542/taskman/angel-luciano-XQJ0BBSvTs0-unsplash_d7advt.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016538/taskman/callum-wale-V8j3F6Ik9_s-unsplash_clbkte.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016537/taskman/braden-jarvis-prSogOoFmkw-unsplash_sgtmnd.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016534/taskman/danielle-macinnes-IuLgi9PWETU-unsplash_u9xmg7.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016533/taskman/carolyn-christine-D7bmnvGJA2Q-unsplash_oz27jz.jpg',\r\n    'https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621018122/taskman/vlad-kutepov-WYJ9c7uSdnU-unsplash_c2g6gy.jpg',\r\n]\r\nconst gLabels = [{ \"_id\": utilService.makeId(), \"desc\": \"Copy Request\", \"color\": \"#61BD4F\" }, { \"_id\": utilService.makeId(), \"desc\": \"One more step\", \"color\": \"#F2D600\" }, { \"_id\": utilService.makeId(), \"desc\": \"Design Team\", \"color\": \"#FF9F1A\" }, { \"_id\": utilService.makeId(), \"desc\": \"Product Marketing\", \"color\": \"#EB5A46\" }, { \"_id\": utilService.makeId(), \"desc\": \"Taskman Tip\", \"color\": \"#C377E0\" }, { \"_id\": utilService.makeId(), \"desc\": \"Help\", \"color\": \"#0079BF\" }, { \"_id\": utilService.makeId(), \"desc\": \"Priority\", \"color\": \"#51E898\" }]\r\nconst gCoverColors = ['#7bc86c', '#f5dd29', '#ffaf3f', '#ef7564', '#cd8de5', '#5ba4cf', '#29cce5', '#6deca9', '#ff8ed4', '#172b4d']\r\n\r\n// const newBoard = getEmptyBoard()\r\n// newBoard.title = 'Taskman board'\r\n// newBoard.cards = utilService.getCards()\r\n// saveBoard(newBoard)\r\n\r\n// CRUDL\r\nasync function query() {\r\n    try {\r\n        return await httpService.get(KEY)\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\nasync function getBoardById(id) {\r\n    try {\r\n        return await httpService.get(KEY + id)\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\nasync function deleteBoard(id) {\r\n    try {\r\n        return await httpService.delete(KEY + id)\r\n    } catch (err) {\r\n        console.log('Error from boardService - ', err);\r\n    }\r\n}\r\n\r\nasync function saveBoard(board) {\r\n    try {\r\n        if (board._id) return await httpService.put(KEY + board._id, board)\r\n        return await httpService.post(KEY, board)\r\n    } catch (err) {\r\n        console.log('err:', err)\r\n    }\r\n}\r\n\r\nfunction updateCard(taskToUpdate, cardToUpdate, boardToUpdate) {\r\n    if (typeof (taskToUpdate) !== 'number') {\r\n        const taskIdx = cardToUpdate.tasks.findIndex(t => t._id === taskToUpdate._id)\r\n        cardToUpdate.tasks.splice(taskIdx, 1, taskToUpdate)\r\n    } else {\r\n        cardToUpdate.tasks.splice(taskToUpdate, 1)\r\n    }\r\n    return updateBoard(cardToUpdate, boardToUpdate)\r\n}\r\n\r\nfunction updateBoard(cardToUpdate, boardToUpdate) {\r\n    if (typeof (cardToUpdate) !== 'number') {\r\n        const cardIdx = boardToUpdate.cards.findIndex(card => card._id === cardToUpdate._id)\r\n        boardToUpdate.cards.splice(cardIdx, 1, cardToUpdate)\r\n    } else {\r\n        boardToUpdate.cards.splice(cardToUpdate, 1)\r\n    }\r\n    const updatedBoard = { ...boardToUpdate, cards: [...boardToUpdate.cards] }\r\n    return updatedBoard;\r\n}\r\n\r\n// get functions /////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nfunction getCoverColors() {\r\n    return gCoverColors;\r\n}\r\n\r\nfunction getEmptyBoard() {\r\n    return {\r\n        title: '',\r\n        members: [],\r\n        cards: [{ _id: utilService.makeId(), title: 'Your first card!', tasks: [] }],\r\n        activity: [],\r\n        background: [],\r\n        labels: gLabels,\r\n        images: cloudUrls,\r\n        description: ''\r\n    }\r\n}\r\n\r\nfunction getEmptyCard() {\r\n    return {\r\n        _id: utilService.makeId(),\r\n        title: '',\r\n        tasks: []\r\n    }\r\n}\r\n\r\nfunction getEmptyTask() {\r\n    return {\r\n        _id: utilService.makeId(),\r\n        title: '',\r\n        desc: '',\r\n        createdAt: Date.now(),\r\n        labels: [],\r\n        dueDate: '',\r\n        activity: [],\r\n        members: [],\r\n        isWithAttachment: false,\r\n        cover: '',\r\n        checklists: [],\r\n        doneAt: '',\r\n        attachments: [],\r\n        comments: []\r\n    }\r\n}","import boardService from '../../services/boardService'\r\n\r\nexport function loadBoards(filterBy) {\r\n  return async dispatch => {\r\n    const boards = await boardService.query(filterBy)\r\n    const action = { type: 'SET_BOARDS', boards }\r\n    dispatch(action)\r\n  }\r\n}\r\nexport function getBoardById(boardId) {\r\n  return async dispatch => {\r\n    const board = await boardService.getBoardById(boardId)\r\n    await dispatch({ type: 'SET_BOARD', board })\r\n    return board\r\n  }\r\n}\r\nexport function saveBoard(board) {\r\n  return async dispatch => {\r\n    const updatedBoard = await boardService.saveBoard(board)\r\n    if (!board._id) dispatch({ type: 'ADD_BOARD', board: updatedBoard })\r\n    else dispatch({ type: 'UPDATE_BOARD', updatedBoard })\r\n    return updatedBoard;\r\n  }\r\n}\r\nexport function setCurrBoard(boardId) {\r\n  return async dispatch => {\r\n    var board = null\r\n    if (boardId) board = await boardService.getBoardById(boardId)\r\n    dispatch({ type: 'SET_BOARD', board })\r\n  }\r\n}\r\nexport function removeBoard(boardId) {\r\n  return async dispatch => {\r\n    const res = await boardService.deleteBoard(boardId)\r\n    if (!res) return\r\n    dispatch({ type: 'REMOVE_BOARD', boardId })\r\n    return res.msg;\r\n  }\r\n}\r\nexport function updateBackground(background) {\r\n  return async dispatch => {\r\n    await dispatch({ type: 'UPDATE_BACKGROUND', background })\r\n  }\r\n}\r\nexport function setCurrBackground(currBackground) {\r\n  return async dispatch => {\r\n    await dispatch({ type: 'SET_BACKGROUND', currBackground })\r\n  }\r\n}\r\nexport function updateFilterBy(filterBy) {\r\n  return async dispatch => {\r\n    await dispatch({ type: 'UPDATE_FILTERBY', filterBy })\r\n  }\r\n}\r\nexport function updateIsCloudLoader(bool) {\r\n  return async dispatch => {\r\n    await dispatch({ type: 'UPDATE_CLOUD_LOADER', bool })\r\n  }\r\n}","import io from 'socket.io-client'\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nfunction createSocketService() {\r\n    var socket\r\n    const socketService = {\r\n        setup() {\r\n            socket = io(baseUrl)\r\n        },\r\n        on(eventName, cb) {\r\n            if (!socket) socketService.setup();\r\n            socket.on(eventName, cb)\r\n        },\r\n        off(eventName, cb = null) {\r\n            if (!socket) socketService.setup();\r\n            if (!cb) socket.removeAllListeners(eventName)\r\n            else socket.off(eventName, cb)\r\n        },\r\n        emit(eventName, data) {\r\n            if (!socket) socketService.setup();\r\n            socket.emit(eventName, data)\r\n        },\r\n        terminate() {\r\n            socket = null\r\n        }\r\n    }\r\n    return socketService\r\n}","import { useEffect, useState, forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { saveBoard, setCurrBoard } from '../../store/actions/boardActions';\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport boardService from '../../services/boardService';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheckSquare, faList, faTimes, faClock, faSquare, faPlus, faPaperclip, faAlignLeft, faComments } from '@fortawesome/free-solid-svg-icons'\r\nimport './CardPreview.scss'\r\nimport Avatar from 'react-avatar';\r\nimport Moment from 'react-moment';\r\nimport { socketService } from '../../services/socketService';\r\n\r\nexport default forwardRef(CardPreview)\r\n\r\nfunction CardPreview(props, ref) {\r\n    const { card, cardPreviewOp } = props\r\n    const dispatch = useDispatch()\r\n    const { register, handleSubmit, reset } = useForm();\r\n    const currBoard = useSelector(state => state.boardReducer.currBoard)\r\n    const [tasks, setTasks] = useState(card.tasks)\r\n    const [isAddTask, setIsAddTask] = useState(null)\r\n    const [isEditTitle, setIsEditTitle] = useState(false)\r\n    const [isCardModal, setIsCardModal] = useState(false)\r\n    var newTask = boardService.getEmptyTask()\r\n\r\n\r\n    useEffect(() => {\r\n        setIsEditTitle(!isEditTitle)\r\n    }, [currBoard])\r\n\r\n    const useOnClickOutside = (ref, handler) => {\r\n        useEffect(\r\n            () => {\r\n                const listener = (event) => {\r\n                    if (!ref.current || ref.current.contains(event.target)) {\r\n                        return;\r\n                    }\r\n                    handler(event);\r\n                };\r\n                document.addEventListener(\"mousedown\", listener);\r\n                document.addEventListener(\"touchstart\", listener);\r\n                return () => {\r\n                    document.removeEventListener(\"mousedown\", listener);\r\n                    document.removeEventListener(\"touchstart\", listener);\r\n                };\r\n            },\r\n            [ref, handler]\r\n        );\r\n    }\r\n\r\n    const addTaskRef = useRef()\r\n    useOnClickOutside(addTaskRef, () => setIsAddTask(false));\r\n    const cardModalRef = useRef()\r\n    useOnClickOutside(cardModalRef, () => setIsCardModal(false));\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        async setFromOutside(res) {\r\n            const { source, destination } = res\r\n            const card = currBoard.cards.find(c => c._id === source.droppableId)\r\n            if (!card) return\r\n            if (source.droppableId !== destination.droppableId) {\r\n                const from = card\r\n                const to = currBoard.cards.find(c => c._id === destination.droppableId)\r\n                const [removed] = from.tasks.splice(source.index, 1);\r\n                to.tasks.splice(destination.index, 0, removed)\r\n                const cardsToUpdate = [from, to]\r\n                cardsToUpdate.forEach(c => boardService.updateBoard(c, currBoard))\r\n                dispatch(saveBoard(currBoard))\r\n            }\r\n            else {\r\n                const [removed] = card.tasks.splice(source.index, 1)\r\n                card.tasks.splice(destination.index, 0, removed)\r\n                const boardToSave = boardService.updateBoard(card, currBoard)\r\n                dispatch(saveBoard(boardToSave))\r\n            }\r\n        }\r\n    }), [])\r\n\r\n    const setCardTitle = data => {\r\n        if (!data.cardTitle) return\r\n        card.title = data.cardTitle.replace(/'|\"/g, '')\r\n        const boardToUpdate = boardService.updateBoard(card, currBoard)\r\n        socketService.emit('card to-update-card', card)\r\n        socketService.emit('card to-update-card-title', card)\r\n        setIsEditTitle(false)\r\n        dispatch(saveBoard(boardToUpdate))\r\n    }\r\n\r\n    const labelsDescToggle = (ev) => {\r\n        ev.stopPropagation()\r\n        cardPreviewOp.setIsDescShown(!cardPreviewOp.isDescShown)\r\n        // setIsLabels(!isLabels)\r\n    }\r\n\r\n    const doneAtToggle = (ev, task) => {\r\n        ev.stopPropagation()\r\n        if (!task.doneAt) task.doneAt = Date.now()\r\n        else task.doneAt = ''\r\n        socketService.emit('task to-update-task', { card, task })\r\n        const newBoard = boardService.updateCard(task, card, currBoard)\r\n        dispatch(saveBoard(newBoard))\r\n    }\r\n\r\n    const addTask = async data => {\r\n        newTask.title = data.newTask\r\n        tasks.push(newTask)\r\n        setTasks(tasks)\r\n        const newBoard = boardService.updateCard(newTask, card, currBoard)\r\n        dispatch(saveBoard(newBoard))\r\n        setIsAddTask(!isAddTask)\r\n        const forSocket = { task: newTask, card: card._id }\r\n        socketService.emit('task to-add-task', forSocket);\r\n        cardPreviewOp.addActivity('Guest', 'added', 'task', card.title)\r\n        newTask = boardService.getEmptyTask()\r\n        reset()\r\n    }\r\n\r\n    const backgroundColorDueDate = (task) => {\r\n        return task.doneAt ? '#61BD4F' : ((task.dueDate > Date.now()) ? '#F4F5F7' : '#ec9488')\r\n    }\r\n\r\n    const colorDueDate = (task) => {\r\n        return task.doneAt ? 'white' : ((task.dueDate > Date.now()) ? '#8b95a7' : 'white')\r\n    }\r\n\r\n    const taskListHeight = () => {\r\n        if (isAddTask) return '60vh'\r\n        if (isCardModal) return '60vh'\r\n        return '65vh'\r\n    }\r\n\r\n    return (\r\n        <div className=\"board-card\" onClick={() => cardPreviewOp.setCurrCard(card)}>\r\n            <Droppable droppableId={card._id} key={card._id} type='TASK'>\r\n                {(provided) => {\r\n                    return (<div className=\"hide-overflow\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                        <div className=\"title\">\r\n                            <form onBlur={handleSubmit(setCardTitle)}>\r\n                                <input type=\"text\" required onKeyDown={(e) => { if (e.key === 'Enter') e.preventDefault(); if (e.key === '\\'') return }} {...register(\"cardTitle\")} defaultValue={card.title} placeholder=\"Card name\" autoComplete=\"off\" />\r\n                            </form>\r\n                            <div onClick={() => {\r\n                                setIsCardModal(true)\r\n                                setTimeout(() => setIsCardModal(false), 3000)\r\n                            }} className=\"manage-card\"><p></p></div>\r\n                        </div>\r\n                        <div className=\"card-modal\" ref={cardModalRef} style={{ maxWidth: isCardModal ? '100vw' : '0' ,  maxHeight: isCardModal ? '100vw' : '0' }}>\r\n                            <button onClick={cardPreviewOp.deleteCard}>Delete Card</button>\r\n                        </div>\r\n                        <ul className=\"hide-overflow\" style={{ maxHeight: taskListHeight() }}>\r\n                            {tasks.map((task, idx) => {\r\n                                return (\r\n                                    <Draggable key={task._id} draggableId={task._id} index={idx}>\r\n                                        {(provided, snapshot) => {\r\n                                            return (<li onClick={() => {\r\n                                                cardPreviewOp.setCurrTask(task)\r\n                                                cardPreviewOp.setTaskLabels(task.labels)\r\n                                                cardPreviewOp.setTaskMembers(task.members)\r\n                                            }\r\n                                            } key={task._id} {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef} style={{ filter: snapshot.isDragging ? 'brightness(90%)' : 'brightness(100%)', ...provided.draggableProps.style }} className=\"card-task\">\r\n                                                {(!task.cover) ? null : (task.cover.includes('#')) ? <div className=\"task-cover-color\" style={{ backgroundColor: `${task.cover}` }} ></div> : <div className=\"task-cover-img\" style={{ backgroundImage: `url(${task.cover})` }}></div>}\r\n                                                <div className=\"label-color-to-preview-container\">\r\n\r\n                                                    {task.labels.map((label, idx) =>\r\n                                                        <label key={idx} className=\"label-color-open-to-preview\" style={cardPreviewOp.isDescShown ? { maxWidth: '100%', maxHeight: '100%', backgroundColor: `${label.color}` } : { maxWidth: '40px', maxHeight: '8px', backgroundColor: `${label.color}` }} onClick={(ev) => labelsDescToggle(ev)}><span style={{ opacity: cardPreviewOp.isDescShown ? '1' : '0', transition: '1s', maxWidth: cardPreviewOp.isDescShown ? '100%' : '0', maxHeight: cardPreviewOp.isDescShown ? '100%' : '0' }}>{label.desc}</span></label>\r\n                                                    )}\r\n                                                </div>\r\n                                                <span>{task.title}</span>\r\n                                                <section className=\"container-of-all\">\r\n                                                    <section className=\"buttom-preview-info\">\r\n                                                        {!task.dueDate ? null : !task.doneAt ?\r\n                                                            <div className=\"due-date-to-preview\" style={{ color: colorDueDate(task), backgroundColor: backgroundColorDueDate(task) }} onClick={(ev) => doneAtToggle(ev, task)}>\r\n                                                                <FontAwesomeIcon className=\"icon font-awesome-clock\" icon={faClock} /><FontAwesomeIcon className=\"icon font-awesome-home\" icon={faSquare} /><Moment format=\"MMM D\" withTitle>{task.dueDate}</Moment>\r\n                                                            </div> :\r\n                                                            <div className=\"due-date-to-preview\" style={{ color: colorDueDate(task), backgroundColor: backgroundColorDueDate(task) }} onClick={(ev) => doneAtToggle(ev, task)}>\r\n                                                                <FontAwesomeIcon className=\"icon font-awesome-clock\" icon={faClock} /><FontAwesomeIcon className=\"icon font-awesome-check-square\" icon={faCheckSquare} /><Moment format=\"MMM D\" withTitle>{task.dueDate}</Moment>\r\n                                                            </div>}\r\n                                                        {!task.attachments.length ? null : <div><FontAwesomeIcon icon={faPaperclip} /> {task.attachments.length} </div>}\r\n                                                        {!task.desc ? null : <div><FontAwesomeIcon icon={faAlignLeft} /></div>}\r\n                                                        {!task.comments.length ? null : <div><FontAwesomeIcon icon={faComments} />{task.comments.length}</div>}\r\n                                                        {(!task.checklists.length || (task.checklists.reduce((acc, checklist) => checklist.list.length + acc, 0) <= 0)) ? null :\r\n                                                            <p> <FontAwesomeIcon icon={faList} />{task.checklists.reduce((accTotal, checklist) => {\r\n                                                                return accTotal + checklist.list.reduce((acc, itemInList) => itemInList.isChecked + acc, 0)\r\n                                                            }, 0)}/\r\n                                                                {task.checklists.reduce((acc, checklist) => checklist.list.length + acc, 0)}\r\n                                                            </p>}\r\n                                                    </section>\r\n                                                    {!task.members.length ? null : <div className=\"avatar-card-preview\">\r\n                                                        {task.members.map((member, idx) => <Avatar key={idx} name={member.name} size=\"30\" round={true} />)}\r\n                                                    </div>}\r\n                                                </section>\r\n                                            </li>)\r\n                                        }}</Draggable>)\r\n                            })}\r\n                            {provided.placeholder}\r\n                            {provided.placeholder}\r\n                        </ul>\r\n                        {(!isAddTask && card.title !== 'No search results.') && <button className=\"add-task-btn\" onClick={() => setIsAddTask(!isAddTask)}><FontAwesomeIcon icon={faPlus}></FontAwesomeIcon> Add task</button>}\r\n                        {isAddTask && <form ref={addTaskRef} className=\"add-task-container\" onSubmit={handleSubmit(addTask)}>\r\n                            <input type=\"text\" id=\"title\" name=\"title\" autoComplete=\"off\" required {...register(\"newTask\")} placeholder=\"Enter a title for this card\" defaultValue={newTask.title} />\r\n                            <div className=\"add-task-btns\">\r\n                                <button>Add Task</button>\r\n                                <button onClick={() => setIsAddTask(!isAddTask)} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faTimes} /></button>\r\n                            </div>\r\n                        </form>}\r\n                    </div>)\r\n                }}</Droppable>\r\n        </div>\r\n    )\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronLeft, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport './LabelEditModal.scss'\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch } from 'react-redux';\r\nimport { saveBoard } from '../../store/actions/boardActions';\r\n\r\nexport function LabelEditModal(props) {\r\n    const { labelEditModal, currBoard } = props\r\n    const dispatch = useDispatch()\r\n    const { register, handleSubmit } = useForm();\r\n\r\n\r\n    const onChangeEditLabel = (data) => {\r\n        labelEditModal.desc = data.labelName\r\n        labelEditModal.color = data.labelColor\r\n        props.setLabelModal(labelEditModal)\r\n        dispatch(saveBoard({ ...currBoard }))\r\n        props.setLabelEditModal(false)\r\n    }\r\n    return (\r\n        <div className=\"label-edit-modal\">\r\n            <div className=\"labels-edit-modal-header\">\r\n                <button onClick={() => props.setLabelEditModal(false)}><FontAwesomeIcon icon={faChevronLeft} /></button>\r\n                <h3>Edit Label</h3>\r\n                <button className=\"btn-close-icon\" onClick={() => props.setLabelModal(false)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></button>\r\n            </div>\r\n            <form onSubmit={handleSubmit(res => onChangeEditLabel(res))}>\r\n                <p>Name:</p>\r\n                <input type=\"text\" name=\"edit-name\" autoComplete=\"off\" defaultValue={labelEditModal.desc} {...register('labelName')} onKeyDown={e => { if (e.key === 'Enter') e.preventDefault() }} />\r\n                <p>Color:</p>\r\n                <input type=\"color\" name=\"edit-color\" className=\"edit-color\" defaultValue={labelEditModal.color} {...register('labelColor')} />\r\n                <button>Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import { useState } from 'react'\r\nimport { LabelEditModal } from '../LabelEditModal/LabelEditModal'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes, faPencilAlt, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport './LabelModal.scss'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function LabelModal(props) {\r\n    const [labelEditModal, setLabelEditModal] = useState(null)\r\n    const currBoard = useSelector(state => state.boardReducer.currBoard)\r\n    const labels = currBoard.labels\r\n\r\n    const chooseLabel = (color) => {\r\n        props.addLabel(color)\r\n    }\r\n\r\n    const editLabel = (ev, label) => {\r\n        ev.stopPropagation()\r\n        setLabelEditModal(label)\r\n    }\r\n\r\n    return (\r\n        <section >\r\n            {<div className=\"label-modal\" style={!labelEditModal ? { maxWidth: '280px' } : { maxWidth: 0, border: 'none', visibility: 'visible' }}>\r\n                <div className=\"modal-header\">\r\n                    <h3>Labels</h3>\r\n                    <p onClick={() => props.setLabelModal(false)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                </div>\r\n                <ul className=\"labels-container\">\r\n                    {labels.map((label, idx) => {\r\n                        return <li onClick={() => chooseLabel(label)} key={idx}  >\r\n                            <div className=\"label-to-show\" style={{ backgroundColor: `${label.color}` }}>\r\n                                <p>{label.desc}</p>\r\n                                <span>{(props.currTask.labels.find((currLabel) => currLabel.color === label.color) ? <FontAwesomeIcon className=\"fa\" icon={faCheckCircle} /> : null)}</span>\r\n                            </div>\r\n                            <button className=\"edit-label-btn\" onClick={(ev) => editLabel(ev, label)}><FontAwesomeIcon icon={faPencilAlt} /></button>\r\n                        </li>\r\n                    })}\r\n                </ul>\r\n            </div>}\r\n            {labelEditModal && <div onClick={(ev) => ev.stopPropagation()} style={{ position: 'absolute', width: 0 }} ref={props.LabelEditRef}><LabelEditModal setLabelModal={props.setLabelModal} currBoard={currBoard} labelEditModal={labelEditModal} setLabelEditModal={setLabelEditModal} addLabel={props.addLabel}></LabelEditModal></div>}\r\n        </section >\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/small-loader.8cf4b4d3.svg\";","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport './MemberModal.scss'\r\nimport { useSelector } from 'react-redux'\r\nimport Avatar from 'react-avatar'\r\nimport { socketService } from '../../services/socketService'\r\nimport { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport smallLoader from '../../assets/imgs/small-loader.svg'\r\n\r\nexport function MemberModal(props) {\r\n    const { register, handleSubmit } = useForm();\r\n    const currBoard = useSelector(state => state.boardReducer.currBoard)\r\n    const [searchMembers, setSearchMembers] = useState(currBoard.members)\r\n\r\n    const onSearchMember = data => {\r\n        const users = currBoard.members.filter(user => {\r\n            return user.name.toLowerCase().includes(data.searchMember.toLowerCase())\r\n        })\r\n        if (!users.length) users.push({ _id: \"failMember\", name: \"Member not found.\" })\r\n        setSearchMembers(users)\r\n    }\r\n\r\n    const chooseMemberForSockets = (member) => {\r\n        props.addMemberToTask(member)\r\n    }\r\n\r\n    useEffect(() => {\r\n        socketService.on(\"add-member-to-task-from-back\", (member => {\r\n            chooseMemberForSockets(member)\r\n        }))\r\n    })\r\n\r\n    return (\r\n        <div className=\"member-modal\" >\r\n            <div className=\"modal-header\">\r\n                <h3>Members</h3>\r\n                <p onClick={() => props.setMemberModal(false)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n            </div>\r\n            {!props.memberModalLoader && <><form onChange={handleSubmit(onSearchMember)}>\r\n                <input autoComplete=\"off\" onKeyDown={e => { if (e.key === 'Enter') e.preventDefault() }} {...register(\"searchMember\")} type=\"text\" placeholder=\"Search members...\" />\r\n            </form>\r\n                <h3>Users:</h3>\r\n                <ul className=\"member-container\">\r\n                    {searchMembers.map(member => member._id !== 'failMember' ? <li onClick={() => props.addMemberToTask(member._id)} key={member._id} className=\"members-list\" >\r\n                        <Avatar key={member._id} name={member.name} size=\"30\" round={true} />\r\n                        <span>{member.name}</span>\r\n                        <span className=\"member-icon\">{(props.taskMembers.find((currMember) => currMember._id === member._id) ? <FontAwesomeIcon icon={faCheckCircle}> </FontAwesomeIcon> : null)}</span></li> :\r\n                        <li className=\"members-list\" key={member._id}><span>{member.name}</span></li>\r\n                    )}\r\n                </ul></>}\r\n            {props.memberModalLoader && <div className='member-modal-loader'><img src={smallLoader} alt='loader' /></div>}\r\n        </div>\r\n    )\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { useForm } from \"react-hook-form\";\r\nimport './CheckListModal.scss'\r\n\r\nexport function CheckListModal(props) {\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const setTitle = data => {\r\n        data.title=data.title.replace(/'|\"/g, '\\\\\"')\r\n        const newChecklistToSend = { title: data.title, list: [], range: 0 }\r\n        props.handleChecklist(newChecklistToSend)\r\n        props.setChecklistModal(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"checklist-modal\" >\r\n            <div className=\"modal-header\">\r\n                <h3>Add Checklist</h3>\r\n                <p className=\"btn-close-icon\" onClick={() => props.setChecklistModal(false)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n            </div>\r\n                <h3>Title:</h3>\r\n            <form onSubmit={handleSubmit(setTitle)}>\r\n                <input type=\"text\" placeholder=\"Checklist title\" autoComplete=\"off\" id=\"title\" name=\"title\"  {...register(\"title\")} defaultValue='' />\r\n                <button>Add checklist</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import 'date-fns';\r\nimport './DueDateModal.scss'\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport { createMuiTheme } from '@material-ui/core';\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { lightBlue } from '@material-ui/core/colors';\r\n\r\n\r\nconst defaultMaterialTheme = createMuiTheme({\r\n    overrides: {\r\n        MuiPickersCalendarHeader: {\r\n            switchHeader: {\r\n                backgroundColor: 'inherit',\r\n                color: '#172b4d',\r\n            },\r\n        },\r\n        MuiPickersDay: {\r\n            day: {\r\n                color: lightBlue.A700,\r\n            },\r\n            daySelected: {\r\n                color: '#fff !important',\r\n                backgroundColor: 'rgb(66, 82, 110)',\r\n            },\r\n            dayDisabled: {\r\n                color: lightBlue[\"100\"],\r\n            },\r\n            container: {\r\n                backgroundColor: \"black\"\r\n            },\r\n            current: {\r\n                color: 'rgb(0, 82, 204)',\r\n                border: 'rgb(0, 82, 204) 2px solid',\r\n            },\r\n        },\r\n    },\r\n});\r\nexport function DueDateModal(props) {\r\n\r\n    const timeStemp = Date.now() + 604800000 //the default is next week\r\n    const defaultNextWeek = new Date(Date.now() + 604800000);\r\n    const [selectedDate, setSelectedDate] = React.useState(timeStemp);\r\n\r\n    const submit = () => {\r\n        var selectedDateStr = Date.parse(selectedDate)\r\n        props.addDueDate(selectedDateStr)\r\n        props.setDueDateModal(false)\r\n    }\r\n    return (\r\n        <div className=\"due-date-modal\">\r\n            <section className=\"modal-header\">\r\n                <h3>Due Date</h3>\r\n                <p className=\"btn-close-icon\" onClick={() => props.setDueDateModal(false)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n            </section>\r\n            <form onSubmit={submit}>\r\n                <ThemeProvider theme={defaultMaterialTheme}>\r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                        <KeyboardDatePicker\r\n                            disableToolbar\r\n                            variant=\"static\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            margin=\"normal\"\r\n                            id=\"date-picker-inline\"\r\n                            label=\"Pick A Deadline\"\r\n                            value={selectedDate}\r\n                            onChange={(date) => setSelectedDate(date)}\r\n                            KeyboardButtonProps={{ 'aria-label': 'change date', }}\r\n                        ></KeyboardDatePicker>\r\n                    </MuiPickersUtilsProvider>\r\n                </ThemeProvider>\r\n                <div className=\"ddm-btn\">\r\n                    <button>save</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n","import './DrawNoteModal.scss'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPaintRoller, faTimes, faTint } from '@fortawesome/free-solid-svg-icons'\r\nimport React, { useRef, useState } from \"react\";\r\nimport { utilService } from '../../services/utilService';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nexport function DrawNoteModal(props) {\r\n    const [locations, setLocations] = useState([])\r\n    const [dot_flag, setDot_flag] = useState(false)\r\n    const [flag, setFlag] = useState(false)\r\n    const [color, setColor] = useState('#000')\r\n    const [backgroundColor, setBackgroundColor] = useState('#fff')\r\n    const [title, setTitle] = useState('')\r\n    const [inputSize, setInputSize] = useState(3)\r\n    const canvasRef = useRef(null)\r\n    const { register, handleSubmit, reset } = useForm();\r\n\r\n    var prevX = 0, currX = 0, prevY = 0, currY = 0;\r\n\r\n    const handleCanvasMouse = (e, res) => {\r\n        let newLocation\r\n        const canvas = canvasRef.current\r\n        const ctx = canvas.getContext('2d')\r\n        setDot_flag(true)\r\n        if (res === 'down') {\r\n            setFlag(true);\r\n            prevX = e.clientX;\r\n            prevY = e.clientY;\r\n            currX = e.clientX - canvas.getBoundingClientRect().left;\r\n            currY = e.clientY - canvas.getBoundingClientRect().top;\r\n            newLocation = { x: currX, y: currY }\r\n            setLocations([...locations, newLocation])\r\n            if (dot_flag) {\r\n                ctx.beginPath();\r\n                ctx.fillStyle = backgroundColor;\r\n                ctx.fillRect(currX, currY, 2, 2);\r\n                ctx.closePath();\r\n                setDot_flag(false)\r\n            }\r\n        }\r\n        if (res === 'up' || res === \"out\") {\r\n            setFlag(false);\r\n        }\r\n        if (res === 'move') {\r\n            if (flag) {\r\n                prevX = currX;\r\n                prevY = currY;\r\n                currX = e.clientX - canvas.getBoundingClientRect().left;\r\n                currY = e.clientY - canvas.getBoundingClientRect().top;\r\n                newLocation = { x: currX, y: currY }\r\n                setLocations([...locations, newLocation])\r\n                draw(ctx);\r\n            }\r\n        }\r\n    }\r\n\r\n    const draw = (ctx) => {\r\n        ctx.beginPath();\r\n        ctx.moveTo(locations[locations.length - 1].x, locations[locations.length - 1].y);\r\n        ctx.lineTo(currX, currY);\r\n        ctx.strokeStyle = color;\r\n        ctx.lineWidth = inputSize;\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n    }\r\n\r\n    const handleClear = () => {\r\n        setLocations([])\r\n        const canvas = canvasRef.current\r\n        const ctx = canvas.getContext('2d')\r\n        ctx.clearRect(0, 0, window.innerHeight, window.innerWidth)\r\n        setBackgroundColor('#fff')\r\n    }\r\n\r\n    const handleSave = () => {\r\n        const canvas = canvasRef.current\r\n        var dataURL = canvas.toDataURL();\r\n        const newAtt = { _id: utilService.makeId(), title: title || '', src: dataURL }\r\n        console.log('newAtt:', newAtt)\r\n        props.currTask.attachments.push(newAtt)\r\n        props.updateBoard(props.currTask)\r\n        reset({ title: '' })\r\n        props.setDrawNoteModal(false)\r\n    }\r\n\r\n    const setBgcToCanvas = (bgc) => {\r\n        const canvas = canvasRef.current\r\n        const ctx = canvas.getContext('2d')\r\n        ctx.fillStyle = backgroundColor;\r\n        ctx.fillRect(0, 0, 300, 400);\r\n        setBackgroundColor(bgc)\r\n    }\r\n\r\n    const setControllers = (res) => {\r\n        setColor(res.inputColor)\r\n        setInputSize(res.inputSize)\r\n        if (res.inputBackgroungColor !== backgroundColor) setBgcToCanvas(res.inputBackgroungColor)\r\n    }\r\n\r\n    const setTitleName = (res) => {\r\n        setTitle(res.title)\r\n    }\r\n\r\n    return (\r\n        <div className=\"draw-note-modal\">\r\n            <section className=\"modal-header\">\r\n                <h3>Draw Note</h3>\r\n                <p className=\"btn-close-icon\" onClick={() => props.setDrawNoteModal(false)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n            </section>\r\n            <section className=\"draw-note-modal-body\">\r\n                <div className=\"canvas-container\">\r\n                    <form onChange={handleSubmit(setTitleName)}>\r\n                        <h3>Note Title</h3>\r\n                        <input placeholder=\"Note Title\" type=\"text\" autoComplete=\"off\" id=\"canvas-title\" name=\"canvas-title\"  {...register(\"title\")} defaultValue='' onKeyDown={e => { if (e.key === 'Enter') e.preventDefault() }} />\r\n                    </form>\r\n                    <canvas ref={canvasRef} width='300px' height='400px' onMouseDown={res => handleCanvasMouse(res, 'down')} onMouseMove={res => handleCanvasMouse(res, 'move')} onMouseOut={res => handleCanvasMouse(res, 'out')} onMouseUp={res => handleCanvasMouse(res, 'up')} />\r\n                    <form className=\"canvas-inputs\" onChange={handleSubmit(setControllers)}>\r\n                        <div>\r\n                            <label htmlFor=\"input-color\"><FontAwesomeIcon className=\"fa\" icon={faTint} /> Color\r\n                                <input type=\"color\" id=\"input-color\" name=\"input-color\"  {...register(\"inputColor\")} defaultValue={color} />\r\n                            </label>\r\n                            <label htmlFor=\"input-backgroungColor\"><FontAwesomeIcon className=\"fa\" icon={faPaintRoller} /> Background Color\r\n                                <input type=\"color\" id=\"input-backgroungColor\" name=\"input-backgroungColor\"  {...register(\"inputBackgroungColor\")} defaultValue={'#fff'} />\r\n                            </label>\r\n                        </div>\r\n                        <label htmlFor=\"input-size\">size</label>\r\n                        <input type=\"number\" id=\"input-size\" name=\"input-size\"  {...register(\"inputSize\")} defaultValue={inputSize} />\r\n                    </form>\r\n                    <div className=\"canvas-btns\">\r\n                        <button onClick={handleClear}>Clear</button>\r\n                        <button onClick={handleSave}>Save</button>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Widget } from 'react-cloudinary-upload-widget'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { utilService } from '../../services/utilService'\r\nimport { saveBoard, setCurrBackground, updateIsCloudLoader } from '../../store/actions/boardActions'\r\nimport './Cloudinary.scss'\r\n\r\nexport function Cloudinary({ type, txt, currTask, setCloudImgs, cloudOp }) {\r\n    const dispatch = useDispatch()\r\n    const currBoard = useSelector(state => state.boardReducer.currBoard)\r\n\r\n    const onAttAdd = (res) => {\r\n        var newAtt\r\n        if (type === 'cover') {\r\n            currTask.cover = res.info.secure_url\r\n            cloudOp.updateBoard(currTask)\r\n        }\r\n        else if (type === 'background') {\r\n            currBoard.images.unshift(res.info.secure_url)\r\n            setCloudImgs(currBoard.images)\r\n            dispatch(saveBoard(currBoard))\r\n            dispatch(setCurrBackground(res.info.secure_url))\r\n        }\r\n        else {\r\n            newAtt = { _id: utilService.makeId(), title: res.info.original_filename, src: res.info.secure_url, createdAt: Date.now() }\r\n            currTask.attachments.push(newAtt)\r\n            cloudOp.updateBoard(currTask)\r\n        }\r\n        dispatch(updateIsCloudLoader(false))\r\n    }\r\n\r\n    return (\r\n        <section className=\"cloudinary-container\">\r\n            <Widget\r\n                sources={['local', 'camera', 'url', 'dropbox', 'instagram']}\r\n                sourceKeys={{ dropboxAppKey: 'idwo4j2egt6411m', instagramClientId: '14c890ce047a8defd4410d4bd0b1d823' }}\r\n                resourceType={'image'}\r\n                cloudName={'dtu0lzwpw'}\r\n                uploadPreset={'aywupxtw'}\r\n                buttonText={txt || 'Attachments'}\r\n                style={{\r\n                    color: 'inherit',\r\n                    border: 'none',\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    backgroundColor: 'inherit',\r\n                    borderRadius: '5px',\r\n                    padding: 0,\r\n                }}\r\n                folder={'taskman'}\r\n                onSuccess={onAttAdd}\r\n                onFailure={err => console.log(err)}\r\n                logging={false}\r\n                customPublicId={'sample'}\r\n                eager={'w_400,h_300,c_pad|w_260,h_200,c_crop'}\r\n                use_filename={true}\r\n                unique_filename={true}\r\n                apiKey={639164948471337}\r\n                accepts={'application/json'}\r\n                contentType={'application/json'}\r\n                withCredentials={true}\r\n            />\r\n        </section>\r\n    )\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport boardService from '../../services/boardService'\r\nimport Color from 'color-thief-react';\r\nimport './CoverModal.scss'\r\nimport { Cloudinary } from '../Cloudinary/Cloudinary'\r\nimport smallLoader from '../../assets/imgs/small-loader.svg'\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateIsCloudLoader } from '../../store/actions/boardActions';\r\n\r\nexport function CoverModal(props) {\r\n    const dispatch = useDispatch()\r\n    const coverColors = boardService.getCoverColors()\r\n\r\n    return (\r\n        <section className=\"cover-modal\" style={!props.currTask.cover ? { top: '202px' } : null}>\r\n            <div className=\"modal-header\">\r\n                <h3>Cover</h3>\r\n                <p className=\"btn-close-icon\" onClick={() => props.setCoverModal(false)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n            </div>\r\n            <div className=\"cover-modal-body\">\r\n                <h3>Colors</h3>\r\n                <div className=\"cover-color-container\">\r\n                    {coverColors.map((color, idx) => <span className=\"cover-color\" key={idx} onClick={() => props.addCover(color)} style={{ backgroundColor: color }}></span>)}\r\n                </div>\r\n                {!props.currTask.attachments.length ? null : < div >\r\n                    <h3>Attachments</h3>\r\n                    <div className=\"cover-attachments-container hide-overflow\">\r\n                        {props.currTask.attachments.map((attach) => {\r\n                            if (attach.src.endsWith('pdf')) return\r\n                            return <Color crossOrigin=\"anonymous\" key={attach._id} src={attach.src} format=\"hex\">\r\n                                {({ data, loading }) => {\r\n                                    if (loading) return <div className=\"att-loader-cover-modal\"><img src={smallLoader} alt=\"\" /></div>;\r\n                                    return <div className=\"cover-attach\" style={{ backgroundColor: data, backgroundImage: `url(${attach.src})` }} onClick={() => props.addCover(attach.src)} />\r\n                                }}\r\n                            </Color>\r\n                        })}\r\n                    </div>\r\n                </div>}\r\n                <Cloudinary cloudOp={props.cloudOp} currCard={props.currCard}  txt={<div className='cover-upload-btn' onClick={() => {\r\n                    dispatch(updateIsCloudLoader(true))\r\n                    setTimeout(() => {\r\n                        dispatch(updateIsCloudLoader(false))\r\n                    }, 3000);\r\n                }} >\r\n                    <p>Upload image</p></div>} type='cover' currTask={props.currTask} />\r\n                {props.currTask.cover && <button className=\"remove-cover-btn\" onClick={() => props.addCover('')}>Remove cover</button>}\r\n            </div>\r\n        </section >\r\n    )\r\n}\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAlignLeft, faClock, faList, faTag, faTimes, faUser, faCheckSquare, faWindowMaximize, faPaperclip, faClipboard, faPlus, faComment, faPalette } from '@fortawesome/free-solid-svg-icons'\r\nimport boardService from '../../services/boardService.js'\r\nimport './TaskModal.scss'\r\nimport Avatar from 'react-avatar';\r\nimport { LabelModal } from '../LabelModal/LabelModal';\r\nimport { MemberModal } from '../MemberModal/MemberModal';\r\nimport { CheckListModal } from '../CheckListModal/CheckListModal';\r\nimport { saveBoard, setCurrBoard, updateIsCloudLoader } from '../../store/actions/boardActions';\r\nimport { DueDateModal } from '../DueDateModal/DueDateModal.jsx';\r\nimport { DrawNoteModal } from '../DrawNoteModal/DrawNoteModal.jsx';\r\nimport { CoverModal } from '../CoverModal/CoverModal.jsx';\r\nimport loader from '../../assets/imgs/taskman-loader.svg'\r\nimport smallLoader from '../../assets/imgs/small-loader.svg'\r\nimport Moment from 'react-moment';\r\nimport { utilService } from '../../services/utilService.js';\r\nimport { socketService } from '../../services/socketService.js';\r\nimport Color from 'color-thief-react';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { Cloudinary } from '../Cloudinary/Cloudinary.jsx';\r\nimport { updateUser } from '../../store/actions/userActions.js';\r\nimport axios from 'axios';\r\n\r\nexport function TaskModal({ taskModalOp }) {\r\n    const { currTask, currBoard, setCurrTask, user } = taskModalOp\r\n    const dispatch = useDispatch()\r\n    const { register, handleSubmit, reset } = useForm();\r\n    const [clientX, setClientX] = useState(null)\r\n    const [clientY, setClientY] = useState(null)\r\n    //-------------------------onClickOutside----------------------------\\\\\r\n    const inputFile = useRef(null)\r\n    const useOnClickOutside = (ref, handler) => {\r\n        useEffect(\r\n            () => {\r\n                const listener = (event) => {\r\n                    if (!ref.current || ref.current.contains(event.target)) {\r\n                        return;\r\n                    }\r\n                    handler(event);\r\n                };\r\n                document.addEventListener(\"mousedown\", listener);\r\n                document.addEventListener(\"touchstart\", listener);\r\n                return () => {\r\n                    document.removeEventListener(\"mousedown\", listener);\r\n                    document.removeEventListener(\"touchstart\", listener);\r\n                };\r\n            },\r\n            [ref, handler]\r\n        );\r\n    }\r\n\r\n    const [labelModal, setLabelModal] = useState(false)\r\n    const labelRef = useRef()\r\n    useOnClickOutside(labelRef, () => setLabelModal(false));\r\n\r\n    const [attNameModal, setAttNameModal] = useState(null)\r\n    const editAttachRef = useRef()\r\n    useOnClickOutside(editAttachRef, () => setAttNameModal(false));\r\n\r\n    const [labelEditModal, setLabelEditModal] = useState(false)\r\n    const labelEditRef = useRef()\r\n    useOnClickOutside(labelEditRef, () => setLabelEditModal(false));\r\n\r\n    const [coverModal, setCoverModal] = useState(false)\r\n    const coverRef = useRef()\r\n    useOnClickOutside(coverRef, () => setCoverModal(false));\r\n\r\n    const [memberModal, setMemberModal] = useState(false)\r\n    const memberRef = useRef()\r\n    useOnClickOutside(memberRef, () => setMemberModal(false));\r\n\r\n    const [checklistModal, setChecklistModal] = useState(false)\r\n    const checklistRef = useRef()\r\n    useOnClickOutside(checklistRef, () => setChecklistModal(false));\r\n\r\n    const [dueDateModal, setDueDateModal] = useState(false)\r\n    const dueDateRef = useRef()\r\n    useOnClickOutside(dueDateRef, () => setDueDateModal(false));\r\n\r\n    const [drawNoteModal, setDrawNoteModal] = useState(false)\r\n    const drawNoteRef = useRef()\r\n    useOnClickOutside(drawNoteRef, () => setDrawNoteModal(false));\r\n\r\n    //--------------------------------------------------------------------\\\\\r\n\r\n    var descValue;\r\n    const [isDesc, setIsDesc] = useState(false)\r\n\r\n    const currCard = currBoard.cards.find(card => {\r\n        return card.tasks.find(t => {\r\n            return t._id === currTask._id\r\n        })\r\n    })\r\n    const onSubmitDesc = data => {\r\n        currTask.desc = data.desc.replace(/'|\"/g, '\\'').replace(/\\n/g, ' S1P2A3C4E5 ')\r\n        updateBoard(currTask)\r\n    }\r\n\r\n    const onSubmitItemInList = (data, idxInList) => {\r\n        const input = Object.keys(data).find(str => str === ('inputItem' + idxInList))\r\n        if (!data[input]) return\r\n        const addToList = data[input].replace(/'|\"/g, '\\'')\r\n        currTask.checklists[idxInList].list.push({ desc: addToList, isChecked: false })\r\n        setRange(currTask.checklists[idxInList])\r\n        reset({ inputItem0: '', inputItem1: '', inputItem2: '', inputItem3: '', inputItem4: '' })\r\n        socketService.emit('task to-update-task', { card: currCard, task: currTask })\r\n    }\r\n\r\n    const onSubmitAtt = (data, idx) => {\r\n        const input = Object.keys(data).find(str => str === ('attItem' + idx))\r\n        currTask.attachments[idx].title = data[input];\r\n        updateBoard(currTask)\r\n        setAttNameModal(false)\r\n    }\r\n\r\n    const onSumbitComment = data => {\r\n        const newComment = { _id: utilService.makeId(), member: user ? user.username : 'Guest', timeStamp: Date.now(), title: data.comment }\r\n        currTask.comments.unshift(newComment)\r\n        updateBoard(currTask)\r\n        reset({ comment: '', })\r\n    }\r\n\r\n    const onRemoveComment = (id) => {\r\n        const idx = currTask.comments.findIndex(comment => { return comment._id === id })\r\n        currTask.comments.splice(idx, 1)\r\n        updateBoard(currTask)\r\n    }\r\n\r\n    const onEditComment = (data, idx) => {\r\n        const input = Object.keys(data).find(str => str === ('editComment' + idx))\r\n        currTask.comments[idx].title = data[input];\r\n        updateBoard(currTask)\r\n    }\r\n\r\n    const changeCheckBox = (item) => {\r\n        item.isChecked = !item.isChecked\r\n    }\r\n\r\n    const toggleTaskDone = () => {\r\n        (!currTask.doneAt) ? currTask.doneAt = Date.now() : currTask.doneAt = ''\r\n        updateBoard(currTask)\r\n    }\r\n\r\n    const setRange = checklist => {\r\n        const itemsChecked = checklist.list.reduce((acc, itemInList) => {\r\n            return itemInList.isChecked + acc\r\n        }, 0)\r\n        const rengeToShow = +((itemsChecked / checklist.list.length * 100).toFixed(2))\r\n        checklist.range = rengeToShow\r\n        updateBoard(currTask)\r\n    }\r\n\r\n    const onButtonClick = () => {\r\n        inputFile.current.click()\r\n    }\r\n\r\n    const dueDateSpanText = (task) => {\r\n        return task.doneAt ? 'COMPLETED' : (task.dueDate > Date.now()) ? '' : 'OVERDUE'\r\n    }\r\n\r\n    const backgroundColorDueDate = (task) => {\r\n        return task.doneAt ? '#61BD4F' : ((task.dueDate > Date.now()) ? 'inherite' : '#ec9488')\r\n\r\n    }\r\n    const displayDueDate = (task) => {\r\n        return task.doneAt ? 'unset' : ((task.dueDate > Date.now()) ? 'none' : 'unset')\r\n    }\r\n\r\n    const onAttRemove = (id) => {\r\n        const idx = currTask.attachments.findIndex(att => { return att._id === id })\r\n        currTask.attachments.splice(idx, 1)\r\n        updateBoard(currTask)\r\n    }\r\n\r\n    const setTaskTitle = data => {\r\n        if (!data.taskTitle) return\r\n        currTask.title = data.taskTitle\r\n        updateBoard(currTask)\r\n    }\r\n\r\n    const testLog = (ev) => {\r\n        setClientX(ev.target.offsetLeft)\r\n        setClientY(ev.target.offsetTop)\r\n    }\r\n\r\n    const updateBoard = task => {\r\n        const updatedBoard = boardService.updateCard(task, currCard, currBoard)\r\n        socketService.emit('task to-update-task', { card: currCard, task: task || currTask })\r\n        dispatch(saveBoard(updatedBoard))\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n    const downloadItem = (fileSrc, name = 'photo') => {\r\n        axios\r\n            .get(fileSrc, { responseType: \"blob\" })\r\n            .then(({ data }) => {\r\n                //object of size and type of the file\r\n                const link = document.createElement(\"a\");\r\n                const blob = new Blob([data], { type: \"image/png\" }); //Blob is a file-like object of immutable, raw data; it can be read as text or binary data\r\n                link.href = URL.createObjectURL(blob); //creates a DOMString containing a URL of the object given\r\n                link.download = name;\r\n                link.click();\r\n                URL.revokeObjectURL(link.href); //when finished- let the browser know not to keep the reference to the file any longer (like destroyed).\r\n            })\r\n            .catch(console.error);\r\n    }\r\n    const toggleFullImg = (imgSrc, name = 'photo') => {\r\n        const imgDetails = { imgSrc, name }\r\n        taskModalOp.setFullImg(imgDetails)\r\n    }\r\n    const onDeleteTask = () => {\r\n        confirmAlert({\r\n            title: 'Confirm to submit',\r\n            message: 'Are you sure want to delete this task?',\r\n            buttons: [\r\n                {\r\n                    label: 'Delete task',\r\n                    onClick: () => {\r\n                        const taskIdx = currCard.tasks.findIndex(t => t._id === currTask._id)\r\n                        currCard.tasks.splice(taskIdx, 1)\r\n                        setCurrTask(null)\r\n                        dispatch(saveBoard(currBoard))\r\n                        currTask.members.forEach(async m => {\r\n                            const taskIdx = m.tasks.findIndex(memberTask => memberTask.title === currTask.title)\r\n                            m.tasks.splice(taskIdx, 1)\r\n                            const res = await dispatch(updateUser(m))\r\n                        })\r\n                    }\r\n                },\r\n                {\r\n                    label: 'Cancel',\r\n                    onClick: () => setCurrTask(currTask)\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    if (!currTask || !currCard) return (<div className=\"loader-container\"><img src={loader} alt=\"\" /></div>)\r\n    currTask.desc = currTask.desc.replace(/ S1P2A3C4E5 /g, '\\n').replace(/\\\\'/g, '\\'')\r\n\r\n    const cloudOp = {\r\n        updateBoard\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <section className=\"task-modal hide-overflow\">\r\n                <div className=\"task-modal-form\" style={currTask.cover ? { marginTop: '164px' } : { marginTop: 0 }}>\r\n                    {!currTask.cover ? null : currTask.cover.includes('#') ? <div className=\"cover-section\" style={{ backgroundColor: `${currTask.cover}` }} /> :\r\n                        <Color src={currTask.cover} crossOrigin=\"anonymous\" format=\"hex\">\r\n                            {({ data, loading }) => {\r\n                                if (loading) return <div>...</div>;\r\n                                return (<div className=\"cover-section\" style={{ backgroundColor: data, backgroundImage: `url(${currTask.cover})` }} />)\r\n                            }}\r\n                        </Color>\r\n                    }\r\n                    <div className=\"task-header\">\r\n                        <div className=\"task-title\">\r\n                            <form onBlur={handleSubmit(setTaskTitle)}>\r\n                                <FontAwesomeIcon icon={faWindowMaximize} /> <input autoComplete=\"off\" type=\"text\" onKeyDown={(e) => { if (e.key === 'Enter') e.preventDefault() }} {...register(\"taskTitle\")} defaultValue={currTask.title} placeholder=\"Task name\" />\r\n                            </form>\r\n                            <p className=\"card-title\">In list: {currCard.title}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"task-description-modal\">\r\n                        {!taskModalOp.taskMembers.length ? null : <section className=\"members-section\"><h3>MEMBERS:</h3>\r\n                            <div className=\"member-list\">\r\n                                {taskModalOp.taskMembers.map((member, idx) =>\r\n                                    <div className=\"member-in-modal\" onClick={() => setMemberModal(true)} key={idx}>\r\n                                        <Avatar key={idx} name={member.name} size=\"30\" round={true} />\r\n                                    </div>)}\r\n                                <button onClick={() => setMemberModal(true)}><FontAwesomeIcon icon={faPlus} /></button>\r\n                            </div>\r\n                        </section>}\r\n                        {!currTask.labels.length ? null : <section className=\"labels-section\"><h3>LABELS:</h3>\r\n                            {currTask.labels.map((label, idx) =>\r\n                                <div className=\"label-in-modal\" key={idx} onClick={() => setLabelModal(true)} style={{ backgroundColor: label.color }}>\r\n                                    <p>{label.desc}</p>\r\n                                </div>)}\r\n                            <button onClick={() => setLabelModal(true)}><FontAwesomeIcon icon={faPlus} /></button>\r\n                        </section>}\r\n                        {!currTask.dueDate ? null : <section className=\"due-date-moment-section\"><h3>DUE DATE:</h3>\r\n                            <span className=\"due-date-moment\" onClick={toggleTaskDone}> {!currTask.doneAt ? <FontAwesomeIcon icon={faClock} /> : <FontAwesomeIcon icon={faCheckSquare} />}<Moment format=\"MMM D YYYY\" withTitle>{currTask.dueDate}</Moment><small style={{ color: 'white', display: displayDueDate(currTask), backgroundColor: backgroundColorDueDate(currTask) }} >{dueDateSpanText(currTask)}</small>\r\n                            </span> </section>}\r\n                        <section className=\"desc-section\">\r\n                            <div className=\"desc-svg\"><FontAwesomeIcon icon={faAlignLeft} />\r\n                                <p>Description</p>\r\n                            </div>\r\n                            <form onBlur={handleSubmit(res => onSubmitDesc(res))}>\r\n                                <textarea id=\"desc\" name=\"desc\" onClick={() => setIsDesc(!isDesc)} defaultValue={descValue} placeholder=\"Add some detailed description...\" {...register(\"desc\")} defaultValue={taskModalOp.currTask.desc} />\r\n                            </form>\r\n                        </section>\r\n                    </div>\r\n                    {!currTask.checklists.length ? null : <section >\r\n                        {currTask.checklists.map((checklist, listIdx) =>\r\n                            <div className=\"checklist-in-modal\" key={listIdx}>\r\n                                <div className=\"checklist-svg\"> <div className=\"flex\"> <FontAwesomeIcon icon={faList} ></FontAwesomeIcon> <p>{checklist.title}:</p></div>\r\n                                    <button onClick={() => taskModalOp.handleChecklist(listIdx)}>Delete list</button>\r\n                                </div>\r\n                                {!checklist.list.length ? null : <h6>{checklist.range}%</h6>}\r\n                                {!checklist.list.length ? null : <div className=\"demo-range-container\">\r\n                                    {checklist.range === 100 ? <div className=\"demo-range-checked\" style={{ backgroundColor: '#61bd4f', width: checklist.range + '%' }}></div> :\r\n                                        <div className=\"demo-range-checked\" style={{ width: checklist.range + '%' }}></div>}</div>}\r\n                                {!checklist.list.length ? null : checklist.list.map((item, idx) => {\r\n                                    return <div className=\"checklist-items\" key={idx}>\r\n                                        <input type=\"checkbox\" id={'checklist-item-' + idx} checked={item.isChecked} onChange={() => {\r\n                                            changeCheckBox(item)\r\n                                            setRange(checklist)\r\n                                        }} />\r\n                                        {item.isChecked ? <label style={{ textDecoration: 'line-through' }}>{item.desc}</label> : <label>{item.desc}</label>}\r\n                                    </div>\r\n                                })}\r\n                                <form onSubmit={handleSubmit(res => onSubmitItemInList(res, listIdx))}>\r\n                                    <input type=\"text\" autoComplete=\"off\" id={'input-item-' + listIdx} name=\"item\" placeholder=\"Add an item\"  {...register('inputItem' + listIdx)} />\r\n                                    <button className=\"add-an-item-btn\">Add</button>\r\n                                </form>\r\n                            </div>)}\r\n                    </section>}\r\n                    {!currTask.attachments.length ? null : <section>\r\n                        <div className=\"att-svg\"><FontAwesomeIcon icon={faPaperclip} />\r\n                            <p>Attachments</p>\r\n                        </div>\r\n                        {currTask.attachments.map((attac, attIdx) => (\r\n                            <div key={attIdx} className=\"attachments-container\">\r\n                                <div className=\"att-src\">\r\n                                    <Color crossOrigin=\"anonymous\" src={attac.src} format=\"hex\">\r\n                                        {({ data, loading }) => {\r\n                                            if (loading) return <div className=\"att-loader\"><img src={smallLoader} alt=\"\" /></div>;\r\n                                            return ((attac.src.endsWith('.pdf')) ? <div className=\"attachment-img-pdf\" alt=\"docx\"></div> : <div className=\"attachment-img\" style={{ backgroundColor: data, backgroundImage: `url(${attac.src})` }} onClick={() => toggleFullImg(attac.src, attac.title)} alt=\"photo\" />)\r\n                                        }}\r\n                                    </Color>\r\n                                </div>\r\n                                <div className=\"att-details\">\r\n                                    <div>\r\n                                        <p>{attac.title || 'Photo'}</p>\r\n                                        <Moment fromNow>{attac.createdAt}</Moment>\r\n                                    </div>\r\n                                    <div className=\"att-btns\">\r\n                                        <button onClick={(ev) => { setAttNameModal(!attNameModal); testLog(ev) }}>Edit</button>\r\n                                        <button onClick={(() => downloadItem(attac.src, attac.title))}>Download</button>\r\n                                        <button onClick={() => onAttRemove(attac._id)}>Delete</button>\r\n                                    </div>\r\n                                </div>\r\n                                {attNameModal && <div style={{ left: `${clientX + 450}px`, top: `${clientY - 300}px` }} className=\"att-edit\">\r\n                                    <div className=\"att-edit-header\">\r\n                                        <p>Edit attachment</p>\r\n                                        <button onClick={() => setAttNameModal(false)}>x</button>\r\n                                    </div>\r\n                                    <div className=\"att-edit-main\" ref={editAttachRef}>\r\n                                        <p>Attachment name:</p>\r\n                                        <form onSubmit={handleSubmit(res => onSubmitAtt(res, attIdx))}>\r\n                                            <input type=\"text\" autoComplete=\"off\" id={'att-item-' + attIdx} defaultValue={attac.title}  {...register('attItem' + attIdx)} />\r\n                                            <button>Save</button>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>}\r\n                            </div>\r\n                        ))}\r\n                    </section>}\r\n                    <div className=\"att-svg\"><FontAwesomeIcon icon={faComment} />\r\n                        <p>Comments</p>\r\n                    </div>\r\n                    <div className=\"task-comment\">\r\n                        <form onSubmit={handleSubmit(onSumbitComment)}>\r\n                            <input className=\"post-comment-input\" type=\"text\" autoComplete=\"off\" id=\"comment\" name=\"comment\" placeholder=\"Post a Comment...\"  {...register(\"comment\")} />\r\n                        </form>\r\n                        {!currTask.comments.length ? null : currTask.comments.map((comment, idx) => <div key={comment._id} className=\"comment-container\">\r\n                            <div className=\"comment-avatar\">\r\n                                <Avatar key={comment._id} name={comment.member} size=\"30\" round={true} />\r\n                            </div>\r\n                            <div className=\"comment-details\">\r\n                                <div className=\"comment-header\">\r\n                                    <p className=\"comment-member\">{comment.member}</p> <p><Moment fromNow>{comment.timeStamp}</Moment></p>\r\n                                </div>\r\n                                <form onChange={handleSubmit((res) => onEditComment(res, idx))} className=\"comment-title\">\r\n                                    <input type=\"text\" autoComplete=\"off\" id={\"comment-edit\" + idx} defaultValue={comment.title} {...register(\"editComment\" + idx)} />\r\n                                    <button style={{ display: 'none' }} onClick={(ev) => ev.preventDefault()}></button>\r\n                                </form>\r\n                                <div className=\"comment-btns\">\r\n                                    <button onClick={() => onRemoveComment(comment._id)}>Delete</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"add-to-task\" style={currTask.cover ? { marginTop: '172px' } : { marginTop: 0 }}>\r\n                    <div className=\"right-task-modal\">\r\n                        <h3>Add To Task</h3>\r\n                        <p onClick={() => taskModalOp.setCurrTask(null)} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                    </div>\r\n                    <div className=\"right-task-modal-btns\">\r\n                        <div onClick={() => { setLabelModal(true) }} className=\"right-task-btn\">\r\n                            <FontAwesomeIcon icon={faTag}></FontAwesomeIcon>\r\n                            <p> Labels </p>\r\n                            {(!labelModal) ? null : <div onClick={(ev) => ev.stopPropagation()} ref={labelRef}> <LabelModal labelEditRef={labelEditRef} setLabelModal={setLabelModal} labelModal={labelModal} currTask={currTask} addLabel={taskModalOp.addLabel}  ></LabelModal></div>}\r\n                        </div>\r\n                        <div onClick={() => setMemberModal(true)} className=\"right-task-btn\">\r\n                            <FontAwesomeIcon icon={faUser}></FontAwesomeIcon>\r\n                            <p> Members </p>\r\n                            {(!memberModal) ? null : <div onClick={(ev) => ev.stopPropagation()} style={{ position: 'absolute', width: 0 }} ref={memberRef}> <MemberModal memberModalLoader={taskModalOp.memberModalLoader} setMemberModal={setMemberModal} memberModal={memberModal} currTask={currTask} addMemberToTask={taskModalOp.addMember} taskMembers={taskModalOp.taskMembers} ></MemberModal></div>}\r\n                        </div>\r\n                        <div onClick={() => setChecklistModal(true)} className=\"right-task-btn\">\r\n                            <FontAwesomeIcon icon={faList}></FontAwesomeIcon>\r\n                            <p> Checklist </p>\r\n                            {(!checklistModal) ? null : <div onClick={(ev) => ev.stopPropagation()} style={{ position: 'absolute', width: 0 }} ref={checklistRef}> <CheckListModal setChecklistModal={setChecklistModal} checklistModal={checklistModal} currTask={currTask} handleChecklist={taskModalOp.handleChecklist} ></CheckListModal></div>}\r\n                        </div>\r\n                        <div onClick={() => setDueDateModal(true)} className=\"right-task-btn\">\r\n                            <FontAwesomeIcon icon={faClock}></FontAwesomeIcon>\r\n                            <p> Due date </p>\r\n                            {(!dueDateModal) ? null : <div onClick={(ev) => ev.stopPropagation()} style={{ position: 'absolute', width: 0 }} ref={dueDateRef}> <DueDateModal setDueDateModal={setDueDateModal} dueDateModal={dueDateModal} addDueDate={taskModalOp.addDueDate} currTask={currTask}></DueDateModal></div>}\r\n                        </div>\r\n                        <Cloudinary currTask={currTask} cloudOp={cloudOp} txt={<div onClick={() => {\r\n                            dispatch(updateIsCloudLoader(true))\r\n                            setTimeout(() => {\r\n                                dispatch(updateIsCloudLoader(false))\r\n                            }, 3000);\r\n                        }} className=\"right-task-btn\">\r\n                            <FontAwesomeIcon icon={faPaperclip}></FontAwesomeIcon>\r\n                            <p>Attachments</p></div>} />\r\n                        {(!coverModal) ? null : <div onClick={(ev) => ev.stopPropagation()} style={{ position: 'absolute', width: 0 }} ref={coverRef}><CoverModal setCoverModal={setCoverModal} coverModal={coverModal} cloudOp={cloudOp} currCard={currCard} addCover={taskModalOp.addCover} currTask={currTask} onButtonClick={onButtonClick} inputFile={inputFile}></CoverModal></div>}\r\n                        <div onClick={() => setCoverModal(true)} className=\"right-task-btn\">\r\n                            <FontAwesomeIcon icon={faClipboard}></FontAwesomeIcon>\r\n                            <p> Cover </p>\r\n                        </div>\r\n                        <div onClick={() => setDrawNoteModal(true)} className=\"right-task-btn\">\r\n                            <FontAwesomeIcon icon={faPalette}></FontAwesomeIcon>\r\n                            <p> Draw Note </p>\r\n                            {(!drawNoteModal) ? null : <div onClick={(ev) => ev.stopPropagation()} style={{ position: 'absolute', width: 0 }} ref={drawNoteRef}> <DrawNoteModal setDrawNoteModal={setDrawNoteModal} drawNoteModal={drawNoteModal} updateBoard={updateBoard} currTask={currTask}></DrawNoteModal></div>}\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"delete-task-btn\" onClick={onDeleteTask}>Delete task</button>\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}","import { useEffect, useState } from 'react'\r\nimport Avatar from 'react-avatar'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { saveBoard, updateIsCloudLoader } from '../../store/actions/boardActions'\r\nimport Moment from 'react-moment';\r\nimport './BoardMenu.scss'\r\nimport { faChevronLeft, faPalette, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { utilService } from '../../services/utilService'\r\nimport { PolarArea, Bar } from 'react-chartjs-2';\r\nimport { Cloudinary } from '../Cloudinary/Cloudinary'\r\nimport loader from '../../assets/imgs/taskman-loader.svg'\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\n\r\nexport function BoardMenu({ boardMenuOp }) {\r\n    const dispatch = useDispatch()\r\n    const { register, handleSubmit, reset } = useForm();\r\n    const currBoard = useSelector(state => state.boardReducer.currBoard)\r\n    const user = useSelector(state => state.userReducer.user)\r\n    const [isAbout, setIsAbout] = useState(false)\r\n    const [isBackground, setIsBackground] = useState(false)\r\n    const [isFilter, setIsFilter] = useState(false)\r\n    const [isLabels, setIsLabels] = useState(false)\r\n    const [labels, setLabels] = useState(null)\r\n    const [cloudImgs, setCloudImgs] = useState(null)\r\n    const [activity, setActivity] = useState(null)\r\n    const [msg, setMsg] = useState(null)\r\n    const [isAddLabel, setIsAddLabel] = useState(false)\r\n    const [filterBy, setFilterBy] = useState({ task: '', labels: [] })\r\n    const colors = ['lightgreen', 'lightyellow', 'lightblue', 'orange', 'slateblue', 'lightpink', 'lightgray', 'white']\r\n    const isCloudLoader = useSelector(state => state.boardReducer.isCloudLoader)\r\n\r\n    useEffect(async () => {\r\n        setCloudImgs(currBoard.images)\r\n        sendFilter()\r\n    }, [filterBy])\r\n\r\n    useEffect(() => {\r\n        if (!boardMenuOp.isMenu) closeMenu()\r\n    }, [boardMenuOp.isMenu])\r\n\r\n    useEffect(() => {\r\n        setLabels(currBoard.labels)\r\n        setActivity(currBoard.activity)\r\n    }, [currBoard])\r\n\r\n    const onSearchTask = data => {\r\n        setFilterBy({ ...filterBy, task: data.searchTask })\r\n    }\r\n\r\n    const onSearchLabel = idx => {\r\n        if (filterBy.labels.includes(labels[idx].desc)) {\r\n            const removeIdx = filterBy.labels.findIndex(label => label === labels[idx].desc)\r\n            filterBy.labels.splice(removeIdx, 1)\r\n            setFilterBy({ ...filterBy, labels: filterBy.labels })\r\n        }\r\n        else setFilterBy({ ...filterBy, labels: [...filterBy.labels, labels[idx].desc] })\r\n    }\r\n\r\n    const sendFilter = () => {\r\n        boardMenuOp.filterTasks(filterBy)\r\n    }\r\n\r\n    const saveLabels = data => {\r\n        var entries = Object.entries(data)\r\n        entries = entries.filter(en => en[0] !== 'addBoardLabel' && en[0] !== 'addBoardLabelColor' && en[0] !== 'boardDesc' && en[0] !== 'searchTask')\r\n        const labels = entries.map((label, idx) => {\r\n            // if (!idx) return\r\n            if (idx % 2 === 1) return { color: label[1] }\r\n            return { desc: label[1] }\r\n        })\r\n        // labels.splice(0, 1)\r\n        const arr = []\r\n        labels.forEach((label, idx) => {\r\n            if (idx % 2 === 0) arr.push({ _id: utilService.makeId(), desc: label.desc, color: labels[idx + 1].color })\r\n        })\r\n        setLabels(arr)\r\n        dispatch(saveBoard({ ...currBoard, labels: arr }))\r\n    }\r\n\r\n    const onBoardDesc = data => {\r\n        const descToUpdate = data.boardDesc.replace(/'|\"/g, '\\\\\"').replace(/\\n/g, ' S1P2A3C4E5 ')\r\n        dispatch(saveBoard({ ...currBoard, description: descToUpdate }))\r\n    }\r\n\r\n    const onAddBoardLabel = (data) => {\r\n        const label = { _id: utilService.makeId(), desc: data.addBoardLabel, color: data.addBoardLabelColor }\r\n        setLabels([...labels, label])\r\n        currBoard.labels = [...labels, label]\r\n        setIsAddLabel(!isAddLabel)\r\n        dispatch(saveBoard(currBoard))\r\n        // boardMenuOp.addActivity(user?user.username:'Guest', 'added', 'label')\r\n    }\r\n\r\n    const deleteLabel = (labelId) => {\r\n        const idx = labels.findIndex(l => l._id === labelId)\r\n        labels.splice(idx, 1)\r\n        setLabels([...labels])\r\n        currBoard.labels = labels\r\n        dispatch(saveBoard(currBoard))\r\n        // boardMenuOp.addActivity(user?user.username:'Guest', 'deleted', 'label')\r\n    }\r\n\r\n    const closeMenu = () => {\r\n        boardMenuOp.setIsMenu(false)\r\n        setIsAbout(false)\r\n        setIsBackground(false)\r\n        setIsFilter(false)\r\n        setIsLabels(false)\r\n        onSearchTask('')\r\n        reset()\r\n    }\r\n\r\n    const onDeleteBoard = () => {\r\n        if (!user) setMsg('Please login to delete this board')\r\n        else if (user.username !== 'avivzo9' && user.username !== 'hadarMa' && user.username !== 'OshYok') setMsg('You are not authorized to delete this board. Only the creator of this board can delete it.')\r\n        // else if (!user.admin) setMsg('You are not authorized to delete this board. Only the creator of this board can delete it.')\r\n        else confirmAlert({\r\n            title: 'Confirm to submit',\r\n            message: 'Are you sure want to delete this board?',\r\n            buttons: [\r\n                {\r\n                    label: 'Delete board',\r\n                    onClick: () => boardMenuOp.deleteBoard()\r\n                },\r\n                {\r\n                    label: 'Cancel'\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    if (!cloudImgs || !currBoard || !labels || !activity) return (<div className=\"board-menu-loader\"><img src={loader} alt=\"\" /></div>)\r\n    currBoard.description = currBoard.description.replace(/ S1P2A3C4E5 /g, '\\n')\r\n\r\n    const tasksProgress = {\r\n        inProgress: [],\r\n        overdue: [],\r\n        completed: []\r\n    }\r\n\r\n    const memberNameList = []\r\n    const memberListIdx = currBoard.members.map((member) => {\r\n        memberNameList.push(member.name)\r\n        return 0\r\n    })\r\n\r\n\r\n    currBoard.cards.forEach(card => {\r\n        card.tasks.forEach(task => {\r\n            if (task.doneAt) tasksProgress.completed.push(task)\r\n            else if (!task.dueDate) tasksProgress.inProgress.push(task)\r\n            else task.dueDate > Date.now() ? tasksProgress.inProgress.push(task) : tasksProgress.overdue.push(task)\r\n            task.members.forEach(m => {\r\n                memberNameList.forEach((mem, idx) => {\r\n                    if (m.name === mem) {\r\n                        memberListIdx[idx]++\r\n                    }\r\n                })\r\n\r\n            })\r\n        })\r\n    })\r\n\r\n    const dataForMembersChart = {\r\n        labels: memberNameList,\r\n        datasets: [{\r\n            label: 'Members',\r\n            data: memberListIdx,\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 0.7)',\r\n                'rgba(75, 192, 192, 0.7)',\r\n                'rgba(255, 205, 86, 0.7)',\r\n                'rgba(201, 203, 207, 0.7)',\r\n                'rgba(54, 162, 235, 0.7)'\r\n            ],\r\n            hoverOffset: 4\r\n        }]\r\n    };\r\n\r\n    const dataForChart = {\r\n        labels: ['Completed', 'In progress', 'Overdue'],\r\n        datasets: [{\r\n            label: 'Status',\r\n            data: [tasksProgress.completed.length, tasksProgress.inProgress.length, tasksProgress.overdue.length],\r\n            backgroundColor: [\r\n                'rgba(29, 185, 84, 0.7)',\r\n                'rgba(255, 159, 64, 0.7)',\r\n                'rgba(255, 99, 132, 0.7)',\r\n            ],\r\n            borderColor: [\r\n                'rgba(29, 185, 84)',\r\n                'rgba(255, 159, 64)',\r\n                'rgba(255, 99, 132)',\r\n            ],\r\n            borderWidth: 1,\r\n        }]\r\n    };\r\n\r\n    return (\r\n        <section className=\"board-menu flex\" style={boardMenuOp.isMenu ? { maxWidth: 100 + '%' } : { maxWidth: 0 }}>\r\n            <article className=\"menu-main\">\r\n                <div className=\"flex\">\r\n                    <h3>Menu</h3>\r\n                    <p onClick={closeMenu} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                </div>\r\n                <div className=\"flex\">\r\n                    <p onClick={() => setIsAbout(!isAbout)}>About & Statistics</p>\r\n                    <p onClick={() => setIsBackground(!isBackground)}>Background</p>\r\n                    <p onClick={() => setIsFilter(!isFilter)}>Search cards</p>\r\n                    <p onClick={() => setIsLabels(!isLabels)}>Labels</p>\r\n                </div>\r\n                <div className=\"hide-overflow flex\">\r\n                    <h3>Activity</h3>\r\n                    <ul>\r\n                        {!activity.length ? null : activity.map(activity => <li key={activity._id}>\r\n                            {(activity.type !== 'attached' && activity.type !== 'removed') ? <p><span>{activity.member}</span> {activity.type} {activity.desc} {activity.type === 'deleted' ? 'from' : 'to'} <span>{activity.card}</span>{activity.card === 'board' ? '' : ' card'}.</p>\r\n                                : <p><span>{activity.member}</span> {activity.type} {activity.desc} {activity.type === 'removed' ? 'from' : 'to'} <span>{activity.card}</span> task.</p>}\r\n                            <small><Moment fromNow>{activity.createdAt}</Moment></small>\r\n                        </li>)}\r\n                        {!activity.length && <li><h1>No activity here...</h1></li>}\r\n                    </ul>\r\n                </div>\r\n            </article>\r\n            <article className=\"menu-about sub-menu\" style={isAbout ? { maxWidth: 100 + '%' } : { maxWidth: 0 }}>\r\n                <div className=\"flex\">\r\n                    <p onClick={() => setIsAbout(!isAbout)} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faChevronLeft} /></p>\r\n                    <h3>About & Statistics</h3>\r\n                    <p onClick={closeMenu} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                </div>\r\n                <div className=\"flex hide-overflow\">\r\n                    <div className=\"flex\">\r\n                        <h3>Members</h3>\r\n                        <div>{boardMenuOp.members.map(member => <Avatar key={member._id} name={member.name} size=\"30\" round={true} />)}</div>\r\n                        <p>Total: {boardMenuOp.members.length}</p>\r\n                    </div>\r\n                    <div className=\"flex\">\r\n                        <h3>Description</h3>\r\n                        <form onBlur={handleSubmit(onBoardDesc)}>\r\n                            <textarea defaultValue={currBoard.description} {...register(\"boardDesc\")} placeholder=\"Its your boards time to shine! Let people know what this board is used for and what they can expect to see.\" />\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"flex\">\r\n                        <h3>Statistics</h3>\r\n                        <h4>Tasks per member</h4>\r\n                        <PolarArea name=\"PolarArea\" data={dataForMembersChart} />\r\n                        <h4>Tasks status</h4>\r\n                        <Bar height=\"200\" data={dataForChart} />\r\n                    </div>\r\n                    <div className=\"flex\">\r\n                        <h3>Danger Zone</h3>\r\n                        {msg && <h3 className=\"authMsg\">{msg}</h3>}\r\n                        <button onClick={onDeleteBoard}>Delete board</button>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n            <article className=\"menu-background sub-menu\" style={isBackground ? { maxWidth: 100 + '%' } : { maxWidth: 0 }}>\r\n                <div className=\"flex\">\r\n                    <p onClick={() => setIsBackground(!isBackground)} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faChevronLeft} /></p>\r\n                    <h3>Change background</h3>\r\n                    <p onClick={closeMenu} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                </div>\r\n                <div className=\"hide-overflow flex\">\r\n                    <div className=\"flex\">\r\n                        <h4>Colors</h4>\r\n                        <div className=\"flex\">\r\n                            {colors.map((color, idx) => <aside key={idx} style={{ backgroundColor: color }} onClick={() => boardMenuOp.changeBackground(color, true)}></aside>)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex\">\r\n                        <h4>Photos</h4>\r\n                        <div className=\"flex\">\r\n                            <Cloudinary txt={<div onClick={() => {\r\n                                dispatch(updateIsCloudLoader(true))\r\n                                setTimeout(() => {\r\n                                    dispatch(updateIsCloudLoader(false))\r\n                                }, 3000);\r\n                            }} className='cloud-menu-btn'><p>Upload photo</p></div>} type=\"background\" setCloudImgs={setCloudImgs} />\r\n                            {cloudImgs.map((url, idx) => <img key={idx} onClick={() => boardMenuOp.changeBackground(url)} decoding=\"async\" loading=\"lazy\" src={url} alt={url} />)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n            <article className=\"menu-filter sub-menu\" style={isFilter ? { maxWidth: 100 + '%' } : { maxWidth: 0 }}>\r\n                <div className=\"flex\">\r\n                    <p onClick={() => setIsFilter(!isFilter)} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faChevronLeft} /></p>\r\n                    <h3>Search cards</h3>\r\n                    <p onClick={closeMenu} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                </div>\r\n                <div>\r\n                    <form onChange={handleSubmit(onSearchTask)}>\r\n                        <input type=\"text\" autoComplete=\"off\" placeholder=\"Search for task...\" {...register(\"searchTask\")} />\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    <h4>Search by label</h4>\r\n                    <ul>\r\n                        {labels.map((label, idx) => <li key={idx} style={{ backgroundColor: filterBy.labels.includes(label.desc) ? 'gray' : 'inherit' }} onClick={() => onSearchLabel(idx)}>\r\n                            <div style={{ backgroundColor: label.color }}></div>\r\n                            <p>{label.desc}</p>\r\n                        </li>)}\r\n                    </ul>\r\n                </div>\r\n            </article>\r\n            <article className=\"menu-labels sub-menu\" style={isLabels ? { maxWidth: 100 + '%' } : { maxWidth: 0 }}>\r\n                <div className=\"flex\">\r\n                    <p onClick={() => setIsLabels(!isLabels)} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faChevronLeft} /></p>\r\n                    <h3>Labels</h3>\r\n                    <p onClick={closeMenu} className=\"btn-close-icon\"><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                </div>\r\n                <div className=\"hide-overflow\">\r\n                    <ul>\r\n                        {labels.map((label, idx) => <li key={label._id} style={{ backgroundColor: label.color }}>\r\n                            <form onChange={handleSubmit(utilService.debounce(saveLabels, 1000))}>\r\n                                <input type=\"text\" autoComplete=\"off\" defaultValue={label.desc} placeholder=\"Label name\" required {...register(\"editBoardLabel\" + idx)} />\r\n                                <label name=\"label-color\"><FontAwesomeIcon className=\"fa\" icon={faPalette} />\r\n                                    <input type=\"color\" autoComplete=\"off\" {...register(\"editBoardLabelColor\" + idx)} defaultValue={label.color} /></label>\r\n                            </form>\r\n                            <p><FontAwesomeIcon className=\"fa\" icon={faTimes} onClick={() => deleteLabel(label._id)} /></p>\r\n                        </li>)}\r\n                        {!isAddLabel && <li onClick={() => setIsAddLabel(!isAddLabel)}><p>New label</p></li>}\r\n                        {isAddLabel && <li>\r\n                            <form onSubmit={handleSubmit(onAddBoardLabel)}>\r\n                                <input type=\"text\" placeholder=\"Label name\" autoComplete=\"off\" required {...register(\"addBoardLabel\")} />\r\n                                <input type=\"color\" name=\"label-color\" id=\"label-color\" defaultValue=\"#FFFFFF\" {...register(\"addBoardLabelColor\")} />\r\n                                <button>Add label</button>\r\n                            </form>\r\n                            <button onClick={() => setIsAddLabel(!isAddLabel)}>X</button>\r\n                        </li>}\r\n                    </ul>\r\n                </div>\r\n            </article>\r\n        </section>\r\n    )\r\n}","import { useEffect, useState, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { loadBoards, saveBoard, setCurrBoard, updateBackground, removeBoard, setCurrBackground } from '../../store/actions/boardActions'\r\nimport CardPreview from '../../cmps/CardPreview/CardPreview'\r\nimport { TaskModal } from '../../cmps/TaskModal/TaskModal'\r\nimport { useForm } from \"react-hook-form\";\r\nimport boardService from '../../services/boardService'\r\nimport Avatar from 'react-avatar';\r\nimport { BoardMenu } from '../../cmps/BoardMenu'\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars, faCheckCircle, faPlus, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { utilService } from '../../services/utilService'\r\nimport loader from '../../assets/imgs/taskman-loader.svg'\r\nimport { socketService } from '../../services/socketService'\r\nimport './BoardDetails.scss'\r\nimport { updateUser } from '../../store/actions/userActions'\r\nimport userService from '../../services/userService'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { confirmAlert } from 'react-confirm-alert'\r\n\r\nexport function BoardDetails(props) {\r\n    const dispatch = useDispatch()\r\n    const { register, handleSubmit, reset } = useForm()\r\n    const currBoard = useSelector(state => state.boardReducer.currBoard)\r\n    const currBackground = useSelector(state => state.boardReducer.currBackground)\r\n    const users = useSelector(state => state.userReducer.users)\r\n    const user = useSelector(state => state.userReducer.user)\r\n    const isCloudLoader = useSelector(state => state.boardReducer.isCloudLoader)\r\n    const [currCard, setCurrCard] = useState(null)\r\n    const [errMsg, setErrMsg] = useState(null)\r\n    const [filter, setFilter] = useState(null)\r\n    const [members, setMembers] = useState(null)\r\n    const history = useHistory()\r\n    const fref = useRef()\r\n    const [currTask, setCurrTask] = useState(null)\r\n    const [taskLabels, setTaskLabels] = useState(null)\r\n    const [taskMembers, setTaskMembers] = useState(null)\r\n    const [memberModalLoader, setMemberModalLoader] = useState(false)\r\n\r\n    const useOnClickOutside = (ref, handler) => {\r\n        useEffect(() => {\r\n            const listener = (event) => {\r\n                if (!ref.current || ref.current.contains(event.target)) {\r\n                    return;\r\n                }\r\n                handler(event);\r\n            };\r\n            document.addEventListener(\"mousedown\", listener);\r\n            document.addEventListener(\"touchstart\", listener);\r\n            return () => {\r\n                document.removeEventListener(\"mousedown\", listener);\r\n                document.removeEventListener(\"touchstart\", listener);\r\n            };\r\n        }, [ref, handler]);\r\n    }\r\n\r\n    useEffect(() => currTask ? setIsMenu(false) : null, [currTask])\r\n\r\n    useEffect(() => {\r\n        dispatch(loadBoards())\r\n        dispatch(updateBackground(false))\r\n        const { id } = props.match.params\r\n        socketService.emit(\"board topic\", id);\r\n        if (!currBoard) {\r\n            dispatch(setCurrBoard(id))\r\n        }\r\n        else if (!draggedCards) {\r\n            setDraggedCards(currBoard.cards)\r\n            setMembers(currBoard.members)\r\n            socketService.on('task add-task', data => {\r\n                addTaskForSockets(data)\r\n            })\r\n            socketService.on('task update-task', data => {\r\n                updateTask(data)\r\n            })\r\n            socketService.on('card add-card', data => {\r\n                addNewCardForSockets(data)\r\n            })\r\n            socketService.on('card delete-card', data => {\r\n                deleteTaskForSockets(data)\r\n            })\r\n            socketService.on('board add-label', data => {\r\n                addLabelForSockets(data)\r\n            })\r\n            socketService.on('card update-card', data => {\r\n                updateCardForSockets(data)\r\n            })\r\n            socketService.on('card update-card-title', data => {\r\n                updateCardTitleForSockets(data)\r\n            })\r\n            socketService.on('board add-activity', activity => {\r\n                addActivityForSockets(activity)\r\n            })\r\n        }\r\n        if (currBoard) {\r\n            setMembers(currBoard.members)\r\n            if (!currBackground) {\r\n                dispatch(setCurrBackground(currBoard.background.color ? currBoard.background.color : currBoard.background.img))\r\n            }\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [currBoard])\r\n\r\n    useEffect(() => {\r\n        preMembers()\r\n        // eslint-disable-next-line\r\n    }, [members])\r\n\r\n    const ref = useRef() //open and close taslModal\r\n    useOnClickOutside(ref, () => (!fullImg) ? setCurrTask(false) : undefined); //open and close taslModal\r\n\r\n    const [isMenu, setIsMenu] = useState(false)\r\n    const menuRef = useRef()\r\n    useOnClickOutside(menuRef, () => setIsMenu(false));\r\n\r\n    const [isInvite, setIsInvite] = useState(null)\r\n    const inviteRef = useRef()\r\n    useOnClickOutside(inviteRef, () => setIsInvite(false));\r\n\r\n    const [fullImg, setFullImg] = useState(null)\r\n    const fullImgRef = useRef()\r\n    useOnClickOutside(fullImgRef, () => setFullImg(null));\r\n\r\n    const [isAddCard, setIsAddCard] = useState(null)\r\n    const [draggedCards, setDraggedCards] = useState((currBoard?.cards) ? currBoard.cards : null)\r\n    const [addMembersToBoard, setMembersToBoard] = useState([])\r\n    const [isDescShown, setIsDescShown] = useState(false)\r\n    const [isScrollOnDradAllowed, setIsScrollOnDradAllowed] = useState(true)\r\n\r\n    // Sockets /////////////////////////////////////////////////////////\r\n\r\n    const updateCardForSockets = card => {\r\n        const cardIdx = currBoard.cards.findIndex(c => c._id === card._id)\r\n        currBoard.cards.splice(cardIdx, 1, card)\r\n        dispatch(setCurrBoard(currBoard._id))\r\n        setTimeout(() => dispatch(setCurrBoard(currBoard._id)), 500)\r\n    }\r\n\r\n    const updateTask = data => {\r\n        const updateCard = currBoard.cards.find(c => c._id === data.card._id)\r\n        const taskIdx = updateCard.tasks.findIndex(t => t._id === data.task._id)\r\n        updateCard.tasks.splice(taskIdx, 1, data.task)\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n\r\n    const updateCardTitleForSockets = card => {\r\n        const cardToUpdate = currBoard.cards.find(c => c._id === card._id)\r\n        cardToUpdate.title = card.title\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n\r\n    const addTaskForSockets = data => {\r\n        const addTo = currBoard.cards.find(c => c._id === data.card)\r\n        addTo.tasks.push(data.task)\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n\r\n    const deleteTaskForSockets = data => {\r\n        const cardIdx = currBoard.cards.findIndex(c => c._id === data.card)\r\n        currBoard.cards.splice(cardIdx, 1)\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n\r\n    const addNewCardForSockets = card => {\r\n        currBoard.cards.push(card)\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n\r\n    const addLabelForSockets = data => {\r\n        if (!data.task.labels.length) data.task.labels.push(data.label)\r\n        else {\r\n            if (data.task.labels.some((currLabel) => currLabel.color === data.label.color)) {\r\n                const labelToRemove = data.task.labels.findIndex(currLabel => currLabel.color === data.label.color)\r\n                data.task.labels.splice(labelToRemove, 1)\r\n            } else {\r\n                data.task.labels.push(data.label)\r\n            }\r\n        }\r\n        boardService.updateCard(data.task, data.card, currBoard)\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n\r\n    const addActivityForSockets = activity => {\r\n        currBoard.activity.unshift(activity)\r\n        dispatch(setCurrBoard(currBoard._id))\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////\r\n\r\n    const handleOnDragEnd = async (res) => {\r\n        if (!res.destination) return;\r\n        const { source, destination } = res\r\n        if (res.type === 'TASK') fref.current.setFromOutside(res)\r\n        else {\r\n            const items = Array.from(draggedCards);\r\n            const [removed] = items.splice(source.index, 1)\r\n            items.splice(destination.index, 0, removed)\r\n            setDraggedCards(items);\r\n            currBoard.cards = [...items]\r\n            dispatch(saveBoard(currBoard))\r\n        }\r\n    }\r\n\r\n    const setBoardTitle = (data) => {\r\n        var title = data.boardTitle.replace(/'|\"/g, '');\r\n        dispatch(saveBoard({ ...currBoard, title }))\r\n    }\r\n\r\n    const serachUser = data => {\r\n        const membersInBoard = members.map(member => member._id)\r\n        const usersToAdd = users.filter(user => {\r\n            if (!membersInBoard.includes(user._id)) return user.name.toLowerCase().includes(data.member.toLowerCase())\r\n        })\r\n        setMembersToBoard(usersToAdd)\r\n    }\r\n\r\n    const preMembers = () => {\r\n        if (members) {\r\n            const membersInBoard = members.map(member => member._id)\r\n            const usersToAdd = users.filter(user => {\r\n                if (!membersInBoard.includes(user._id)) return user.name;\r\n            })\r\n            setMembersToBoard(usersToAdd)\r\n        }\r\n    }\r\n\r\n    const onAddMember = (member) => {\r\n        setMembers([...members, member])\r\n        currBoard.members = [...members, member]\r\n        dispatch(saveBoard(currBoard))\r\n    }\r\n\r\n    const removeUserFromBoard = (id) => {\r\n        const isMemberInTasks = findMemberToDelete(id)\r\n        if (isMemberInTasks) {\r\n            setErrMsg('Cannot remove member. \\n Member is currently on a task\\\\s.')\r\n            setTimeout(() => setErrMsg(null), 3000)\r\n            return\r\n        }\r\n        const idx = currBoard.members.findIndex(member => member._id === id)\r\n        members.splice(idx, 1)\r\n        setMembers([...members])\r\n        currBoard.members = [...members]\r\n        dispatch(saveBoard(currBoard))\r\n    }\r\n\r\n    const addLabel = async (label) => {\r\n        if (!taskLabels.length) taskLabels.push(label)\r\n        else {\r\n            if (taskLabels.some((currLabel) => currLabel.color === label.color)) {\r\n                const labelToRemove = taskLabels.findIndex(currLabel => currLabel.color === label.color)\r\n                taskLabels.splice(labelToRemove, 1)\r\n            } else {\r\n                taskLabels.push(label)\r\n            }\r\n        }\r\n        setTaskLabels([...taskLabels])\r\n        currTask.labels = [...taskLabels]\r\n        const newBoard = boardService.updateCard(currTask, currCard, currBoard)\r\n        await dispatch(saveBoard(newBoard))\r\n        addActivity(user ? user.username : 'Guest', 'added', 'label', currCard.title)\r\n        socketService.emit('task to-update-task', { card: currCard, task: currTask })\r\n    }\r\n\r\n    const handleChecklist = (list) => {\r\n        if (typeof list === 'object') currTask.checklists.push(list)\r\n        else currTask.checklists.splice(list, 1);\r\n        const newBoard = boardService.updateCard(currTask, currCard, currBoard)\r\n        socketService.emit('task to-update-task', { card: currCard, task: currTask })\r\n        dispatch(saveBoard(newBoard))\r\n        dispatch(setCurrBoard(newBoard._id))\r\n    }\r\n\r\n    const addDueDate = (date) => {\r\n        currTask.dueDate = date\r\n        const newBoard = boardService.updateCard(currTask, currCard, currBoard)\r\n        socketService.emit('task to-update-task', { card: currCard, task: currTask })\r\n        dispatch(saveBoard(newBoard))\r\n    }\r\n\r\n    const addCover = (cover) => {\r\n        currTask.cover = cover\r\n        const newBoard = boardService.updateCard(currTask, currCard, currBoard)\r\n        socketService.emit('task to-update-task', { card: currCard, task: currTask })\r\n        dispatch(saveBoard(newBoard))\r\n        dispatch(setCurrBoard(newBoard._id))\r\n    }\r\n\r\n    const addMember = async (memberId) => {\r\n        setMemberModalLoader(true)\r\n        const member = await userService.getUserById(memberId)\r\n        setMemberModalLoader(false)\r\n        if (taskMembers.some(currMember => currMember._id === member._id)) {\r\n            const taskIdx = member.tasks.findIndex(t => t._id === currTask._id)\r\n            member.tasks.splice(taskIdx, 1)\r\n            const memberToRemove = taskMembers.findIndex(currMember => currMember._id === member._id)\r\n            taskMembers.splice(memberToRemove, 1)\r\n            addActivity(user ? user.username : 'Guest', 'removed', member.username, currTask.title)\r\n        } else {\r\n            member.tasks.push({ _id: utilService.makeId(), title: currTask.title })\r\n            taskMembers.push(member)\r\n            addActivity(user ? user.username : 'Guest', 'attached', member.username, currTask.title)\r\n        }\r\n        setTaskMembers([...taskMembers])\r\n        currTask.members = [...taskMembers]\r\n        const newBoard = boardService.updateCard(currTask, currCard, currBoard)\r\n        await dispatch(saveBoard(newBoard))\r\n        dispatch(updateUser(member))\r\n        socketService.emit('task to-update-task', { card: currCard, task: currTask })\r\n    }\r\n\r\n    const findMemberToDelete = (memberId) => {\r\n        let isMember = false\r\n        currBoard.cards.forEach(card => {\r\n            card.tasks.forEach(task => {\r\n                task.members.forEach(m => {\r\n                    if (m._id === memberId) isMember = true\r\n                })\r\n            })\r\n        })\r\n        return isMember;\r\n    }\r\n\r\n    const addNewCard = (data) => {\r\n        var newCard = boardService.getEmptyCard()\r\n        newCard.title = data.newCardTitle\r\n        setDraggedCards([...draggedCards, newCard])\r\n        currBoard.cards = [...draggedCards, newCard]\r\n        dispatch(saveBoard(currBoard))\r\n        setIsAddCard(!isAddCard)\r\n        reset()\r\n        addActivity(user ? user.username : 'Guest', 'added', 'card')\r\n        socketService.emit('card to-add-card', newCard);\r\n    }\r\n\r\n    const deleteCard = () => {\r\n        if (!user) {\r\n            setErrMsg('Please login to delete this card')\r\n            setTimeout(() => setErrMsg(null), 3000)\r\n        }\r\n        else if (user.username !== 'avivzo9' && user.username !== 'hadarMa' && user.username !== 'OshYok') {\r\n            setErrMsg('You are not authorized to delete this card. Only the creator of this board can delete it.')\r\n            setTimeout(() => setErrMsg(null), 3000)\r\n        }\r\n        else confirmAlert({\r\n            title: 'Confirm to submit',\r\n            message: 'Are you sure want to delete this card?',\r\n            buttons: [\r\n                {\r\n                    label: 'Delete card',\r\n                    onClick: () => {\r\n                        const cardIdx = currBoard.cards.findIndex(card => card._id === currCard._id)\r\n                        const boardToSave = boardService.updateBoard(cardIdx, currBoard)\r\n                        socketService.emit('card to-delete-card', cardIdx);\r\n                        currCard.tasks.forEach(t => {\r\n                            if (t.members.length) {\r\n                                t.members.forEach(async m => {\r\n                                    const taskIdx = m.tasks.findIndex(memberTask => memberTask.title === t.title)\r\n                                    m.tasks.splice(taskIdx, 1)\r\n                                    const res = await dispatch(updateUser(m))\r\n                                })\r\n                            }\r\n                        })\r\n                        setCurrCard(null)\r\n                        addActivity(user ? user.username : 'Guest', 'deleted', 'card')\r\n                        setDraggedCards(currBoard.cards)\r\n                        dispatch(saveBoard(boardToSave))\r\n                    }\r\n                },\r\n                {\r\n                    label: 'Cancel'\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    const changeBackground = (background, type) => {\r\n        if (type) {\r\n            addActivity(user ? user.username : 'Guest', 'changed', 'color')\r\n            currBoard.background = { color: background, img: null }\r\n        }\r\n        else {\r\n            addActivity(user ? user.username : 'Guest', 'changed', 'image')\r\n            currBoard.background = { color: null, img: background }\r\n        }\r\n        dispatch(setCurrBackground(background))\r\n        dispatch(saveBoard(currBoard))\r\n    }\r\n\r\n    const filterTasks = (filterBy) => {\r\n        setFilter(filterBy)\r\n        if (filterBy.task || filterBy.labels.length) {\r\n            var newCards = []\r\n            if (filterBy.task) {\r\n                currBoard.cards.map(card => {\r\n                    return card.tasks.filter(task => {\r\n                        if (task.title.toLowerCase().includes(filterBy.task.toLowerCase())) newCards.push(card);\r\n                    })\r\n                })\r\n            }\r\n            if (filterBy.labels.length) {\r\n                currBoard.cards.forEach(card => {\r\n                    return card.tasks.forEach(task => {\r\n                        return task.labels.forEach(label => {\r\n                            if (filterBy.labels.includes(label.desc)) newCards.push(card)\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n            const cardsIds = []\r\n            newCards = newCards.filter(c => {\r\n                if (cardsIds.includes(c._id)) return\r\n                cardsIds.push(c._id)\r\n                return c;\r\n            })\r\n            if (!newCards || !Object.keys(newCards).length) {\r\n                const failCard = boardService.getEmptyCard()\r\n                failCard.title = 'No search results.'\r\n                setDraggedCards([failCard])\r\n            } else setDraggedCards(newCards)\r\n        } else setDraggedCards(currBoard.cards)\r\n    }\r\n\r\n    const addActivity = (member, type, desc, card = 'board') => {\r\n        const newActivity = { _id: utilService.makeId(), member, type, desc, card, createdAt: Date.now() }\r\n        currBoard.activity.unshift(newActivity)\r\n        socketService.emit('board to-add-activity', newActivity)\r\n        dispatch(saveBoard(currBoard))\r\n    }\r\n\r\n    const deleteBoard = async (boardId) => {\r\n        const board = await boardService.getBoardById(boardId || currBoard._id)\r\n        board.cards.forEach(c => {\r\n            c.tasks.forEach(t => {\r\n                if (t.members.length) {\r\n                    t.members.forEach(async m => {\r\n                        const taskIdx = m.tasks.findIndex(memberTask => memberTask.title === t.title)\r\n                        m.tasks.splice(taskIdx, 1)\r\n                        const res = await dispatch(updateUser(m))\r\n                    })\r\n                }\r\n            })\r\n        })\r\n        const res = await dispatch(removeBoard(board._id))\r\n        if (!res) return\r\n        else history.push('/boards')\r\n    }\r\n\r\n    if (!currBoard || !draggedCards || !draggedCards || !members) return (<div className=\"loader-container\"><img src={loader} alt=\"\" /></div>)\r\n\r\n    const cardPreviewOp = {\r\n        addActivity,\r\n        setCurrCard,\r\n        setCurrTask,\r\n        isDescShown,\r\n        setIsDescShown,\r\n        setTaskLabels,\r\n        setTaskMembers,\r\n        deleteCard\r\n    }\r\n\r\n    const boardMenuOp = {\r\n        setIsMenu,\r\n        isMenu,\r\n        changeBackground,\r\n        members: currBoard.members,\r\n        filterTasks,\r\n        addActivity,\r\n        deleteBoard\r\n    }\r\n\r\n    const taskModalOp = {\r\n        setCurrTask,\r\n        currTask,\r\n        addLabel,\r\n        addMember,\r\n        handleChecklist,\r\n        addDueDate,\r\n        addCover,\r\n        currBoard,\r\n        user,\r\n        taskLabels,\r\n        taskMembers,\r\n        memberModalLoader,\r\n        setFullImg\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"board-details sub-container\">\r\n                <div className=\"board-header flex\">\r\n                    <div className=\"flex\">\r\n                        <form onBlur={handleSubmit(setBoardTitle)}>\r\n                            <input type=\"text\" id=\"title\" name=\"title\" {...register(\"boardTitle\")} defaultValue={currBoard.title} onKeyDown={(e) => { if (e.key === 'Enter') e.preventDefault(); if (e.key === '\\'') return }} autoComplete=\"off\" />\r\n                        </form>\r\n                        <div className=\"flex\">\r\n                            <div className=\"avatars hide-overflow\">\r\n                                {members.map(member => <Avatar key={member._id} name={member.name} size=\"30\" round={true} />)}\r\n                            </div>\r\n                            <button onClick={() => {\r\n                                setIsInvite(!isInvite)\r\n                                preMembers()\r\n                            }}>Invite</button>\r\n                            {isInvite && <div ref={inviteRef} className=\"invite-members-modal hide-overflow\">\r\n                                <div className=\"invite-modal-header\">\r\n                                    <h3>Invite members</h3>\r\n                                    <p className=\"btn-close-icon\" onClick={() => setIsInvite(!isInvite)}><FontAwesomeIcon className=\"fa\" icon={faTimes} /></p>\r\n                                </div>\r\n                                <form onChange={handleSubmit(serachUser)} >\r\n                                    <input type=\"text\" autoComplete=\"off\" placeholder=\"Search users\" id=\"member\" name=\"member\"  {...register(\"member\")} />\r\n                                </form>\r\n                                {!addMembersToBoard.length ? null : <div className=\"invite-members\">\r\n                                    <p>Suggested Members:</p>\r\n                                    <ul>\r\n                                        {addMembersToBoard.map((member, idx) => {\r\n                                            return (idx >= 5) ? null : <li key={member._id} onClick={() => onAddMember(member)}>\r\n                                                <Avatar key={member._id} name={member.name} size=\"30\" round={true} />\r\n                                                <p>{member.name}</p>\r\n                                                <p><FontAwesomeIcon icon={faPlus}></FontAwesomeIcon></p>\r\n                                            </li>\r\n                                        })}\r\n                                    </ul>\r\n                                </div>}\r\n                                {!members.length ? null : <div className=\"invite-members\">\r\n                                    <p>In This Board:</p>\r\n                                    <ul>\r\n                                        {members.map((user, idx) => {\r\n                                            return <li key={user._id} onClick={() => removeUserFromBoard(user._id)}>\r\n                                                <Avatar key={idx} name={user.name} size=\"30\" round={true} />\r\n                                                <p>{user.name}</p>\r\n                                                <p><FontAwesomeIcon icon={faCheckCircle} /></p>\r\n                                            </li>\r\n                                        })}\r\n                                    </ul>\r\n                                </div>}\r\n                            </div>}\r\n                        </div>\r\n                    </div>\r\n                    <div ref={filter ? (filter.task ? null : menuRef) : menuRef} className=\"flex\">\r\n                        <p className=\"open-menu-btn\" onClick={() => setIsMenu(true)}><FontAwesomeIcon className=\"fa\" icon={faBars}></FontAwesomeIcon></p>\r\n                        <BoardMenu boardMenuOp={boardMenuOp}></BoardMenu>\r\n                    </div>\r\n                </div>\r\n                <div className=\"cards-container flex\">\r\n                    <DragDropContext onDragEnd={(res, type) => handleOnDragEnd(res, type)}>\r\n                        <div className=\"flex\">\r\n                            {draggedCards.map((card, idx) => {\r\n                                return (<Droppable droppableId={card._id} key={card._id} type='CARD'>\r\n                                    {(provided) => {\r\n                                        return (<div {...provided.droppableProps} ref={provided.innerRef}>\r\n                                            <div onMouseDownCapture={() => setIsScrollOnDradAllowed(false)}>\r\n                                                <Draggable key={card._id} draggableId={card._id} index={idx}>\r\n                                                    {(provided, snapshot) => {\r\n                                                        return (<div {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef} style={{ ...provided.draggableProps.style }}>\r\n                                                            <CardPreview ref={fref} cardPreviewOp={cardPreviewOp} card={card} />\r\n                                                        </div>)\r\n                                                    }}</Draggable>\r\n                                            </div>\r\n                                            {provided.placeholder}\r\n                                        </div>)\r\n                                    }}</Droppable>)\r\n                            })}\r\n                            {!isAddCard && <button className=\"add-card-btn\" onClick={() => setIsAddCard(!isAddCard)}><FontAwesomeIcon className=\"fa\" icon={faPlus}></FontAwesomeIcon><p>Add another card</p></button>}\r\n                            {isAddCard && <div className=\"add-card\"> <form className=\"add-card-container\" onSubmit={handleSubmit(addNewCard)}>\r\n                                <input type=\"text\" autoComplete=\"off\" placeholder=\"Card name\" id=\"title\" name=\"title\" {...register(\"newCardTitle\")} />\r\n                                <div className=\"flex\">\r\n                                    <button>Add Card</button>\r\n                                    <p onClick={() => setIsAddCard(!isAddCard)}><FontAwesomeIcon className=\"fa\" icon={faTimes}></FontAwesomeIcon></p>\r\n                                </div>\r\n                            </form></div>}\r\n                        </div>\r\n                    </DragDropContext>\r\n                </div>\r\n                {(currTask || fullImg) && <div ref={ref}><TaskModal taskModalOp={taskModalOp}></TaskModal></div>}\r\n                {fullImg && currTask && <div className=\"img-full-screen-bgc\">\r\n                    <h2 className=\"img-name-full-screen\">{fullImg.name}</h2>\r\n                    <img className=\"img-full-screen\" ref={fullImgRef} src={fullImg.imgSrc} />\r\n                </div>}\r\n                <section className=\"err-modal\" style={{ maxWidth: errMsg ? '100vw' : '0' }}>\r\n                    <p>{errMsg}</p>\r\n                </section>\r\n            </div>\r\n            {isCloudLoader && <section className=\"cloud-loader\"><img src={loader} alt=\"\" /></section>}\r\n        </>\r\n    )\r\n}","import './LandingPage.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { updateBackground } from '../../store/actions/boardActions'\r\n\r\nexport function LandingPage() {\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(updateBackground(false))\r\n    })\r\n\r\n    return (\r\n        <section className=\"sub-container landing-page-container\">\r\n            \r\n            <div className=\"landing-page-section\">\r\n                <div>\r\n                    <h3>Taskman</h3>\r\n                    <p>Taskman helps teams move work forward.\r\n                        Collaborate, manage projects, and reach new productivity peaks. From high rises to the home office, the way your team works is unique-accomplish it all with Taskman.</p>\r\n                </div>\r\n                <article>\r\n                    <img src=\"https://cdn.dribbble.com/users/2851002/screenshots/9667092/media/09648e273e248e7cfd22ade4010b2a6e.gif\" alt=\"\" />\r\n                </article>\r\n            </div>\r\n            <div className=\"landing-page-section landing-page-section-right\">\r\n                <article>\r\n                    <img src=\"https://cdn.dribbble.com/users/2851002/screenshots/9073688/media/bb69af3d8f2404f4cfcc7cecdc558be6.gif\" alt=\"\" />\r\n                </article>\r\n                <div>\r\n                    <h3>Keep Track Of Your Team</h3>\r\n                    <p>Taskman has statistics panel to see your team progress.\r\n                        Keep track of your team's assignment and completion of tasks easily!</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"landing-page-section\">\r\n                <div>\r\n                    <h3>Live Updates & Push Notifications</h3>\r\n                    <p>Always be up-to-date with recent activities in your project.\r\n                        our unique system of real-time push notifications will make sure\r\n                        you always know all about the recent developments.</p>\r\n                </div>\r\n                <article>\r\n                    <img src=\"https://cdn.dribbble.com/users/2851002/screenshots/7736965/media/e08e0676dd54ae8715c2d72bbdd51eb2.gif\" alt=\"\" />\r\n                </article>\r\n            </div>\r\n            <div className=\"flex try-btn bounce-animation\">\r\n                <Link to=\"/boards\" className=\"link\">Try Taskman!</Link>\r\n            </div>\r\n            <div className=\"landing-page-header\">\r\n                <Link to=\"/boards\" className=\"link\">Task<span>man</span></Link>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\nimport './BoardPreview.scss'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrBoard } from '../../store/actions/boardActions';\r\n\r\nexport function BoardPreview({ board }) {\r\n    const dispatch = useDispatch()\r\n\r\n    const LinkPrev = () => (<Link className=\"link\" style={{ color: 'black' }} to={`/board/${board._id}`}>\r\n        <h4>{board.title}</h4>\r\n    </Link>)\r\n\r\n    return (\r\n        <div className=\"board-link links\" key={board._id} onClick={() => dispatch(setCurrBoard(board._id))} style={board.background ? board.background.img ? { backgroundImage: `url(${board.background.img})` } : { backgroundColor: board.background.color } : { backgroundColor: 'white' }}>\r\n            {board.background ? board.background.img ? <Link className=\"link\" to={`/board/${board._id}`}>\r\n                <h4 >{board.title}</h4>\r\n            </Link> : <LinkPrev /> : <LinkPrev />}\r\n        </div>\r\n    )\r\n}","import { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { BoardPreview } from '../BoardPreview'\r\nimport './BoardList.scss'\r\n\r\nexport function BoardList({ boardListOp }) {\r\n    const { register, handleSubmit, reset } = useForm();\r\n    const [isCreateBoard, setIsCreateBoard] = useState(null)\r\n\r\n    const onAddBoard = data => {\r\n        boardListOp.addBoard(data.newBoardTitle)\r\n        setIsCreateBoard(!isCreateBoard)\r\n        reset()\r\n    }\r\n\r\n    return (\r\n        <ul className=\"board-container\">\r\n            {boardListOp.boards.map(board => <li key={board._id}><BoardPreview key={board._id} board={board} /></li>)}\r\n            <li className=\"board-link add-board\">\r\n                {!isCreateBoard && <button onClick={() => setIsCreateBoard(!isCreateBoard)}>Create board</button>}\r\n                {isCreateBoard &&\r\n                    <form onSubmit={handleSubmit(onAddBoard)}>\r\n                        <input type=\"text\" id=\"title\" name=\"title\" autoComplete=\"off\" {...register(\"newBoardTitle\")} placeholder=\"Board name\" />\r\n                        <button>Create board</button>\r\n                    </form>}\r\n            </li>\r\n        </ul>\r\n    )\r\n}","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { loadBoards, saveBoard, setCurrBoard, updateBackground,removeBoard } from '../../store/actions/boardActions.js'\r\nimport { BoardList } from '../../cmps/BoardList'\r\nimport './TaskmanApp.scss'\r\nimport boardService from '../../services/boardService.js'\r\nimport loader from '../../assets/imgs/taskman-loader.svg'\r\nimport { socketService } from '../../services/socketService.js'\r\nimport userService from '../../services/userService.js'\r\nimport { login } from '../../store/actions/userActions.js'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport function TaskmanApp() {\r\n    const dispatch = useDispatch()\r\n    const boards = useSelector(state => state.boardReducer.boards)\r\n    const loggedinUser = userService.storage.loadUserFromStorage()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        socketService.setup();\r\n        dispatch(setCurrBoard(null))\r\n        dispatch(loadBoards())\r\n        dispatch(updateBackground(true))\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (loggedinUser) {\r\n            dispatch(login(loggedinUser))\r\n            history.push('/boards')\r\n        }\r\n    }, [])\r\n\r\n    const addBoard = async (title) => {\r\n        const newBoard = boardService.getEmptyBoard()\r\n        newBoard.title = title\r\n        await dispatch(saveBoard(newBoard))\r\n        boards.push(newBoard)\r\n    }\r\n    if (!boards || !boards.length) return (<div className=\"loader-container\"><img src={loader} alt=\"\" /></div>)\r\n\r\n    const boardListOp = {\r\n        boards,\r\n        addBoard\r\n    }\r\n\r\n    return (\r\n        <div className=\"sub-container taskman-container\">\r\n            <h2>Your Workspace boards</h2>\r\n            <BoardList boardListOp={boardListOp}></BoardList>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/home-img.30a77dee.jpg\";","import { useEffect } from 'react';\r\nimport { WidgetLoader } from 'react-cloudinary-upload-widget';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport './App.scss';\r\nimport { AppHeader } from './cmps/AppHeader';\r\nimport { BoardDetails } from './pages/BoardDetails';\r\nimport { LandingPage } from './pages/LandingPage';\r\nimport { TaskmanApp } from './pages/TaskmanApp';\r\nimport userService from './services/userService';\r\nimport { loadBoards, setCurrBackground } from './store/actions/boardActions';\r\nimport { loadUsers, login } from './store/actions/userActions';\r\nimport backgroundImg from './assets/imgs/home-img.jpg'\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch()\r\n    const currBoard = useSelector(state => state.boardReducer.currBoard)\r\n    const background = useSelector(state => state.boardReducer.background)\r\n    const currBackground = useSelector(state => state.boardReducer.currBackground)\r\n    const loggedinUser = userService.storage.loadUserFromStorage()\r\n\r\n    useEffect(() => {\r\n        dispatch(loadUsers())\r\n        dispatch(loadBoards())\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        dispatch(setCurrBackground(null))\r\n    }, [background])\r\n\r\n    useEffect(() => {\r\n        if (loggedinUser) {\r\n            dispatch(login(loggedinUser))\r\n        }\r\n    }, [currBoard])\r\n\r\n    return (\r\n        <Router>\r\n            <div className=\"App container\" style={!background ? currBoard ? currBoard.background.color ? { backgroundColor: currBackground } : { backgroundImage: currBoard.background.img ? `url(${currBackground})` : '' } : { backgroundColor: 'white' } : { backgroundImage: `url(${backgroundImg})` }}>\r\n                <AppHeader />\r\n                <WidgetLoader />\r\n                <Switch>\r\n                    <Route component={BoardDetails} path='/board/:id?' />\r\n                    <Route component={TaskmanApp} path='/boards' />\r\n                    <Route component={LandingPage} path='/' />\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const INITIAL_STATE = {\r\n  boards: [],\r\n  currBoard: null,\r\n  background: false,\r\n  currBackground: null,\r\n  filterBy: null,\r\n  isCloudLoader: false\r\n}\r\n\r\nexport function boardReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case 'SET_BOARDS':\r\n      return {\r\n        ...state,\r\n        boards: action.boards\r\n      }\r\n    case 'SET_BOARD':\r\n      return {\r\n        ...state,\r\n        currBoard: action.board\r\n      }\r\n    case 'ADD_BOARD':\r\n      return {\r\n        ...state,\r\n        boards: [...state.boards, action.board]\r\n      }\r\n    case 'REMOVE_BOARD':\r\n      return {\r\n        ...state,\r\n        boards: state.boards.filter(board => board._id !== action.boardId)\r\n      }\r\n    case 'UPDATE_BOARD':\r\n      const { updatedBoard } = action\r\n      return {\r\n        ...state,\r\n        boards: state.boards.map(board => board._id === updatedBoard._id ? updatedBoard : board)\r\n      }\r\n    case 'UPDATE_BACKGROUND':\r\n      return {\r\n        ...state,\r\n        background: action.background\r\n      }\r\n    case 'SET_BACKGROUND':\r\n      return {\r\n        ...state,\r\n        currBackground: action.currBackground\r\n      }\r\n    case 'UPDATE_FILTERBY':\r\n      return {\r\n        ...state,\r\n        filterBy: action.filterBy\r\n      }\r\n    case 'UPDATE_CLOUD_LOADER':\r\n      return {\r\n        ...state,\r\n        isCloudLoader: action.bool\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","const INITIAL_STATE = {\r\n  users: [],\r\n  user: null\r\n}\r\n\r\nexport function userReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case 'SET_USERS':\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n    case 'LOAD_USER':\r\n      return {\r\n        ...state,\r\n        user: action.user\r\n      }\r\n    case 'UPDATE_USER':\r\n      const { updatedUser } = action\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => user._id === updatedUser._id ? updatedUser : user)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk'\r\nimport { boardReducer } from './reducers/boardReducer';\r\nimport { userReducer } from './reducers/userReducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst rootReducer = combineReducers({\r\n  boardReducer,\r\n  userReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}