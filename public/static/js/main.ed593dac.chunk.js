(this.webpackJsonptaskman=this.webpackJsonptaskman||[]).push([[0],{166:function(e,t,c){},170:function(e,t,c){},173:function(e,t,c){},194:function(e,t,c){},226:function(e,t,c){},227:function(e,t,c){},228:function(e,t,c){},229:function(e,t,c){},230:function(e,t,c){},253:function(e,t){},256:function(e,t,c){},257:function(e,t,c){},258:function(e,t,c){},259:function(e,t,c){},260:function(e,t,c){},261:function(e,t,c){},262:function(e,t,c){},263:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(12),r=c.n(s),i=(c(166),c(9)),l=c(30),d=c(17),o=(c(170),c(5)),u=c(6),j=(c(173),c(7)),b=c.n(j),h=c(11),m=c(15),O=c(4),p=c(140),f="/api/",x=c.n(p).a.create({withCredentials:!0}),v=function(e,t){return y(e,"GET",t)},k=function(e,t){return y(e,"POST",t)},g=function(e,t){return y(e,"PUT",t)},C=function(e,t){return y(e,"DELETE",t)};function y(e){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(b.a.mark((function e(t){var c,n,a,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,x({url:"".concat(f).concat(t),method:c,data:n,params:"GET"===c?n:null});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(c,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var w={getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=c.charAt(Math.floor(Math.random()*c.length));return t},filter:function(e,t){return e=e.toLocaleLowerCase(),t.filter((function(t){return t.name.toLocaleLowerCase().includes(e)||t.phone.toLocaleLowerCase().includes(e)||t.email.toLocaleLowerCase().includes(e)}))},sort:function(e){return e.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0}))},debounce:function(e){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var r=function(){clearTimeout(t),e.apply(void 0,a)};clearTimeout(t),t=setTimeout(r,c)}}};var _="board/",T={query:function(){return A.apply(this,arguments)},getBoardById:function(e){return M.apply(this,arguments)},deleteBoard:function(e){return B.apply(this,arguments)},saveBoard:function(e){return L.apply(this,arguments)},getEmptyBoard:function(){return{title:"",members:[],cards:[{_id:w.makeId(),title:"Your first card!",tasks:[]}],activity:[],background:[],labels:[]}},getEmptyCard:function(){return{_id:w.makeId(),title:"",tasks:[]}},updateCard:function(e,t,c){if("number"!==typeof e){var n=t.tasks.findIndex((function(t){return t._id===e._id}));t.tasks.splice(n,1,e)}else t.tasks.splice(e,1);return E(t,c)},updateBoard:E,getCloudImages:function(){return D},getEmptyTask:function(){return{_id:w.makeId(),title:"",desc:"",createdAt:Date.now(),labels:[],dueDate:"",activity:[],members:[],isWithAttachment:!1,cover:"white",checklists:[],doneAt:""}},getUsers:function(){return S}},D=["https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621015877/taskman/jared-verdi-PNKwdJ8WetM-unsplash_aabpzg.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016569/taskman/zsofia-szalay-TbrzJbcacnQ-unsplash_bst628.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016567/taskman/the-nigmatic-lUnLaEWzcz8-unsplash_vcfxju.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016565/taskman/steve-johnson-274PPmlOjyQ-unsplash_twaarr.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/omer-salom-LoijtQXXNhs-unsplash_w6cs4h.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/jonny-gios-h_XcnLbDc_0-unsplash_lhi5si.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/inaki-del-olmo-IRCzpl2YYKE-unsplash_tpzeyw.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/joel-holland-TRhGEGdw-YY-unsplash_dqapzs.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016558/taskman/ian-schneider-TamMbr4okv4-unsplash_r85bnj.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016557/taskman/mohammad-alizade-CDu0x1Aiils-unsplash_jqizxr.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016556/taskman/mohammad-alizade-62t_kKa2YlA-unsplash_rbytvb.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016555/taskman/mohamed-rishfaan-ir_65wcK_DA-unsplash_qgfljs.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016554/taskman/ines-mills-TGs0tHMk4eg-unsplash_bkqpbf.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016551/taskman/erol-ahmed-aIYFR0vbADk-unsplash_g8hmym.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016551/taskman/duy-thanh-nguyen-ZeoSVUcWjfY-unsplash_z4qs2l.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016550/taskman/fransiskus-filbert-mangundap-C9hqYikX34w-unsplash_mqj9zi.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016548/taskman/arpad-spodni-KbKQY_LjmuE-unsplash_fqlcyv.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016546/taskman/dave-hoefler-PkQH-GHEp0A-unsplash_jfurlc.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016544/taskman/fabrice-villard-Du41jIaI5Ww-unsplash_kqcna2.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016542/taskman/estee-janssens-aQfhbxailCs-unsplash_slddqg.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016542/taskman/angel-luciano-XQJ0BBSvTs0-unsplash_d7advt.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016538/taskman/callum-wale-V8j3F6Ik9_s-unsplash_clbkte.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016537/taskman/braden-jarvis-prSogOoFmkw-unsplash_sgtmnd.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016534/taskman/danielle-macinnes-IuLgi9PWETU-unsplash_u9xmg7.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016533/taskman/carolyn-christine-D7bmnvGJA2Q-unsplash_oz27jz.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621018122/taskman/vlad-kutepov-WYJ9c7uSdnU-unsplash_c2g6gy.jpg"],S=[{_id:"u101",name:"Aviv Zohar"},{_id:"u102",name:"Hadar Marom"},{_id:"u103",name:"Oshri Yoktan"}];function A(){return(A=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(_);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("err:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function M(){return(M=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(_+t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("err:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function B(){return(B=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(_+t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error from boardService - ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function L(){return(L=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t._id){e.next=5;break}return e.next=4,g(_+t._id,t);case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,k(_,t);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.log("err:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function E(e,t){if("number"!==typeof e){var c=t.cards.findIndex((function(t){return t._id===e._id}));t.cards.splice(c,1,e)}else t.cards.splice(e,1);return Object(O.a)(Object(O.a)({},t),{},{cards:Object(m.a)(t.cards)})}function z(e){return function(){var t=Object(h.a)(b.a.mark((function t(c){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.query(e);case 2:n=t.sent,c({type:"SET_BOARDS",boards:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function I(e){return function(){var t=Object(h.a)(b.a.mark((function t(c){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.saveBoard(e);case 2:if(n=t.sent,e._id){t.next=7;break}return t.abrupt("return",c({type:"ADD_BOARD",board:n}));case 7:return t.abrupt("return",c({type:"UPDATE_BOARD",updatedBoard:n}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function R(e){return function(){var t=Object(h.a)(b.a.mark((function t(c){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.getBoardById(e);case 2:n=t.sent,c({type:"SET_BOARD",board:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function P(e){return function(){var t=Object(h.a)(b.a.mark((function t(c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"UPDATE_BACKGROUND",background:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var W=c(1);function Y(){var e=Object(i.c)();return Object(W.jsxs)("nav",{className:"app-header sub-container",children:[Object(W.jsx)(l.b,{className:"link",onClick:function(){return e(P(!0))},to:"/",children:Object(W.jsx)(o.a,{icon:u.g})}),Object(W.jsx)(l.b,{className:"link",onClick:function(){return e(P(!0))},to:"/",children:"Taskman"}),Object(W.jsx)(l.b,{className:"link",onClick:function(){return e(P(!0))},to:"/",children:Object(W.jsx)(o.a,{icon:u.o})})]})}var q=c(8),U=c(20),F=c(32),V=(c(194),c(23)),Z=c(31),G=c.n(Z);function K(e){var t=e.card,c=e.cardPreviewOp,a=Object(i.c)(),s=Object(U.a)(),r=s.register,l=s.handleSubmit,d=Object(i.d)((function(e){return e.boardReducer.currBoard})),j=Object(n.useState)(t.tasks),m=Object(q.a)(j,2),p=m[0],f=m[1],x=Object(n.useState)(null),v=Object(q.a)(x,2),k=v[0],g=v[1],C=T.getEmptyTask(),y=function(e,t){e.stopPropagation(),c.setIsDescShown(t),a(R(d._id))},N=function(e,t){console.log("task:",t),e.stopPropagation(),t.doneAt?t.doneAt="":t.doneAt=Date.now(),a(R(d._id))},w=function(){var e=Object(h.a)(b.a.mark((function e(n){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.title=n.newTask,p.push(C),f(p),s=T.updateCard(C,t,d),a(I(s)),a(R(d._id)),C=T.getEmptyTask(),g(!k),n.newTask="",c.addActivity("Aviv Zohar","added","task",t.title);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(b.a.mark((function e(c){var n,s,r,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.destination){e.next=2;break}return e.abrupt("return");case 2:return n=Array.from(p),s=n.splice(c.source.index,1),r=Object(q.a)(s,1),i=r[0],n.splice(c.destination.index,0,i),t.tasks=n,f(t.tasks),e.next=9,T.updateBoard(t,d);case 9:l=e.sent,a(I(l)),a(R(d._id));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsx)("div",{className:"board-card",onClick:function(){return c.setCurrCard(t)},children:Object(W.jsxs)("div",{className:"hide-overflow",children:[Object(W.jsxs)("div",{className:"title",children:[Object(W.jsx)("form",{onChange:l((function(e){t.title=e.cardTitle;var c=T.updateBoard(t,d);a(I(c))})),children:Object(W.jsx)("input",Object(O.a)(Object(O.a)({type:"text"},r("cardTitle")),{},{defaultValue:t.title,placeholder:"Card name"}))}),Object(W.jsx)("div",{onClick:function(e){return c.openCardModal(e,t)},className:"manage-card",children:Object(W.jsx)("p",{children:"\u22ee"})})]}),Object(W.jsx)(F.a,{onDragEnd:_,children:Object(W.jsx)(F.c,{droppableId:"tasks",children:function(e){return Object(W.jsxs)("ul",Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,className:"tasks-container",children:[p.map((function(e,t){return Object(W.jsx)(F.b,{draggableId:e._id,index:t,children:function(t){return Object(W.jsxs)("li",Object(O.a)(Object(O.a)(Object(O.a)({onClick:function(){return c.setCurrTask(e)}},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,className:"card-task",children:[Object(W.jsxs)("div",{className:"label-color-to-preview-container",children:[!c.isDescShown&&e.labels.map((function(e,t){return Object(W.jsx)("label",{className:"label-color-to-preview",style:{backgroundColor:"".concat(e.color)},onClick:function(e){return y(e,!0)}},t)})),c.isDescShown&&e.labels.map((function(e,t){return Object(W.jsx)("label",{className:"label-color-open-to-preview",style:{backgroundColor:"".concat(e.color)},onClick:function(e){return y(e,!1)},children:e.desc},t)}))]}),Object(W.jsx)("span",{children:e.title}),Object(W.jsxs)("section",{className:"buttom-preview-info",children:[e.checklists.length?Object(W.jsxs)("p",{children:[Object(W.jsx)(o.a,{icon:u.h}),e.checklists.reduce((function(e,t){return e+t.list.reduce((function(e,t){return t.isChecked+e}),0)}),0),"/",e.checklists.reduce((function(e,t){return t.list.length+e}),0)]}):null,e.dueDate?e.doneAt?Object(W.jsxs)("div",{className:"due-date-to-preview",onClick:function(t){return N(t,e)},children:[Object(W.jsx)(o.a,{icon:u.d}),Object(W.jsx)(G.a,{className:"due-date-to-preview",format:"MMM D",withTitle:!0,children:e.dueDate})]}):Object(W.jsxs)("div",{className:"due-date-to-preview",onClick:function(t){return N(t,e)},children:[Object(W.jsx)(o.a,{icon:u.f}),Object(W.jsx)(G.a,{className:"due-date-to-preview",format:"MMM D",withTitle:!0,children:e.dueDate})]}):null,e.members.length?Object(W.jsx)("div",{children:e.members.map((function(e,t){return Object(W.jsx)(V.a,{name:e.name,size:"30",round:!0},t)}))}):null]})]}),e._id)}},e._id)})),e.placeholder]}))}})}),!k&&Object(W.jsxs)("button",{className:"add-task-btn",onClick:function(){return g(!k)},children:[Object(W.jsx)(o.a,{icon:u.k})," Add task"]}),k&&Object(W.jsxs)("div",{className:"add-task-container",children:[Object(W.jsxs)("form",{onSubmit:l(w),children:[Object(W.jsx)("textarea",Object(O.a)(Object(O.a)({type:"text",id:"title",name:"title"},r("newTask")),{},{placeholder:"Task name",defaultValue:C.title})),Object(W.jsx)("button",{children:"Add Task"})]}),Object(W.jsx)("p",{onClick:function(){return g(!k)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]})]})})}c(226),c(227),c(228);function Q(e){var t=e.labelEditModal,c=Object(U.a)(),n=c.register,a=c.handleSubmit;return Object(W.jsxs)("div",{className:"label-edit-modal",children:[Object(W.jsxs)("div",{className:"labels-edit-modal-header",children:[Object(W.jsx)("button",{onClick:function(){return e.setLabelEditModal(!1)},children:Object(W.jsx)(o.a,{icon:u.e})}),Object(W.jsx)("h3",{children:"Edit Label:"}),Object(W.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setLabelModal(!1)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsx)("div",{className:"label-edit-details",children:Object(W.jsxs)("form",{onChange:a((function(c){return n=c,t.desc=n.labelName,t.color=n.labelColor,void e.setLabelModal(t);var n})),children:[Object(W.jsx)("p",{children:"Name:"}),Object(W.jsx)("input",Object(O.a)({type:"text",name:"edit-name",autoComplete:"off",value:t.desc},n("labelName"))),Object(W.jsx)("p",{children:"Color:"}),Object(W.jsx)("input",Object(O.a)({type:"color",name:"edit-color",value:t.color},n("labelColor")))]})})]})}c(229);function X(e){var t=Object(n.useState)(null),c=Object(q.a)(t,2),a=c[0],s=c[1],r=Object(i.d)((function(e){return e.boardReducer.currBoard})).labels;return Object(n.useEffect)((function(){})),Object(W.jsxs)("section",{children:[Object(W.jsxs)("div",{className:"label-modal",style:a?{maxWidth:0,visibility:"visible"}:{maxWidth:"100%"},children:[Object(W.jsxs)("div",{className:"labels-modal-header",children:[Object(W.jsx)("h3",{children:"Labels"}),Object(W.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setLabelModal(!1)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsx)("ul",{className:"label-container",children:r.map((function(t,c){return Object(W.jsxs)("li",{onClick:function(){return c=t,void e.addLabel(c);var c},children:[Object(W.jsxs)("div",{className:"label-to-show",style:{backgroundColor:"".concat(t.color)},children:[Object(W.jsx)("span",{children:t.desc}),Object(W.jsx)("span",{children:e.currTask.labels.find((function(e){return e.color===t.color}))?Object(W.jsx)(o.a,{className:"fa",icon:u.c}):null})]}),Object(W.jsx)("button",{className:"edit-label-btn",onClick:function(e){return function(e,t){e.stopPropagation(),s(t)}(e,t)},children:Object(W.jsx)(o.a,{icon:u.j})})]},c)}))})]}),a&&Object(W.jsx)(Q,{setLabelModal:e.setLabelModal,labelEditModal:a,setLabelEditModal:s,addLabel:e.addLabel})]})}c(230);var J=c(143),H=c.n(J),$=function(){var e,t={setup:function(){e=H()(""),console.log("using sockets!!!")},on:function(c,n){console.log("eventName back from back:",c),e||t.setup(),e.on(c,n)},off:function(c){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||t.setup(),n?e.off(c,n):e.removeAllListeners(c)},emit:function(c,n){console.log("eventName front to back:",c),e||t.setup(),e.emit(c,n)},terminate:function(){e=null}};return t}();function ee(e){Object(n.useEffect)((function(){$.on("add-member-to-task-from-back",(function(){console.log("workes")}))}));var t=Object(i.d)((function(e){return e.boardReducer.currBoard}));return Object(W.jsxs)("div",{className:"member-modal",style:{maxWidth:"100%"},children:[Object(W.jsxs)("div",{className:"member-modal-header",children:[Object(W.jsx)("h3",{children:"Members"}),Object(W.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setMemberModal(!1)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsx)("ul",{className:"member-container",children:t.members.map((function(t,c){return Object(W.jsxs)("li",{onClick:function(){return function(t){e.addMemberToTask(t)}(t)},children:[Object(W.jsxs)("div",{className:"member-details",children:[Object(W.jsx)(V.a,{name:t.name,size:"30",round:!0},c),Object(W.jsx)("span",{children:t.name})]}),Object(W.jsx)("span",{children:e.currTask.members.find((function(e){return e._id===t._id}))?Object(W.jsx)(o.a,{icon:u.c,children:" "}):null})]},c)}))})]})}window.socketService=$;c(256);function te(e){var t=Object(U.a)(),c=t.register,n=t.handleSubmit;t.formState.errors;return Object(W.jsxs)("div",{className:"checklist-modal",children:[Object(W.jsxs)("section",{className:"checklist-modal-header",children:[Object(W.jsx)("h3",{children:"Add Checklist"}),Object(W.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setChecklistModal(!1)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsxs)("form",{className:"checklist-modal-main",onSubmit:n((function(t){var c={title:t.title,list:[],range:0};e.addChecklist(c),e.setChecklistModal(!1)})),children:[Object(W.jsx)("label",{children:"Title"}),Object(W.jsx)("input",Object(O.a)(Object(O.a)({type:"text",autoComplete:"off",id:"title",name:"title"},c("title")),{},{defaultValue:""})),Object(W.jsx)("button",{children:"Add"})]})]})}c(257);var ce=c(146),ne=c(18),ae=c(287);function se(e){var t=Date.now()+6048e5,c=(new Date(Date.now()+6048e5),a.a.useState(t)),n=Object(q.a)(c,2),s=n[0],r=n[1];return Object(W.jsxs)("div",{className:"due-date-modal",children:[Object(W.jsxs)("section",{className:"due-date-modal-header",children:[Object(W.jsx)("h3",{children:"Due Date"}),Object(W.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setDueDateModal(!1)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsxs)("form",{onSubmit:function(){var t=Date.parse(s);e.addDueDate(t),e.setDueDateModal(!1)},children:[Object(W.jsx)(ne.a,{utils:ce.a,children:Object(W.jsx)(ae.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Pick A Deadline",value:s,onChange:function(e){return r(e)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(W.jsx)("button",{children:"save"})]})]})}function re(e){var t=e.taskModalOp,c=t.currTask,a=Object(i.c)(),s=Object(U.a)(),r=s.register,l=s.handleSubmit,d=Object(n.useState)(!1),j=Object(q.a)(d,2),b=j[0],h=j[1],m=Object(n.useState)(!1),p=Object(q.a)(m,2),f=p[0],x=p[1],v=Object(n.useState)(!1),k=Object(q.a)(v,2),g=k[0],C=k[1],y=Object(n.useState)(!1),N=Object(q.a)(y,2),w=N[0],_=N[1],D=Object(n.useState)(!1),S=Object(q.a)(D,2),A=S[0],M=S[1],B=Object(i.d)((function(e){return e.boardReducer.currBoard})),L=B.cards.find((function(e){return e.tasks.find((function(e){return e._id===c._id}))})),E=function(e){var t=+(e.list.reduce((function(e,t){return t.isChecked+e}),0)/e.list.length*100).toFixed(2);e.range=t,z(c)},z=function(e){var t=T.updateCard(e,L,B);a(I(t)),a(R(B._id))};return Object(W.jsxs)("div",{className:"task-modal",children:[Object(W.jsxs)("div",{className:"task-modal-form",children:[Object(W.jsx)("div",{className:"task-header",children:Object(W.jsxs)("div",{className:"task-title",children:[Object(W.jsx)("h3",{children:c.title}),Object(W.jsxs)("p",{children:["In list: ",L.title," "]})]})}),Object(W.jsxs)("div",{className:"task-description-modal",children:[c.dueDate?Object(W.jsxs)("section",{onClick:function(){c.doneAt?c.doneAt="":c.doneAt=Date.now(),z(c)},children:[Object(W.jsxs)("span",{className:"due-date-moment",children:[c.doneAt?Object(W.jsx)(o.a,{icon:u.d}):Object(W.jsx)(o.a,{icon:u.f})," ",Object(W.jsx)(G.a,{fromNow:!0,children:c.dueDate})]}),Object(W.jsx)(G.a,{format:"MMM D YYYY",withTitle:!0,children:c.dueDate})]}):null,c.labels.length?Object(W.jsxs)("section",{children:[Object(W.jsx)("h4",{children:"Lables"}),c.labels.map((function(e,t){return Object(W.jsx)("div",{className:"label-in-modal",style:{backgroundColor:e.color},children:Object(W.jsx)("p",{children:e.desc})},t)})),Object(W.jsx)("button",{onClick:function(){return h(!0)},children:"+ "})]}):null,c.members.length?Object(W.jsxs)("section",{children:[Object(W.jsx)("h4",{children:"Members"}),Object(W.jsxs)("div",{className:"member-list",children:[c.members.map((function(e,t){return Object(W.jsx)("div",{className:"member-in-modal",children:Object(W.jsx)(V.a,{name:e.name,size:"30",round:!0},t)},t)})),Object(W.jsx)("button",{onClick:function(){return x(!0)},children:"+"})]})]}):null,Object(W.jsxs)("div",{className:"desc-svg",children:[Object(W.jsx)(o.a,{icon:u.a}),Object(W.jsx)("p",{children:"Description:"})]}),Object(W.jsx)("textarea",Object(O.a)(Object(O.a)({id:"desc",name:"desc",onClick:function(){return M(!A)},defaultValue:undefined,placeholder:"Add some detailed description..."},r("desc")),{},{defaultValue:t.currTask.desc})),A&&Object(W.jsxs)("div",{className:"saveDesc",children:[Object(W.jsx)("button",{onClick:function(e){e.preventDefault(),M(!A)},children:"Save"})," ",Object(W.jsx)("button",{onClick:function(){return M(!1)},children:"x"})," "]})]}),c.checklists.length?Object(W.jsx)("section",{children:c.checklists.map((function(e,n){return Object(W.jsxs)("div",{className:"checklist-in-modal",children:[Object(W.jsxs)("div",{className:"checklist-svg",children:[" ",Object(W.jsxs)("div",{className:"flex",children:[" ",Object(W.jsx)(o.a,{icon:u.h})," ",Object(W.jsx)("p",{children:e.title})]}),Object(W.jsx)("button",{onClick:function(){return t.addChecklist(n)},children:"delete list"})]}),e.list.length?Object(W.jsx)("div",{className:"demo-range-container",children:Object(W.jsx)("div",{className:"demo-range-checked",style:{width:e.range+"%"}})}):null,e.list.length?Object(W.jsxs)("span",{children:[e.range,"%"]}):null,e.list.length?e.list.map((function(t,n){return Object(W.jsxs)("div",{className:"checklist-items",children:[Object(W.jsx)("input",{type:"checkbox",id:"checklist-item-"+n,checked:t.isChecked,onChange:function(){!function(e){e.isChecked=!e.isChecked,z(c)}(t),E(e)}}),t.isChecked?Object(W.jsx)("label",{style:{textDecoration:"line-through"},children:t.desc}):Object(W.jsx)("label",{children:t.desc})]},n)})):null,Object(W.jsxs)("form",{onSubmit:l((function(e){return function(e,t){var n=Object.keys(e).find((function(e){return e==="inputItem"+t}));c.checklists[t].list.push({desc:e[n],isChecked:!1}),E(c.checklists[t])}(e,n)})),children:[Object(W.jsx)("input",Object(O.a)({type:"text",autoComplete:"off",id:"input-item-"+n,name:"item",placeholder:"add an item"},r("inputItem"+n))),Object(W.jsx)("button",{children:"Add An Item"})]})]},n)}))}):null,Object(W.jsxs)("div",{className:"task-comment",children:[Object(W.jsx)("p",{children:"Post a Comment:"}),Object(W.jsx)("input",Object(O.a)(Object(O.a)({type:"text",autoComplete:"off",id:"comment",name:"comment",placeholder:"Write a comment..."},r("activity")),{},{defaultValue:c.activity}))]})]}),Object(W.jsxs)("div",{className:"add-to-task",children:[Object(W.jsxs)("div",{className:"right-task-modal",children:[Object(W.jsx)("h3",{children:"Add To Task:"}),Object(W.jsx)("p",{onClick:function(){return t.setCurrTask(null)},className:"btn-close-icon",children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsxs)("div",{className:"right-task-modal-btns",children:[Object(W.jsxs)("div",{onClick:function(){return h(!0)},className:"right-task-btn",children:[Object(W.jsx)(o.a,{icon:u.l}),Object(W.jsx)("p",{children:" Labels "})]}),Object(W.jsxs)("div",{onClick:function(){return x(!0)},className:"right-task-btn",children:[Object(W.jsx)(o.a,{icon:u.n}),Object(W.jsx)("p",{children:" Members "})]}),Object(W.jsxs)("div",{onClick:function(){return C(!0)},className:"right-task-btn",children:[Object(W.jsx)(o.a,{icon:u.h}),Object(W.jsx)("p",{children:" Checklist "})]}),Object(W.jsxs)("div",{onClick:function(){return _(!0)},className:"right-task-btn",children:[Object(W.jsx)(o.a,{icon:u.f}),Object(W.jsx)("p",{children:" Due Date "})]})]})]}),b?Object(W.jsx)(X,{setLabelModal:h,labelModal:b,currTask:c,addLabel:t.addLabel}):null,f?Object(W.jsx)(ee,{setMemberModal:x,memberModal:f,currTask:c,addMemberToTask:t.addMember}):null,g?Object(W.jsx)(te,{setChecklistModal:C,checklistModal:g,currTask:c,addChecklist:t.addChecklist}):null,w?Object(W.jsx)(se,{setDueDateModal:_,dueDateModal:w,addDueDate:t.addDueDate,currTask:c}):null]})}c(258),c.p;function ie(e){var t=e.boardMenuOp,c=Object(i.c)(),a=Object(U.a)(),s=a.register,r=a.handleSubmit,l=Object(i.d)((function(e){return e.boardReducer.currBoard})),d=Object(n.useState)(!1),j=Object(q.a)(d,2),b=j[0],h=j[1],p=Object(n.useState)(!1),f=Object(q.a)(p,2),x=f[0],v=f[1],k=Object(n.useState)(!1),g=Object(q.a)(k,2),C=g[0],y=g[1],N=Object(n.useState)(!1),_=Object(q.a)(N,2),D=_[0],S=_[1],A=Object(n.useState)(null),M=Object(q.a)(A,2),B=M[0],L=M[1],E=Object(n.useState)(!1),z=Object(q.a)(E,2),P=z[0],Y=z[1],F=Object(n.useState)({task:"",labels:[]}),Z=Object(q.a)(F,2),K=Z[0],Q=Z[1];Object(n.useEffect)((function(){L(T.getCloudImages()),J()}),[K]);var X=function(e){Q(Object(O.a)(Object(O.a)({},K),{},{task:e.searchTask}))},J=function(){t.filterTasks(K)},H=function(e){var t=[],n=[];Object.keys(e).forEach((function(e){e.includes("editBoardLabelColor")?n.push(e):e.includes("editBoardLabel")&&t.push(e)}));var a=Object.values(e);a.splice(0,1);var s=[],r=[];a.forEach((function(e,t){t%2===0?s.push(e):r.push(e)}));var i=s.map((function(e,t){return{desc:s[t],color:r[t]}}));c(I(Object(O.a)(Object(O.a)({},l),{},{labels:i}))),setTimeout((function(){return c(R(l._id))}),100)},$=function(){t.setIsMenu(!1),h(!1),v(!1),y(!1),S(!1),X("")};return B&&l?Object(W.jsxs)("section",{className:"board-menu flex",style:t.isMenu?{maxWidth:"100%"}:{maxWidth:0},children:[Object(W.jsxs)("article",{className:"menu-main",children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("h3",{children:"Menu"}),Object(W.jsx)("p",{onClick:$,children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("p",{onClick:function(){return h(!b)},children:"About this board"}),Object(W.jsx)("p",{onClick:function(){return v(!x)},children:"Background"}),Object(W.jsx)("p",{onClick:function(){return y(!C)},children:"Search cards"}),Object(W.jsx)("p",{onClick:function(){return S(!D)},children:"Labels"})]}),Object(W.jsxs)("div",{className:"hide-overflow flex",children:[Object(W.jsx)("h3",{children:"Activity"}),Object(W.jsxs)("ul",{children:[l.activity.length&&l.activity.map((function(e){return Object(W.jsxs)("li",{children:["Attached"!==e.type?Object(W.jsxs)("p",{children:[Object(W.jsx)("span",{children:e.member})," ",e.type," ",e.desc," ","deleted"===e.type?"from":"to"," ",Object(W.jsx)("span",{children:e.card}),"board"===e.card?"":" card","."]}):Object(W.jsxs)("p",{children:[Object(W.jsx)("span",{children:e.member})," ",e.type," ","deleted"===e.type?"from":"to"," ",Object(W.jsx)("span",{children:e.card})," task."]}),Object(W.jsx)("small",{children:Object(W.jsx)(G.a,{fromNow:!0,children:e.createdAt})})]},e._id)})),!l.activity.length&&Object(W.jsx)("li",{children:Object(W.jsx)("h1",{children:"No activity here..."})})]})]})]}),Object(W.jsxs)("article",{className:"menu-about sub-menu",style:b?{maxWidth:"100%"}:{maxWidth:0},children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("p",{onClick:function(){return h(!b)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.e})}),Object(W.jsx)("h3",{children:"About this board"}),Object(W.jsx)("p",{onClick:$,children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("h3",{children:"Members"}),Object(W.jsx)("div",{children:t.members.map((function(e,t){return Object(W.jsx)(V.a,{name:e.name,size:"30",round:!0},t)}))})]}),Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("h3",{children:"Description"}),Object(W.jsx)("textarea",{placeholder:"Type here a description"})]}),Object(W.jsx)("div",{className:"flex",children:Object(W.jsx)("h3",{children:"Statistics"})})]}),Object(W.jsxs)("article",{className:"menu-background sub-menu",style:x?{maxWidth:"100%"}:{maxWidth:0},children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("p",{onClick:function(){return v(!x)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.e})}),Object(W.jsx)("h3",{children:"Change background"}),Object(W.jsx)("p",{onClick:$,children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsxs)("div",{className:"hide-overflow flex",children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("h4",{children:"Colors"}),Object(W.jsx)("div",{className:"flex",children:["lightgreen","lightyellow","lightblue","orange","slateblue","lightpink","lightgray","white"].map((function(e,c){return Object(W.jsx)("aside",{style:{backgroundColor:e},onClick:function(){return t.changeBackground(e,!0)}},c)}))})]}),Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("h4",{children:"Photos"}),Object(W.jsx)("div",{className:"flex",children:B.map((function(e,c){return Object(W.jsx)("img",{onClick:function(){return t.changeBackground(e)},decoding:"async",loading:"lazy",src:e,alt:e},c)}))})]})]})]}),Object(W.jsxs)("article",{className:"menu-filter sub-menu",style:C?{maxWidth:"100%"}:{maxWidth:0},children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("p",{onClick:function(){return y(!C)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.e})}),Object(W.jsx)("h3",{children:"Search cards"}),Object(W.jsx)("p",{onClick:$,children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsx)("div",{children:Object(W.jsx)("form",{onChange:r(X),children:Object(W.jsx)("input",Object(O.a)({type:"text",placeholder:"Search for task..."},s("searchTask")))})}),Object(W.jsxs)("div",{children:[Object(W.jsx)("h4",{children:"Search by label"}),Object(W.jsx)("ul",{children:t.labels.map((function(e,c){return Object(W.jsxs)("li",{style:{backgroundColor:K.labels.includes(e.desc)?"gray":"inherit"},onClick:function(){return function(e){if(K.labels.includes(t.labels[e].desc)){var c=K.labels.findIndex((function(c){return c===t.labels[e].desc}));K.labels.splice(c,1),Q(Object(O.a)(Object(O.a)({},K),{},{labels:K.labels}))}else Q(Object(O.a)(Object(O.a)({},K),{},{labels:[].concat(Object(m.a)(K.labels),[t.labels[e].desc])}))}(c)},children:[Object(W.jsx)("div",{style:{backgroundColor:e.color}}),Object(W.jsx)("p",{children:e.desc})]},c)}))})]})]}),Object(W.jsxs)("article",{className:"menu-labels sub-menu",style:D?{maxWidth:"100%"}:{maxWidth:0},children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("p",{onClick:function(){return S(!D)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.e})}),Object(W.jsx)("h3",{children:"Labels"}),Object(W.jsx)("p",{onClick:$,children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]}),Object(W.jsx)("div",{className:"hide-overflow",children:Object(W.jsxs)("ul",{children:[t.labels.map((function(e,n){return Object(W.jsxs)("li",{style:{backgroundColor:e.color},children:[Object(W.jsxs)("form",{onChange:r(w.debounce(H,800)),children:[Object(W.jsx)("input",Object(O.a)({type:"text",defaultValue:e.desc,placeholder:"Label name",required:!0},s("editBoardLabel"+n))),Object(W.jsxs)("label",{name:"label-color",children:[Object(W.jsx)(o.a,{className:"fa",icon:u.i}),Object(W.jsx)("input",Object(O.a)(Object(O.a)({type:"color"},s("editBoardLabelColor"+n)),{},{defaultValue:e.color}))]})]}),Object(W.jsx)("p",{children:Object(W.jsx)(o.a,{className:"fa",icon:u.m,onClick:function(){return function(e){l.labels.splice(e,1),c(I(l)),setTimeout((function(){return c(R(l._id))}),100),t.addActivity("Aviv Zohar","deleted","label")}(n)}})})]},n)})),!P&&Object(W.jsx)("li",{onClick:function(){return Y(!P)},children:Object(W.jsx)("p",{children:"New label"})}),P&&Object(W.jsxs)("li",{children:[Object(W.jsxs)("form",{onSubmit:r((function(e){var n={desc:e.addBoardLabel,color:e.addBoardLabelColor};l.labels.push(n),c(I(l)),Y(!P),t.addActivity("Aviv Zohar","added","label")})),children:[Object(W.jsx)("input",Object(O.a)({type:"text",placeholder:"Label name",autoComplete:"off",required:!0},s("addBoardLabel"))),Object(W.jsx)("input",Object(O.a)({type:"color",name:"label-color",id:"label-color",defaultValue:"#FFFFFF"},s("addBoardLabelColor"))),Object(W.jsx)("button",{children:"Add label"})]}),Object(W.jsx)("button",{onClick:function(){return Y(!P)},children:"X"})]})]})})]})]}):Object(W.jsx)("div",{className:"loader-container",children:"Loading"})}var le=c.p+"static/media/taskman-loader.d5d52ecc.svg";function de(e){var t=Object(i.c)(),c=Object(U.a)(),a=c.register,s=c.handleSubmit,r=T.getEmptyCard(),l=Object(n.useState)(T.getUsers()),d=Object(q.a)(l,2),j=d[0],b=(d[1],Object(i.d)((function(e){return e.boardReducer.currBoard}))),h=Object(n.useState)(null),p=Object(q.a)(h,2),f=p[0],x=p[1],v=Object(n.useState)(null),k=Object(q.a)(v,2),g=k[0],C=k[1],y=Object(n.useState)(null),N=Object(q.a)(y,2),_=N[0],D=N[1],S=Object(n.useState)(!1),A=Object(q.a)(S,2),M=A[0],B=A[1],L=Object(n.useState)(null),E=Object(q.a)(L,2),Y=E[0],Z=E[1],G=Object(n.useState)(null),Q=Object(q.a)(G,2),X=Q[0],J=Q[1],H=Object(n.useState)(null),ee=Object(q.a)(H,2),te=ee[0],ce=ee[1],ne=Object(n.useState)(null),ae=Object(q.a)(ne,2),se=ae[0],de=ae[1],oe=Object(n.useState)(null),ue=Object(q.a)(oe,2),je=ue[0],be=ue[1],he=Object(n.useState)(null),me=Object(q.a)(he,2),Oe=me[0],pe=(me[1],Object(n.useState)(!1)),fe=Object(q.a)(pe,2),xe=fe[0],ve=fe[1];Object(n.useEffect)((function(){t(P(!1));var c=e.match.params.id;b?Y||Z(b.cards):t(R(c)),t(z()),(null===b||void 0===b?void 0:b._id)&&$.emit("chat topic",b._id)}),[b]),Object(n.useEffect)((function(){}));var ke=function(){be(null),ce(!1)},ge=function(e){r.title=e.newCardTitle,b.cards.push(r),Z(b.cards),t(I(Object(O.a)(Object(O.a)({},b),{},{cards:[].concat(Object(m.a)(b.cards),[r])}))),setTimeout((function(){return t(R(b._id))}),150),r=T.getEmptyCard(),D(!_),e.newCardTitle="",ye("Aviv Zohar","added","card")},Ce=function(e){if(e.boards.includes(b._id)){var t=e.boards.findIndex((function(e){return e._id===b._id}));e.boards.splice(t,1)}else e.boards.push(b._id)},ye=function(e,c,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"board",s={_id:w.makeId(),member:e,type:c,desc:n,card:a,createdAt:Date.now()};b.activity.unshift(s),t(I(b)),t(R(b._id))};if(!b||!Y||!Y.length)return Object(W.jsx)("div",{className:"loader-container",children:Object(W.jsx)("img",{src:le,alt:""})});var Ne={openCardModal:function(e,t){de(e.clientX),ce(!0),be(t)},closeModal:ke,addActivity:ye,setCurrCard:x,setCurrTask:C,isDescShown:xe,setIsDescShown:ve},we={setIsMenu:B,isMenu:M,changeBackground:function(e,c){c?(ye("Aviv Zohar","change","color"),t(I(Object(O.a)(Object(O.a)({},b),{},{background:{color:e,img:null}})))):(ye("Aviv Zohar","change","image"),t(I(Object(O.a)(Object(O.a)({},b),{},{background:{color:null,img:e}})))),setTimeout((function(){return t(R(b._id))}),100)},members:b.members,filterTasks:function(e){if(e.task||e.labels.length){var t=b.cards;if(e.task&&(t=b.cards.find((function(t){return t.tasks.find((function(t){return t.title.includes(e.task)}))}))),e.labels.length&&(t=b.cards.find((function(t){return t.tasks.find((function(t){return t.labels.find((function(t){return t.desc.includes(e.labels)}))}))}))),t&&Object.keys(t).length)Z([t]);else{var c=T.getEmptyCard();c.title="There are no matched tasks.",Z([c])}}else Z(b.cards)},labels:b.labels,addActivity:ye},_e={setCurrTask:C,currTask:g,addLabel:function(e){if(g.labels.length)if(g.labels.some((function(t){return t.color===e.color}))){var c=g.labels.findIndex((function(t){return t.color===e.color}));g.labels.splice(c,1)}else g.labels.push(e);else g.labels.push(e);var n=T.updateCard(g,f,b);t(I(n)),t(R(n._id)),ye("Aviv Zohar","added","labal")},addMember:function(e){if(console.log("member:",e),console.log("currTask.members:",g.members),g.members.length)if(g.members.some((function(t){return t._id===e._id}))){var c=g.members.findIndex((function(t){return t._id===e._id}));g.members.splice(c,1)}else g.members.push(e);else console.log("first if"),g.members.push(e);var n=T.updateCard(g,f,b);t(I(n)),t(R(n._id)),ye("Aviv Zohar","Attached",e,g.title)},addChecklist:function(e){"object"===typeof e?g.checklists.push(e):g.checklists.splice(e,1);var c=T.updateCard(g,f,b);t(I(c)),t(R(c._id))},addDueDate:function(e){g.dueDate=e;var c=T.updateCard(g,f,b);t(I(c)),t(R(c._id))}};return Object(W.jsxs)("div",{className:"board-details sub-container",children:[Object(W.jsxs)("div",{className:"board-header flex",children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("form",{onChange:s((function(e){t(I(Object(O.a)(Object(O.a)({},b),{},{title:e.boardTitle})))})),children:Object(W.jsx)("input",Object(O.a)(Object(O.a)({type:"text",id:"title",name:"title"},a("boardTitle")),{},{defaultValue:b.title}))}),Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("div",{className:"avatars",children:b.members.map((function(e,t){return Object(W.jsx)(V.a,{name:e.name,size:"30",round:!0},t)}))}),Object(W.jsx)("button",{onClick:function(){return J(!X)},children:"Invite"}),X&&Object(W.jsxs)("div",{className:"invite-members-modal",children:[Object(W.jsxs)("form",{onChange:s((function(e){console.log("data:",e);var t=j.filter((function(t){return console.log("user:",t),t.name.toLowerCase().includes(e.member.toLowerCase())}));""===e.member&&(t=null),console.log("userToAdd:",t)})),children:[Object(W.jsx)("button",{onClick:function(){return J(!X)},children:"x"}),Object(W.jsxs)("div",{className:"invite-title",children:[Object(W.jsx)("p",{children:"Invite to board:"}),Object(W.jsx)("input",Object(O.a)({type:"text",autoComplete:"off",placeholder:"Search Taskman Members..",id:"member",name:"member"},a("member")))]})]}),Oe&&Object(W.jsx)("div",{className:"exist-members",children:Object(W.jsx)("ul",{children:Oe.map((function(e,t){if(!e.boards.includes(b._id))return Object(W.jsxs)("li",{children:[Object(W.jsx)("p",{children:"Add members:"}),Object(W.jsxs)("button",{className:"suggested-user",children:[Object(W.jsx)(V.a,{name:e,size:"30",round:!0},t),Object(W.jsx)("p",{children:e}),Object(W.jsx)("p",{children:Object(W.jsx)(o.a,{icon:u.k})})]})]},e._id)}))})}),Object(W.jsxs)("div",{className:"exist-members",children:[Object(W.jsx)("div",{className:"suggested-title",children:Object(W.jsx)("p",{children:"Suggested Users:"})}),j.map((function(e,t){if(!e.boards.includes(b._id))return Object(W.jsxs)("button",{onClick:function(){return Ce(e)},className:"suggested-user",children:[Object(W.jsx)(V.a,{name:e.name,size:"30",round:!0},t),Object(W.jsx)("p",{children:e.name}),Object(W.jsx)("p",{children:Object(W.jsx)(o.a,{icon:u.k})})]},e._id)}))]}),Object(W.jsxs)("div",{className:"exist-members",children:[Object(W.jsx)("p",{children:"In This Board:"}),j.map((function(e,t){if(e.boards.includes(b._id))return Object(W.jsxs)("button",{onClick:function(){return Ce(e)},className:"suggested-user",children:[Object(W.jsx)(V.a,{name:e.name,size:"30",round:!0},t),Object(W.jsx)("p",{children:e.name}),Object(W.jsx)("p",{children:Object(W.jsx)(o.a,{icon:u.c})})]},e._id)}))]})]})]})]}),Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("p",{className:"open-menu-btn",onClick:function(){return B(!0)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.b})}),Object(W.jsx)(ie,{boardMenuOp:we})]})]}),Object(W.jsx)(F.a,{onDragEnd:function(e){if(e.destination){var t=Y,c=t.splice(e.source.index,1),n=Object(q.a)(c,1)[0];t.splice(e.destination.index,0,n),Z(t)}},children:Object(W.jsx)(F.c,{droppableId:"characters",type:"TASK",children:function(e){return Object(W.jsx)("div",Object(O.a)(Object(O.a)({},e.droppableProps),{},{ref:e.innerRef,className:"cards-container flex",children:Object(W.jsxs)("div",{className:"flex",children:[Y.map((function(e,t){return Object(W.jsx)(F.b,{draggableId:e._id,index:t,children:function(t){return Object(W.jsx)("div",Object(O.a)(Object(O.a)(Object(O.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(W.jsx)(K,{cardPreviewOp:Ne,card:e},e._id)}))}},e._id)})),e.placeholder,!_&&Object(W.jsxs)("button",{className:"add-card-btn",onClick:function(){return D(!_)},children:[Object(W.jsx)(o.a,{className:"fa",icon:u.k})," Add another card"]}),_&&Object(W.jsxs)("form",{className:"add-card-container",onSubmit:s(ge),children:[Object(W.jsx)("input",Object(O.a)({type:"text",autoComplete:"off",placeholder:"Card name",id:"title",name:"title"},a("newCardTitle"))),Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsx)("button",{children:"Add Card"}),Object(W.jsx)("p",{onClick:function(){return D(!_)},children:Object(W.jsx)(o.a,{className:"fa",icon:u.m})})]})]})]})}))}})}),te&&Object(W.jsxs)("div",{style:{left:"".concat(se,"px"),top:"155px"},className:"card-modal",children:[Object(W.jsxs)("div",{className:"card-title-modal",children:[Object(W.jsx)("p",{children:je.title}),Object(W.jsx)("button",{onClick:function(){return ke()},children:"x"})]}),Object(W.jsx)("div",{className:"card-modal-btns",children:Object(W.jsx)("button",{onClick:function(){var e=b.cards.findIndex((function(e){return e._id===f._id})),c=T.updateBoard(e,b);t(I(c)),t(R(c._id)),ye("Aviv Zohar","deleted","card"),ke()},children:"Delete This Card"})})]}),g&&Object(W.jsx)(re,{taskModalOp:_e})]})}c(259);function oe(){return Object(W.jsxs)("div",{className:"sub-container landing-page-container",children:[Object(W.jsx)("h1",{children:"Welcome to Taskman!"}),Object(W.jsx)("div",{className:"landing-page-section",children:Object(W.jsxs)("div",{children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("h3",{children:"Stop working alone!"}),Object(W.jsx)("p",{children:"Join now."})]}),Object(W.jsx)("img",{src:"https://media.giphy.com/media/3oEdv1vkhqxcynkB5C/giphy.gif",alt:""})]})}),Object(W.jsx)("div",{className:"landing-page-section",children:Object(W.jsxs)("div",{children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("h3",{children:"Suits for all!"}),Object(W.jsx)("p",{children:"Workspaces, projects, big meetings."})]}),Object(W.jsx)("img",{src:"https://media.giphy.com/media/l0Iybn1vpbUzeqkqQ/giphy.gif",alt:""})]})})]})}c(260);function ue(e){var t=e.board;return Object(W.jsx)("div",{className:"board-link links",style:t.background.img?{backgroundImage:"url(".concat(t.background.img,")")}:{backgroundColor:t.background.color},children:Object(W.jsx)(l.b,{className:"link",to:"/board/".concat(t._id),children:Object(W.jsx)("h4",{children:t.title})})})}c(261);function je(e){var t=e.boardListOp,c=Object(U.a)(),a=c.register,s=c.handleSubmit,r=Object(n.useState)(null),i=Object(q.a)(r,2),l=i[0],d=i[1];return Object(W.jsxs)("ul",{className:"board-container",children:[t.boards.map((function(e){return Object(W.jsx)("li",{children:Object(W.jsx)(ue,{board:e})},e._id)})),Object(W.jsxs)("li",{className:"board-link add-board",children:[!l&&Object(W.jsx)("button",{onClick:function(){return d(!l)},children:"Create board"}),l&&Object(W.jsxs)("form",{onSubmit:s((function(e){t.addBoard(e.newBoardTitle),d(!l)})),children:[Object(W.jsx)("input",Object(O.a)(Object(O.a)({type:"text",id:"title",name:"title"},a("newBoardTitle")),{},{placeholder:"Board name"})),Object(W.jsx)("h4",{children:"Create board"})]})]})]})}c(262);function be(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.boardReducer.boards})),c=T.getEmptyBoard();Object(n.useEffect)((function(){$.setup(),e(z())}),[]);if(!t||!t.length)return Object(W.jsx)("div",{className:"loader-container",children:Object(W.jsx)("img",{src:le,alt:""})});var a={boards:t,addBoard:function(t){c.title=t,e(I(c)),e(z())}};return Object(W.jsxs)("div",{className:"sub-container",children:[Object(W.jsx)("h2",{children:"Your Workspace boards"}),Object(W.jsx)(je,{boardListOp:a})]})}var he=function(){var e=Object(i.d)((function(e){return e.boardReducer.background})),t=Object(i.d)((function(e){return e.boardReducer.currBoard}));return Object(W.jsx)(l.a,{children:Object(W.jsxs)("div",{className:"App container",style:e?{backgroundColor:"white"}:t?t.background.color?{backgroundColor:t.background.color}:{backgroundImage:t.background.img?"url(".concat(t.background.img,")"):""}:{backgroundColor:"white"},children:[Object(W.jsx)(Y,{}),Object(W.jsxs)(d.c,{children:[Object(W.jsx)(d.a,{component:de,path:"/board/:id?"}),Object(W.jsx)(d.a,{component:oe,path:"/boards"}),Object(W.jsx)(d.a,{component:be,path:"/"})]})]})})},me=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,288)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))},Oe=c(26),pe=c(145),fe={boards:[],currBoard:null,background:!1,filterBy:null};var xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Oe.d,ve=Object(Oe.c)({boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(O.a)(Object(O.a)({},e),{},{boards:t.boards});case"SET_BOARD":return Object(O.a)(Object(O.a)({},e),{},{currBoard:t.board});case"ADD_BOARD":return Object(O.a)(Object(O.a)({},e),{},{boards:[].concat(Object(m.a)(e.boards),[t.board])});case"REMOVE_BOARD":return Object(O.a)(Object(O.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t.boardId}))});case"UPDATE_BOARD":var c=t.updatedBoard;return console.log("updatedBoard:",c),Object(O.a)(Object(O.a)({},e),{},{boards:e.boards.map((function(e){return e._id===c._id?c:e}))});case"UPDATE_BACKGROUND":return Object(O.a)(Object(O.a)({},e),{},{background:t.background});case"UPDATE_FILTERBY":return Object(O.a)(Object(O.a)({},e),{},{filterBy:t.filterBy});default:return e}}}),ke=Object(Oe.e)(ve,xe(Object(Oe.a)(pe.a)));r.a.render(Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsx)(i.a,{store:ke,children:Object(W.jsx)(he,{})})}),document.getElementById("root")),me()}},[[263,1,2]]]);
//# sourceMappingURL=main.ed593dac.chunk.js.map