(this.webpackJsonptaskman=this.webpackJsonptaskman||[]).push([[0],{236:function(e,t,c){},258:function(e,t,c){},261:function(e,t,c){},264:function(e,t,c){},288:function(e,t){},320:function(e,t,c){},321:function(e,t,c){},322:function(e,t,c){},323:function(e,t,c){},324:function(e,t,c){},325:function(e,t,c){},333:function(e,t,c){},334:function(e,t,c){},335:function(e,t,c){},441:function(e,t,c){},442:function(e,t,c){},443:function(e,t,c){},444:function(e,t,c){},445:function(e,t,c){},446:function(e,t,c){},447:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(16),r=c.n(s),i=(c(236),c(90)),l=c(13),o=c(29),d=c(21),u=(c(258),c(5)),j=c(6),b=(c(261),c(1));function m(){return Object(b.jsxs)("nav",{className:"app-header sub-container",children:[Object(b.jsx)(o.b,{className:"link",to:"/boards",children:Object(b.jsx)(u.a,{icon:j.j})}),Object(b.jsx)(o.b,{className:"link",to:"/boards",children:"Taskman"}),Object(b.jsx)(o.b,{className:"link",to:"/boards",children:Object(b.jsx)(u.a,{icon:j.t})})]})}var h=c(11),f=c(4),O=c(7),p=c(8),x=c.n(p),v=c(15),k=c(91),g="/api/",C=c.n(k).a.create({withCredentials:!0}),y=function(e,t){return D(e,"GET",t)},N=function(e,t){return D(e,"POST",t)},w=function(e,t){return D(e,"PUT",t)},_=function(e,t){return D(e,"DELETE",t)};function D(e){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(x.a.mark((function e(t){var c,a,n,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,C({url:"".concat(g).concat(t),method:c,data:a,params:"GET"===c?a:null});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(c,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(a)),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var M={getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=c.charAt(Math.floor(Math.random()*c.length));return t},filter:function(e,t){return e=e.toLocaleLowerCase(),t.filter((function(t){return t.name.toLocaleLowerCase().includes(e)||t.phone.toLocaleLowerCase().includes(e)||t.email.toLocaleLowerCase().includes(e)}))},sort:function(e){return e.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0}))},debounce:function(e){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];var r=function(){clearTimeout(t),e.apply(void 0,n)};clearTimeout(t),t=setTimeout(r,c)}}};var A="board/",S={query:function(){return I.apply(this,arguments)},getBoardById:function(e){return z.apply(this,arguments)},deleteBoard:function(e){return F.apply(this,arguments)},saveBoard:function(e){return R.apply(this,arguments)},getEmptyBoard:function(){return{title:"",members:[].concat(L),cards:[{_id:M.makeId(),title:"Your first card!",tasks:[]}],activity:[],background:[],labels:[]}},getEmptyCard:function(){return{_id:M.makeId(),title:"",tasks:[]}},updateCard:function(e,t,c){if("number"!==typeof e){var a=t.tasks.findIndex((function(t){return t._id===e._id}));t.tasks.splice(a,1,e)}else t.tasks.splice(e,1);return V(t,c)},updateBoard:V,getCloudImages:function(){return B},getEmptyTask:function(){return{_id:M.makeId(),title:"",desc:"",createdAt:Date.now(),labels:[],dueDate:"",activity:[],members:[],isWithAttachment:!1,cover:"",checklists:[],doneAt:"",attachments:[],comments:[]}},getUsers:function(){return L},getCoverColors:function(){return E}},B=["https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621015877/taskman/jared-verdi-PNKwdJ8WetM-unsplash_aabpzg.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016569/taskman/zsofia-szalay-TbrzJbcacnQ-unsplash_bst628.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016567/taskman/the-nigmatic-lUnLaEWzcz8-unsplash_vcfxju.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016565/taskman/steve-johnson-274PPmlOjyQ-unsplash_twaarr.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/omer-salom-LoijtQXXNhs-unsplash_w6cs4h.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/jonny-gios-h_XcnLbDc_0-unsplash_lhi5si.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/inaki-del-olmo-IRCzpl2YYKE-unsplash_tpzeyw.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016564/taskman/joel-holland-TRhGEGdw-YY-unsplash_dqapzs.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016558/taskman/ian-schneider-TamMbr4okv4-unsplash_r85bnj.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016557/taskman/mohammad-alizade-CDu0x1Aiils-unsplash_jqizxr.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016556/taskman/mohammad-alizade-62t_kKa2YlA-unsplash_rbytvb.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016555/taskman/mohamed-rishfaan-ir_65wcK_DA-unsplash_qgfljs.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016554/taskman/ines-mills-TGs0tHMk4eg-unsplash_bkqpbf.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016551/taskman/erol-ahmed-aIYFR0vbADk-unsplash_g8hmym.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016551/taskman/duy-thanh-nguyen-ZeoSVUcWjfY-unsplash_z4qs2l.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016550/taskman/fransiskus-filbert-mangundap-C9hqYikX34w-unsplash_mqj9zi.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016548/taskman/arpad-spodni-KbKQY_LjmuE-unsplash_fqlcyv.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016546/taskman/dave-hoefler-PkQH-GHEp0A-unsplash_jfurlc.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016544/taskman/fabrice-villard-Du41jIaI5Ww-unsplash_kqcna2.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016542/taskman/estee-janssens-aQfhbxailCs-unsplash_slddqg.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016542/taskman/angel-luciano-XQJ0BBSvTs0-unsplash_d7advt.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016538/taskman/callum-wale-V8j3F6Ik9_s-unsplash_clbkte.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016537/taskman/braden-jarvis-prSogOoFmkw-unsplash_sgtmnd.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016534/taskman/danielle-macinnes-IuLgi9PWETU-unsplash_u9xmg7.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621016533/taskman/carolyn-christine-D7bmnvGJA2Q-unsplash_oz27jz.jpg","https://res.cloudinary.com/dtu0lzwpw/image/upload/v1621018122/taskman/vlad-kutepov-WYJ9c7uSdnU-unsplash_c2g6gy.jpg"],L=[{_id:"u101",name:"Aviv Zohar",tasks:[]},{_id:"u102",name:"Hadar Marom",tasks:[]},{_id:"u103",name:"Oshri Yoktan",tasks:[]},{_id:"u104",name:"gil shrager",tasks:[]},{_id:"u105",name:"Ofek aharon",tasks:[]}],E=["#7bc86c","#f5dd29","#ffaf3f","#ef7564","#cd8de5","#5ba4cf","#29cce5","#6deca9","#ff8ed4","#172b4d"];function I(){return(I=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(A);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("err:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function z(){return(z=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(A+t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("err:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function F(){return(F=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(A+t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error from boardService - ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function R(){return(R=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t._id){e.next=5;break}return e.next=4,w(A+t._id,t);case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,N(A,t);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.log("err:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function V(e,t){if("number"!==typeof e){var c=t.cards.findIndex((function(t){return t._id===e._id}));t.cards.splice(c,1,e)}else t.cards.splice(e,1);return Object(f.a)(Object(f.a)({},t),{},{cards:Object(h.a)(t.cards)})}function P(e){return function(){var t=Object(v.a)(x.a.mark((function t(c){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.query(e);case 2:a=t.sent,c({type:"SET_BOARDS",boards:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Y(e){return function(){var t=Object(v.a)(x.a.mark((function t(c){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.saveBoard(e);case 2:if(a=t.sent,e._id){t.next=7;break}return t.abrupt("return",c({type:"ADD_BOARD",board:a}));case 7:return t.abrupt("return",c({type:"UPDATE_BOARD",updatedBoard:a}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function W(e){return function(){var t=Object(v.a)(x.a.mark((function t(c){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.getBoardById(e);case 2:a=t.sent,c({type:"SET_BOARD",board:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function q(e){return function(){var t=Object(v.a)(x.a.mark((function t(c){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"UPDATE_BACKGROUND",background:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var G=c(22),H=c(40),U=(c(264),c(27)),Z=c(39),K=c.n(Z),X=c(209),J=c.n(X),Q=function(){var e,t={setup:function(){e=J()("")},on:function(c,a){e||t.setup(),e.on(c,a)},off:function(c){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||t.setup(),a?e.off(c,a):e.removeAllListeners(c)},emit:function(c,a){e||t.setup(),e.emit(c,a)},terminate:function(){e=null}};return t}();function $(e){var t=e.card,c=e.cardPreviewOp,n=Object(l.c)(),s=Object(G.a)(),r=s.register,i=s.handleSubmit,o=s.reset,d=Object(l.d)((function(e){return e.boardReducer.currBoard})),m=Object(a.useState)(t.tasks),h=Object(O.a)(m,2),p=h[0],k=h[1],g=Object(a.useState)(null),C=Object(O.a)(g,2),y=C[0],N=C[1],w=S.getEmptyTask(),_=function(e,t){e.stopPropagation(),c.setIsDescShown(t),n(W(d._id))},D=function(e,c){e.stopPropagation(),c.doneAt?c.doneAt="":c.doneAt=Date.now(),Q.emit("task to-update-task",{card:t,task:c});var a=S.updateCard(c,t,d);n(Y(a)),n(W(d._id))},T=function(){var e=Object(v.a)(x.a.mark((function e(a){var s,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.title=a.newTask,p.push(w),k(p),s=S.updateCard(w,t,d),n(Y(s)),n(W(d._id)),N(!y),r={task:w,card:t._id},Q.emit("task to-add-task",r),c.addActivity("Aviv Zohar","added","task",t.title),w=S.getEmptyTask(),o({newTask:""});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(v.a)(x.a.mark((function e(c){var a,s,r,i,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.destination){e.next=2;break}return e.abrupt("return");case 2:return a=Array.from(p),s=a.splice(c.source.index,1),r=Object(O.a)(s,1),i=r[0],a.splice(c.destination.index,0,i),t.tasks=a,k(t.tasks),e.next=9,S.updateBoard(t,d);case 9:l=e.sent,n(Y(l)),n(W(d._id));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return e.doneAt?"#61BD4F":e.dueDate>Date.now()?"#F4F5F7":"#ec9488"},B=function(e){return e.doneAt?"white":e.dueDate>Date.now()?"#8b95a7":"white"};return Object(b.jsx)("div",{className:"board-card",onClick:function(){return c.setCurrCard(t)},children:Object(b.jsxs)("div",{className:"hide-overflow",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)("form",{onChange:i((function(e){t.title=e.cardTitle;var c=S.updateBoard(t,d);Q.emit("card to-update-card",t),n(Y(c))})),children:Object(b.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},r("cardTitle")),{},{defaultValue:t.title,placeholder:"Card name"}))}),Object(b.jsx)("div",{onClick:function(e){return c.openCardModal(e,t)},className:"manage-card",children:Object(b.jsx)("p",{children:"\u22ee"})})]}),Object(b.jsx)(H.a,{onDragEnd:M,children:Object(b.jsx)(H.c,{droppableId:"tasks",children:function(e){return Object(b.jsxs)("ul",Object(f.a)(Object(f.a)({},e.droppableProps),{},{ref:e.innerRef,className:"tasks-container",children:[p.map((function(e,t){return Object(b.jsx)(H.b,{draggableId:e._id,index:t,children:function(t){return Object(b.jsxs)("li",Object(f.a)(Object(f.a)(Object(f.a)({onClick:function(){return c.setCurrTask(e)}},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,className:"card-task",children:[e.cover?e.cover.includes("#")?Object(b.jsx)("div",{className:"task-cover-color",style:{backgroundColor:"".concat(e.cover)}}):Object(b.jsx)("div",{className:"task-cover-img",style:{backgroundImage:"url(".concat(e.cover,") ,url(https://images.unsplash.com/photo-1563718428108-a2420c356c5c?ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60)")}}):null,Object(b.jsxs)("div",{className:"label-color-to-preview-container",children:[!c.isDescShown&&e.labels.map((function(e,t){return Object(b.jsx)("label",{className:"label-color-to-preview",style:{backgroundColor:"".concat(e.color)},onClick:function(e){return _(e,!0)}},t)})),c.isDescShown&&e.labels.map((function(e,t){return Object(b.jsx)("label",{className:"label-color-open-to-preview",style:{backgroundColor:"".concat(e.color)},onClick:function(e){return _(e,!1)},children:e.desc},t)}))]}),Object(b.jsx)("span",{children:e.title}),Object(b.jsxs)("section",{className:"buttom-preview-info",children:[e.dueDate?e.doneAt?Object(b.jsxs)("div",{className:"due-date-to-preview",style:{color:B(e),backgroundColor:A(e)},onClick:function(t){return D(t,e)},children:[Object(b.jsx)(u.a,{className:"icon font-awesome-clock",icon:j.g}),Object(b.jsx)(u.a,{className:"icon font-awesome-check-square",icon:j.d}),Object(b.jsx)(K.a,{format:"MMM D",withTitle:!0,children:e.dueDate})]}):Object(b.jsxs)("div",{className:"due-date-to-preview",style:{color:B(e),backgroundColor:A(e)},onClick:function(t){return D(t,e)},children:[Object(b.jsx)(u.a,{className:"icon font-awesome-clock",icon:j.g}),Object(b.jsx)(u.a,{className:"icon font-awesome-home",icon:j.p}),Object(b.jsx)(K.a,{format:"MMM D",withTitle:!0,children:e.dueDate})]}):null,e.attachments.length?Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{icon:j.m})," ",e.attachments.length," "]}):null,e.checklists.length?Object(b.jsxs)("p",{children:[Object(b.jsx)(u.a,{icon:j.k}),e.checklists.reduce((function(e,t){return e+t.list.reduce((function(e,t){return t.isChecked+e}),0)}),0),"/",e.checklists.reduce((function(e,t){return t.list.length+e}),0)]}):null]}),e.members.length?Object(b.jsx)("div",{className:"avatar-card-preview",children:e.members.map((function(e,t){return Object(b.jsx)(U.a,{name:e.name,size:"30",round:!0},t)}))}):null]}),e._id)}},e._id)})),e.placeholder]}))}})}),!y&&Object(b.jsxs)("button",{className:"add-task-btn",onClick:function(){return N(!y)},children:[Object(b.jsx)(u.a,{icon:j.o})," Add task"]}),y&&Object(b.jsxs)("form",{className:"add-task-container",onSubmit:i(T),children:[Object(b.jsx)("input",Object(f.a)(Object(f.a)({type:"text",id:"title",name:"title",required:!0},r("newTask")),{},{placeholder:"Enter a title for this card\u2026",defaultValue:w.title})),Object(b.jsxs)("div",{className:"add-task-btns",children:[Object(b.jsx)("button",{children:"Add Task"}),Object(b.jsx)("p",{onClick:function(){return N(!y)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]})]})]})})}window.socketService=Q;c(320),c(321);function ee(e){var t=e.labelEditModal,c=e.currBoard,a=Object(l.c)(),n=Object(G.a)(),s=n.register,r=n.handleSubmit;return Object(b.jsxs)("div",{className:"label-edit-modal",children:[Object(b.jsxs)("div",{className:"labels-edit-modal-header",children:[Object(b.jsx)("button",{onClick:function(){return e.setLabelEditModal(!1)},children:Object(b.jsx)(u.a,{icon:j.e})}),Object(b.jsx)("h3",{children:"Edit Label"}),Object(b.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setLabelModal(!1)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsx)("div",{className:"label-edit-details",children:Object(b.jsxs)("form",{onChange:r((function(n){return s=n,t.desc=s.labelName,t.color=s.labelColor,e.setLabelModal(t),void a(Y(Object(f.a)({},c)));var s})),children:[Object(b.jsx)("p",{children:"Name:"}),Object(b.jsx)("input",Object(f.a)({type:"text",name:"edit-name",autoComplete:"off",defaultValue:t.desc},s("labelName"))),Object(b.jsx)("p",{children:"Color:"}),Object(b.jsx)("input",Object(f.a)({type:"color",name:"edit-color",className:"edit-color",defaultValue:t.color},s("labelColor")))]})})]})}c(322);function te(e){var t=Object(a.useState)(null),c=Object(O.a)(t,2),n=c[0],s=c[1],r=Object(l.d)((function(e){return e.boardReducer.currBoard})),i=r.labels;return Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{className:"label-modal",style:n?{maxWidth:0,border:"none",visibility:"visible"}:{maxWidth:"280px"},children:[Object(b.jsxs)("div",{className:"labels-modal-header",children:[Object(b.jsx)("h3",{children:"Labels"}),Object(b.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setLabelModal(!1)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsx)("ul",{className:"label-container",children:i.map((function(t,c){return Object(b.jsxs)("li",{onClick:function(){return c=t,void e.addLabel(c);var c},children:[Object(b.jsxs)("div",{className:"label-to-show",style:{backgroundColor:"".concat(t.color)},children:[Object(b.jsx)("span",{children:t.desc}),Object(b.jsx)("span",{children:e.currTask.labels.find((function(e){return e.color===t.color}))?Object(b.jsx)(u.a,{className:"fa",icon:j.c}):null})]}),Object(b.jsx)("button",{className:"edit-label-btn",onClick:function(e){return function(e,t){e.stopPropagation(),s(t)}(e,t)},children:Object(b.jsx)(u.a,{icon:j.n})})]},c)}))})]}),n&&Object(b.jsx)("div",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",width:0},ref:e.LabelEditRef,children:Object(b.jsx)(ee,{setLabelModal:e.setLabelModal,currBoard:r,labelEditModal:n,setLabelEditModal:s,addLabel:e.addLabel})})]})}c(323);function ce(e){var t=Object(G.a)(),c=t.register,n=t.handleSubmit,s=Object(l.d)((function(e){return e.boardReducer.currBoard})),r=Object(a.useState)(s.members),i=Object(O.a)(r,2),o=i[0],d=i[1];Object(l.c)();return Object(a.useEffect)((function(){Q.on("add-member-to-task-from-back",(function(){console.log("workes")}))})),Object(b.jsxs)("div",{className:"member-modal",children:[Object(b.jsxs)("div",{className:"member-modal-header",children:[Object(b.jsx)("h3",{children:"Members"}),Object(b.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setMemberModal(!1)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("ul",{className:"member-container",children:[Object(b.jsx)("form",{onChange:n((function(e){var t=s.members.filter((function(t){return t.name.toLowerCase().includes(e.searchMember.toLowerCase())}));t.length||t.push({_id:"failMember",name:"Member not found."}),console.log("users:",t),d(t)})),children:Object(b.jsx)("input",Object(f.a)(Object(f.a)({autoComplete:"off"},c("searchMember")),{},{type:"text",placeholder:"Search members..."}))}),Object(b.jsx)("p",{children:"Members:"}),o.map((function(t){return"failMember"!==t._id?Object(b.jsxs)("li",{onClick:function(){return function(t){e.addMemberToTask(t)}(t)},className:"members-list",children:[Object(b.jsx)("div",{className:"member-details",children:Object(b.jsx)(U.a,{name:t.name,size:"30",round:!0},t._id)}),Object(b.jsx)("span",{children:t.name}),Object(b.jsx)("span",{className:"member-icon",children:e.currTask.members.find((function(e){return e._id===t._id}))?Object(b.jsx)(u.a,{icon:j.c,children:" "}):null})]},t._id):Object(b.jsx)("li",{className:"members-list",children:Object(b.jsx)("span",{children:t.name})},t._id)}))]})]})}c(324);function ae(e){var t=Object(G.a)(),c=t.register,a=t.handleSubmit;t.formState.errors;return console.log("props.currTask.cover:",e.currTask.cover),Object(b.jsxs)("div",{className:"checklist-modal",children:[Object(b.jsxs)("section",{className:"checklist-modal-header",children:[Object(b.jsx)("h3",{children:"Add Checklist"}),Object(b.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setChecklistModal(!1)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("form",{className:"checklist-modal-main",onSubmit:a((function(t){var c={title:t.title,list:[],range:0};e.addChecklist(c),e.setChecklistModal(!1)})),children:[Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",Object(f.a)(Object(f.a)({type:"text",autoComplete:"off",id:"title",name:"title"},c("title")),{},{defaultValue:""})),Object(b.jsx)("button",{children:"Add"})]})]})}c(325);var ne=c(216),se=c(23),re=c(471);function ie(e){var t=Date.now()+6048e5,c=(new Date(Date.now()+6048e5),n.a.useState(t)),a=Object(O.a)(c,2),s=a[0],r=a[1];return Object(b.jsxs)("div",{className:"due-date-modal",children:[Object(b.jsxs)("section",{className:"due-date-modal-header",children:[Object(b.jsx)("h3",{children:"Due Date"}),Object(b.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setDueDateModal(!1)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("form",{onSubmit:function(){var t=Date.parse(s);e.addDueDate(t),e.setDueDateModal(!1)},children:[Object(b.jsx)(se.a,{utils:ne.a,children:Object(b.jsx)(re.a,{disableToolbar:!0,variant:"static",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Pick A Deadline",value:s,onChange:function(e){return r(e)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(b.jsx)("button",{children:"save"})]})]})}var le=c(48),oe=c.n(le);c(333),c(334);function de(e){var t=e.type,c=e.txt,a=e.currTask,n=e.cloudOp;return Object(b.jsx)("section",{className:"cloudinary-container",children:Object(b.jsx)(i.a,{sources:["local","camera","url","dropbox","instagram"],sourceKeys:{dropboxAppKey:"idwo4j2egt6411m",instagramClientId:"14c890ce047a8defd4410d4bd0b1d823"},resourceType:"image",cloudName:"dtu0lzwpw",uploadPreset:"aywupxtw",buttonText:c||"Attachments",style:{color:"inherit",border:"none",width:"100%",height:"100%",backgroundColor:"inherit",borderRadius:"4px",padding:0},folder:"taskman",onSuccess:function(e){if(console.log("res:",e),"cover"===t);else if("background"===t);else{var c={_id:M.makeId(),title:e.info.original_filename,src:e.info.secure_url};a.attachments.push(c)}n.updateBoard(a)},onFailure:function(e){return console.log(e)},logging:!1,customPublicId:"sample",eager:"w_400,h_300,c_pad|w_260,h_200,c_crop",use_filename:!0,unique_filename:!0,apiKey:639164948471337,accepts:"application/json",contentType:"application/json",withCredentials:!0})})}function ue(e){var t=S.getCoverColors();return Object(b.jsxs)("section",{className:"cover-modal",style:e.currTask.cover?null:{top:"175px"},children:[Object(b.jsxs)("div",{className:"cover-modal-header",children:[Object(b.jsx)("h3",{children:"Cover"}),Object(b.jsx)("p",{className:"btn-close-icon",onClick:function(){return e.setCoverModal(!1)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("div",{className:"cover-modal-body",children:[Object(b.jsx)("h4",{children:"COLORS:"}),Object(b.jsx)("div",{className:"cover-color-container",children:t.map((function(t,c){return Object(b.jsx)("span",{className:"cover-color",onClick:function(){return e.addCover(t)},style:{backgroundColor:t}},c)}))}),e.currTask.attachments.length?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"ATTACHMENTS:"}),Object(b.jsx)("div",{className:"cover-attachments-container",children:e.currTask.attachments.map((function(t){return Object(b.jsx)(oe.a,{src:t.src||"https://images.unsplash.com/photo-1563718428108-a2420c356c5c?ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",format:"hex",children:function(c){var a=c.data;return Object(b.jsx)("div",{className:"cover-attach",style:{backgroundColor:a,backgroundImage:"url(".concat(t.src||"https://images.unsplash.com/photo-1563718428108-a2420c356c5c?ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",")")},onClick:function(){return e.addCover(t.src)}})}},t._id)}))})]}):Object(b.jsx)("div",{children:Object(b.jsx)(de,{txt:"Upload photo",type:"cover",currTask:e.currTask})}),e.currTask.cover&&Object(b.jsx)("button",{className:"remove-cover-btn",onClick:function(){return e.addCover("")},children:"Remove cover"})]})]})}var je=c.p+"static/media/taskman-loader.d5d52ecc.svg";function be(e){var t=e.taskModalOp,c=t.currTask,n=t.currBoard,s=Object(l.c)(),r=Object(G.a)(),i=r.register,o=r.handleSubmit,d=r.reset,m=Object(a.useState)(null),h=Object(O.a)(m,2),p=h[0],x=h[1],v=Object(a.useState)(!1),k=Object(O.a)(v,2),g=(k[0],k[1],Object(a.useState)(null)),C=Object(O.a)(g,2),y=(C[0],C[1],Object(a.useRef)(null)),N=function(e,t){Object(a.useEffect)((function(){var c=function(c){e.current&&!e.current.contains(c.target)&&t(c)};return document.addEventListener("mousedown",c),document.addEventListener("touchstart",c),function(){document.removeEventListener("mousedown",c),document.removeEventListener("touchstart",c)}}),[e,t])},w=(Object(a.useRef)(),Object(a.useState)(!1)),_=Object(O.a)(w,2),D=_[0],T=_[1],A=Object(a.useRef)();N(A,(function(){return T(!1)}));var B=Object(a.useState)(!1),L=Object(O.a)(B,2),E=(L[0],L[1]),I=Object(a.useRef)();N(I,(function(){return E(!1)}));var z=Object(a.useState)(!1),F=Object(O.a)(z,2),R=F[0],V=F[1],P=Object(a.useRef)();N(P,(function(){return V(!1)}));var q=Object(a.useState)(!1),H=Object(O.a)(q,2),Z=H[0],X=H[1],J=Object(a.useRef)();N(J,(function(){return X(!1)}));var $=Object(a.useState)(!1),ee=Object(O.a)($,2),ne=ee[0],se=ee[1],re=Object(a.useRef)();N(re,(function(){return se(!1)}));var le=Object(a.useState)(!1),be=Object(O.a)(le,2),me=be[0],he=be[1],fe=Object(a.useRef)();N(fe,(function(){return he(!1)}));var Oe=Object(a.useState)(!1),pe=Object(O.a)(Oe,2),xe=pe[0],ve=pe[1],ke=Object(a.useState)(null),ge=Object(O.a)(ke,2),Ce=ge[0],ye=ge[1],Ne=n.cards.find((function(e){return e.tasks.find((function(e){return e._id===c._id}))})),we=function(e){var t=+(e.list.reduce((function(e,t){return t.isChecked+e}),0)/e.list.length*100).toFixed(2);e.range=t,_e(c),Q.emit("task to-update-task",{card:Ne,task:c})},_e=function(e){var t=S.updateCard(e,Ne,n);Q.emit("task to-update-task",{card:Ne,task:c}),s(Y(t)),s(W(n._id))},De=function(){y.current.click()};if(!c||!Ne)return Object(b.jsx)("div",{className:"loader-container",children:Object(b.jsx)("img",{src:je,alt:""})});var Te,Me={updateBoard:_e};return Object(b.jsxs)("section",{className:"task-modal hide-overflow",children:[Object(b.jsxs)("div",{className:"task-modal-form",style:c.cover?{marginTop:"172px"}:{marginTop:0},children:[c.cover?c.cover.includes("#")?Object(b.jsx)("div",{className:"cover-section",style:{backgroundColor:"".concat(c.cover)}}):Object(b.jsx)(oe.a,{src:c.cover||"https://images.unsplash.com/photo-1563718428108-a2420c356c5c?ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",format:"hex",children:function(e){var t=e.data;return Object(b.jsx)("div",{className:"cover-section",style:{backgroundColor:t,backgroundImage:"url(".concat(c.cover||"https://images.unsplash.com/photo-1563718428108-a2420c356c5c?ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",")")}})}}):null,Object(b.jsx)("div",{className:"task-header",children:Object(b.jsxs)("div",{className:"task-title",children:[Object(b.jsxs)("form",{onChange:o((function(e){c.title=e.taskTitle,_e(c),Q.emit("task to-update-task",{card:Ne,task:c})})),children:[Object(b.jsx)(u.a,{icon:j.u})," ",Object(b.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},i("taskTitle")),{},{defaultValue:c.title,placeholder:"Task name"}))]}),Object(b.jsxs)("p",{className:"card-title",children:["In list: ",Ne.title]})]})}),Object(b.jsxs)("div",{className:"task-description-modal",children:[c.members.length?Object(b.jsxs)("section",{className:"members-section",children:[Object(b.jsx)("h3",{children:"MEMBERS:"}),Object(b.jsxs)("div",{className:"member-list",children:[c.members.map((function(e,t){return Object(b.jsx)("div",{className:"member-in-modal",onClick:function(){return X(!0)},children:Object(b.jsx)(U.a,{name:e.name,size:"30",round:!0},t)},t)})),Object(b.jsx)("button",{onClick:function(){return X(!0)},children:Object(b.jsx)(u.a,{icon:j.o})})]})]}):null,c.labels.length?Object(b.jsxs)("section",{className:"labels-section",children:[Object(b.jsx)("h3",{children:"LABELS:"}),c.labels.map((function(e,t){return Object(b.jsx)("div",{className:"label-in-modal",onClick:function(){return T(!0)},style:{backgroundColor:e.color},children:Object(b.jsx)("p",{children:e.desc})},t)})),Object(b.jsx)("button",{onClick:function(){return T(!0)},children:Object(b.jsx)(u.a,{icon:j.o})})]}):null,c.dueDate?Object(b.jsxs)("section",{className:"due-date-moment-section",onClick:function(){c.doneAt?c.doneAt="":c.doneAt=Date.now(),_e(c),Q.emit("task to-update-task",{card:Ne,task:c})},children:[Object(b.jsx)("h3",{children:"DUE DATE:"}),Object(b.jsxs)("span",{className:"due-date-moment",children:[" ",c.doneAt?Object(b.jsx)(u.a,{icon:j.d}):Object(b.jsx)(u.a,{icon:j.g}),Object(b.jsx)(K.a,{format:"MMM D YYYY",withTitle:!0,children:c.dueDate}),Object(b.jsx)("small",{style:{color:"white",backgroundColor:(Te=c,Te.doneAt?"#61BD4F":Te.dueDate>Date.now()?"inherite":"#ec9488")},children:function(e){return e.doneAt?"COMPLETED":e.dueDate>Date.now()?"":"OVERDUE"}(c)})]})," "]}):null,Object(b.jsxs)("section",{className:"desc-section",children:[Object(b.jsxs)("div",{className:"desc-svg",children:[Object(b.jsx)(u.a,{icon:j.a}),Object(b.jsx)("p",{children:"Description:"})]}),Object(b.jsxs)("form",{onChange:o((function(e){return t=e,c.desc=t.desc,_e(c),void Q.emit("task to-update-task",{card:Ne,task:c});var t})),children:[Object(b.jsx)("textarea",Object(f.a)(Object(f.a)({id:"desc",name:"desc",onClick:function(){return ve(!xe)},defaultValue:undefined,placeholder:"Add some detailed description..."},i("desc")),{},{defaultValue:t.currTask.desc})),xe&&Object(b.jsxs)("div",{className:"save-desc",children:[Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),ve(!xe)},children:"Save"}),Object(b.jsx)("button",{onClick:function(){return ve(!1)},children:Object(b.jsx)(u.a,{icon:j.r})})," "]})]})]})]}),c.checklists.length?Object(b.jsx)("section",{children:c.checklists.map((function(e,a){return Object(b.jsxs)("div",{className:"checklist-in-modal",children:[Object(b.jsxs)("div",{className:"checklist-svg",children:[" ",Object(b.jsxs)("div",{className:"flex",children:[" ",Object(b.jsx)(u.a,{icon:j.k})," ",Object(b.jsxs)("p",{children:[e.title,":"]})]}),Object(b.jsx)("button",{onClick:function(){return t.addChecklist(a)},children:"Delete list"})]}),e.list.length?Object(b.jsxs)("h6",{children:[e.range,"%"]}):null,e.list.length?Object(b.jsx)("div",{className:"demo-range-container",children:100===e.range?Object(b.jsx)("div",{className:"demo-range-checked",style:{backgroundColor:"#61bd4f",width:e.range+"%"}}):Object(b.jsx)("div",{className:"demo-range-checked",style:{width:e.range+"%"}})}):null,e.list.length?e.list.map((function(t,a){return Object(b.jsxs)("div",{className:"checklist-items",children:[Object(b.jsx)("input",{type:"checkbox",id:"checklist-item-"+a,checked:t.isChecked,onChange:function(){!function(e){e.isChecked=!e.isChecked,_e(c),Q.emit("task to-update-task",{card:Ne,task:c})}(t),we(e)}}),t.isChecked?Object(b.jsx)("label",{style:{textDecoration:"line-through"},children:t.desc}):Object(b.jsx)("label",{children:t.desc})]},a)})):null,Object(b.jsxs)("form",{onSubmit:o((function(e){return function(e,t){var a=Object.keys(e).find((function(e){return e==="inputItem"+t}));e[a]&&(c.checklists[t].list.push({desc:e[a],isChecked:!1}),we(c.checklists[t]),d({inputItem0:"",inputItem1:"",inputItem2:"",inputItem3:"",inputItem4:""}),Q.emit("task to-update-task",{card:Ne,task:c}))}(e,a)})),children:[Object(b.jsx)("input",Object(f.a)({type:"text",autoComplete:"off",id:"input-item-"+a,name:"item",placeholder:"Add an item"},i("inputItem"+a))),Object(b.jsx)("button",{className:"add-an-item-btn",children:"Add"})]})]},a)}))}):null,c.attachments.length?Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{className:"att-svg",children:[Object(b.jsx)(u.a,{icon:j.m}),Object(b.jsx)("p",{children:"Attachments:"})]}),c.attachments.map((function(e,t){return Object(b.jsxs)("div",{className:"attachments-container",children:[Object(b.jsx)("div",{className:"att-src",children:Object(b.jsx)(oe.a,{src:e.src||"https://images.unsplash.com/photo-1563718428108-a2420c356c5c?ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",format:"hex",children:function(t){var c=t.data;t.loading,t.error;return Object(b.jsx)("div",{className:"attachment-img",style:{backgroundColor:c,backgroundImage:"url(".concat(e.src||"https://images.unsplash.com/photo-1563718428108-a2420c356c5c?ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",")")},alt:"photo"})}})}),Object(b.jsxs)("div",{className:"att-details",children:[Object(b.jsx)("p",{children:e.title||"Photo"}),Object(b.jsx)("p",{children:"Added Right now!"}),Object(b.jsxs)("div",{className:"att-btns",children:[Object(b.jsx)("button",{onClick:function(e){ye(!Ce),function(e){x(e)}(e)},children:"Edit"}),Object(b.jsx)("button",{onClick:function(){return function(e){var t=c.attachments.findIndex((function(t){return t._id===e}));c.attachments.splice(t,1),Q.emit("task to-update-task",{card:Ne,task:c}),_e(c)}(e._id)},children:"Delete"})]})]}),Ce&&Object(b.jsxs)("div",{style:{transform:"translate(-540px,".concat(p.clientY-190,"px)")},className:"att-edit",children:[Object(b.jsxs)("div",{className:"att-edit-header",children:[Object(b.jsx)("p",{children:"Edit attachment"}),Object(b.jsx)("button",{onClick:function(){return ye(!1)},children:"x"})]}),Object(b.jsxs)("div",{className:"att-edit-main",children:[Object(b.jsx)("p",{children:"Link name:"}),Object(b.jsxs)("form",{onSubmit:o((function(e){return function(e,t){var a=Object.keys(e).find((function(e){return e==="attItem"+t}));c.attachments[t].title=e[a]}(e,t)})),children:[Object(b.jsx)("input",Object(f.a)({type:"text",autoComplete:"off",id:"att-item-"+t,defaultValue:e.title},i("attItem"+t))),Object(b.jsx)("button",{children:"Save"})]})]})]})]},t)}))]}):null,Object(b.jsxs)("div",{className:"att-svg",children:[Object(b.jsx)(u.a,{icon:j.h}),Object(b.jsx)("p",{children:"Comments:"})]}),Object(b.jsxs)("div",{className:"task-comment",children:[Object(b.jsx)("form",{onSubmit:o((function(e){var t={_id:M.makeId(),member:"oshri",timeStamp:Date.now(),title:e.comment};c.comments.push(t),_e(c),d({comment:""})})),children:Object(b.jsx)("input",Object(f.a)({className:"post-comment-input",type:"text",autoComplete:"off",id:"comment",name:"comment",placeholder:"Post a Comment..."},i("comment")))}),c.comments.length?c.comments.map((function(e,t){return Object(b.jsxs)("div",{className:"comment-container",children:[Object(b.jsx)("div",{className:"comment-avatar",children:Object(b.jsx)(U.a,{name:e.member,size:"30",round:!0},e._id)}),Object(b.jsxs)("div",{className:"comment-details",children:[Object(b.jsxs)("div",{className:"comment-header",children:[Object(b.jsx)("p",{className:"comment-member",children:e.member})," ",Object(b.jsx)("p",{children:Object(b.jsx)(K.a,{fromNow:!0,children:e.timeStamp})})]}),Object(b.jsxs)("form",{onChange:o((function(e){return function(e,t){var a=Object.keys(e).find((function(e){return e==="editComment"+t}));c.comments[t].title=e[a],_e(c)}(e,t)})),className:"comment-title",children:[Object(b.jsx)("input",Object(f.a)({type:"text",autoComplete:"off",id:"comment-edit"+t,defaultValue:e.title},i("editComment"+t))),Object(b.jsx)("button",{style:{display:"none"},onClick:function(e){return e.preventDefault()}})]}),Object(b.jsx)("div",{className:"comment-btns",children:Object(b.jsx)("button",{onClick:function(){return function(e){var t=c.comments.findIndex((function(t){return t._id===e}));c.comments.splice(t,1),_e(c)}(e._id)},children:"Delete"})})]})]},e._id)})):null]})]}),Object(b.jsxs)("div",{className:"add-to-task",style:c.cover?{marginTop:"172px"}:{marginTop:0},children:[Object(b.jsxs)("div",{className:"right-task-modal",children:[Object(b.jsx)("h3",{children:"Add To Task:"}),Object(b.jsx)("p",{onClick:function(){return t.setCurrTask(null)},className:"btn-close-icon",children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("div",{className:"right-task-modal-btns",children:[Object(b.jsxs)("div",{onClick:function(){T(!0)},className:"right-task-btn",children:[Object(b.jsx)(u.a,{icon:j.q}),Object(b.jsx)("p",{children:" Labels "}),D?Object(b.jsxs)("div",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",width:0},ref:A,children:[" ",Object(b.jsx)(te,{labelEditRef:I,setLabelModal:T,labelModal:D,currTask:c,addLabel:t.addLabel})]}):null]}),Object(b.jsxs)("div",{onClick:function(){return X(!0)},className:"right-task-btn",children:[Object(b.jsx)(u.a,{icon:j.s}),Object(b.jsx)("p",{children:" Members "}),Z?Object(b.jsxs)("div",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",width:0},ref:J,children:[" ",Object(b.jsx)(ce,{setMemberModal:X,memberModal:Z,currTask:c,addMemberToTask:t.addMember})]}):null]}),Object(b.jsxs)("div",{onClick:function(){return se(!0)},className:"right-task-btn",children:[Object(b.jsx)(u.a,{icon:j.k}),Object(b.jsx)("p",{children:" Checklist "}),ne?Object(b.jsxs)("div",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",width:0},ref:re,children:[" ",Object(b.jsx)(ae,{setChecklistModal:se,checklistModal:ne,currTask:c,addChecklist:t.addChecklist})]}):null]}),Object(b.jsxs)("div",{onClick:function(){return he(!0)},className:"right-task-btn",children:[Object(b.jsx)(u.a,{icon:j.g}),Object(b.jsx)("p",{children:" Due date "}),me?Object(b.jsxs)("div",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",width:0},ref:fe,children:[" ",Object(b.jsx)(ie,{setDueDateModal:he,dueDateModal:me,addDueDate:t.addDueDate,currTask:c})]}):null]}),Object(b.jsx)(de,{currTask:c,cloudOp:Me,txt:Object(b.jsxs)("div",{className:"right-task-btn",children:[Object(b.jsx)(u.a,{icon:j.m}),Object(b.jsx)("p",{children:"Attachments"})]})}),R?Object(b.jsx)("div",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",width:0},ref:P,children:Object(b.jsx)(ue,{setCoverModal:V,coverModal:R,addCover:t.addCover,currTask:c,onButtonClick:De,inputFile:y})}):null,Object(b.jsxs)("div",{onClick:function(){return V(!0)},className:"right-task-btn",children:[Object(b.jsx)(u.a,{icon:j.f}),Object(b.jsx)("p",{children:" Cover "})]})]})]}),D?Object(b.jsxs)("div",{ref:A,children:[" ",Object(b.jsx)(te,{setLabelModal:T,labelModal:D,currTask:c,addLabel:t.addLabel})]}):null,Z?Object(b.jsxs)("div",{ref:J,children:[" ",Object(b.jsx)(ce,{setMemberModal:X,memberModal:Z,currTask:c,addMemberToTask:t.addMember})]}):null,ne?Object(b.jsxs)("div",{ref:re,children:[" ",Object(b.jsx)(ae,{setChecklistModal:se,checklistModal:ne,currTask:c,addChecklist:t.addChecklist})]}):null,me?Object(b.jsxs)("div",{ref:fe,children:[" ",Object(b.jsx)(ie,{setDueDateModal:he,dueDateModal:me,addDueDate:t.addDueDate,currTask:c})]}):null,R?Object(b.jsx)("div",{ref:P,children:Object(b.jsx)(ue,{setCoverModal:V,coverModal:R,addCover:t.addCover,currTask:c,onButtonClick:De,inputFile:y})}):null]})}c(335);var me=c(125);function he(e){var t=e.boardMenuOp,c=Object(l.c)(),n=Object(G.a)(),s=n.register,r=n.handleSubmit,i=Object(l.d)((function(e){return e.boardReducer.currBoard})),o=Object(a.useState)(!1),d=Object(O.a)(o,2),m=d[0],p=d[1],x=Object(a.useState)(!1),v=Object(O.a)(x,2),k=v[0],g=v[1],C=Object(a.useState)(!1),y=Object(O.a)(C,2),N=y[0],w=y[1],_=Object(a.useState)(!1),D=Object(O.a)(_,2),T=D[0],A=D[1],B=Object(a.useState)(null),L=Object(O.a)(B,2),E=L[0],I=L[1],z=Object(a.useState)(!1),F=Object(O.a)(z,2),R=F[0],V=F[1],P=Object(a.useState)({task:"",labels:[]}),q=Object(O.a)(P,2),H=q[0],Z=q[1];Object(a.useEffect)((function(){I(S.getCloudImages()),J()}),[H]),Object(a.useEffect)((function(){t.isMenu||$()}),[t.isMenu]);var X=function(e){Z(Object(f.a)(Object(f.a)({},H),{},{task:e.searchTask}))},J=function(){t.filterTasks(H)},Q=function(e){var t=[],a=[];Object.keys(e).forEach((function(e){e.includes("editBoardLabelColor")?a.push(e):e.includes("editBoardLabel")&&t.push(e)}));var n=Object.values(e);n.splice(0,1);var s=[],r=[];n.forEach((function(e,t){t%2===0?s.push(e):r.push(e)}));var l=s.map((function(e,t){return{desc:s[t],color:r[t]}}));c(Y(Object(f.a)(Object(f.a)({},i),{},{labels:l}))),setTimeout((function(){return c(W(i._id))}),100)},$=function(){t.setIsMenu(!1),p(!1),g(!1),w(!1),A(!1),X("")};if(!E||!i)return Object(b.jsx)("div",{className:"loader-container",children:"Loading"});var ee=[],te=[],ce=[];i.cards.forEach((function(e){e.tasks.forEach((function(e){e.doneAt?ce.push(e):e.dueDate?e.dueDate>Date.now()?ee.push(e):te.push(e):ee.push(e)}))}));var ae={labels:i.members.map((function(e){return e.name})),datasets:[{label:"Members",data:i.members.map((function(e){return e.tasks.length})),backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(75, 192, 192, 0.7)","rgba(255, 205, 86, 0.7)","rgba(201, 203, 207, 0.7)","rgba(54, 162, 235, 0.7)"],hoverOffset:4}]},ne={labels:["Completed","In progress","Overdue"],datasets:[{label:"Status",data:[ce.length,ee.length,te.length],backgroundColor:["rgba(29, 185, 84, 0.7)","rgba(255, 159, 64, 0.7)","rgba(255, 99, 132, 0.7)"],borderColor:["rgba(29, 185, 84)","rgba(255, 159, 64)","rgba(255, 99, 132)"],borderWidth:1}]};return Object(b.jsxs)("section",{className:"board-menu flex",style:t.isMenu?{maxWidth:"100%"}:{maxWidth:0},children:[Object(b.jsxs)("article",{className:"menu-main",children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("h3",{children:"Menu"}),Object(b.jsx)("p",{onClick:$,children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{onClick:function(){return p(!m)},children:"About & Statistics"}),Object(b.jsx)("p",{onClick:function(){return g(!k)},children:"Background"}),Object(b.jsx)("p",{onClick:function(){return w(!N)},children:"Search cards"}),Object(b.jsx)("p",{onClick:function(){return A(!T)},children:"Labels"})]}),Object(b.jsxs)("div",{className:"hide-overflow flex",children:[Object(b.jsx)("h3",{children:"Activity"}),Object(b.jsxs)("ul",{children:[i.activity.length?i.activity.map((function(e){return Object(b.jsxs)("li",{children:["attached"!==e.type&&"removed"!==e.type?Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:e.member})," ",e.type," ",e.desc," ","deleted"===e.type?"from":"to"," ",Object(b.jsx)("span",{children:e.card}),"board"===e.card?"":" card","."]}):Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:e.member})," ",e.type," ",e.desc," ","removed"===e.type?"from":"to"," ",Object(b.jsx)("span",{children:e.card})," task."]}),Object(b.jsx)("small",{children:Object(b.jsx)(K.a,{fromNow:!0,children:e.createdAt})})]},e._id)})):null,!i.activity.length&&Object(b.jsx)("li",{children:Object(b.jsx)("h1",{children:"No activity here..."})})]})]})]}),Object(b.jsxs)("article",{className:"menu-about sub-menu",style:m?{maxWidth:"100%"}:{maxWidth:0},children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{onClick:function(){return p(!m)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.e})}),Object(b.jsx)("h3",{children:"About & Statistics"}),Object(b.jsx)("p",{onClick:$,children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("div",{className:"flex hide-overflow",children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("h3",{children:"Members"}),Object(b.jsx)("div",{children:t.members.map((function(e,t){return Object(b.jsx)(U.a,{name:e.name,size:"30",round:!0},t)}))}),Object(b.jsxs)("p",{children:["Total: ",t.members.length]})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("h3",{children:"Description"}),Object(b.jsx)("textarea",{placeholder:"Type here a description"})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("h3",{children:"Statistics"}),Object(b.jsx)("h4",{children:"Tasks per member"}),Object(b.jsx)(me.b,{data:ae}),Object(b.jsx)("h4",{children:"Tasks status"}),Object(b.jsx)(me.a,{height:"200",data:ne})]})]})]}),Object(b.jsxs)("article",{className:"menu-background sub-menu",style:k?{maxWidth:"100%"}:{maxWidth:0},children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{onClick:function(){return g(!k)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.e})}),Object(b.jsx)("h3",{children:"Change background"}),Object(b.jsx)("p",{onClick:$,children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsxs)("div",{className:"hide-overflow flex",children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("h4",{children:"Colors"}),Object(b.jsx)("div",{className:"flex",children:["lightgreen","lightyellow","lightblue","orange","slateblue","lightpink","lightgray","white"].map((function(e,c){return Object(b.jsx)("aside",{style:{backgroundColor:e},onClick:function(){return t.changeBackground(e,!0)}},c)}))})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("h4",{children:"Photos"}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)(de,{txt:"Upload photo",type:"background"}),E.map((function(e,c){return Object(b.jsx)("img",{onClick:function(){return t.changeBackground(e)},decoding:"async",loading:"lazy",src:e,alt:e},c)}))]})]})]})]}),Object(b.jsxs)("article",{className:"menu-filter sub-menu",style:N?{maxWidth:"100%"}:{maxWidth:0},children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{onClick:function(){return w(!N)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.e})}),Object(b.jsx)("h3",{children:"Search cards"}),Object(b.jsx)("p",{onClick:$,children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsx)("div",{children:Object(b.jsx)("form",{onChange:r(X),children:Object(b.jsx)("input",Object(f.a)({type:"text",placeholder:"Search for task..."},s("searchTask")))})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Search by label"}),Object(b.jsx)("ul",{children:t.labels.map((function(e,c){return Object(b.jsxs)("li",{style:{backgroundColor:H.labels.includes(e.desc)?"gray":"inherit"},onClick:function(){return function(e){if(H.labels.includes(t.labels[e].desc)){var c=H.labels.findIndex((function(c){return c===t.labels[e].desc}));H.labels.splice(c,1),Z(Object(f.a)(Object(f.a)({},H),{},{labels:H.labels}))}else Z(Object(f.a)(Object(f.a)({},H),{},{labels:[].concat(Object(h.a)(H.labels),[t.labels[e].desc])}))}(c)},children:[Object(b.jsx)("div",{style:{backgroundColor:e.color}}),Object(b.jsx)("p",{children:e.desc})]},c)}))})]})]}),Object(b.jsxs)("article",{className:"menu-labels sub-menu",style:T?{maxWidth:"100%"}:{maxWidth:0},children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{onClick:function(){return A(!T)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.e})}),Object(b.jsx)("h3",{children:"Labels"}),Object(b.jsx)("p",{onClick:$,children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]}),Object(b.jsx)("div",{className:"hide-overflow",children:Object(b.jsxs)("ul",{children:[t.labels.map((function(e,a){return Object(b.jsxs)("li",{style:{backgroundColor:e.color},children:[Object(b.jsxs)("form",{onChange:r(M.debounce(Q,800)),children:[Object(b.jsx)("input",Object(f.a)({type:"text",defaultValue:e.desc,placeholder:"Label name",required:!0},s("editBoardLabel"+a))),Object(b.jsxs)("label",{name:"label-color",children:[Object(b.jsx)(u.a,{className:"fa",icon:j.l}),Object(b.jsx)("input",Object(f.a)(Object(f.a)({type:"color"},s("editBoardLabelColor"+a)),{},{defaultValue:e.color}))]})]}),Object(b.jsx)("p",{children:Object(b.jsx)(u.a,{className:"fa",icon:j.r,onClick:function(){return function(e){i.labels.splice(e,1),c(Y(i)),setTimeout((function(){return c(W(i._id))}),100),t.addActivity("Aviv Zohar","deleted","label")}(a)}})})]},a)})),!R&&Object(b.jsx)("li",{onClick:function(){return V(!R)},children:Object(b.jsx)("p",{children:"New label"})}),R&&Object(b.jsxs)("li",{children:[Object(b.jsxs)("form",{onSubmit:r((function(e){var a={desc:e.addBoardLabel,color:e.addBoardLabelColor};i.labels.push(a),c(Y(i)),setTimeout((function(){return c(W(i._id))}),100),V(!R),t.addActivity("Aviv Zohar","added","label")})),children:[Object(b.jsx)("input",Object(f.a)({type:"text",placeholder:"Label name",autoComplete:"off",required:!0},s("addBoardLabel"))),Object(b.jsx)("input",Object(f.a)({type:"color",name:"label-color",id:"label-color",defaultValue:"#FFFFFF"},s("addBoardLabelColor"))),Object(b.jsx)("button",{children:"Add label"})]}),Object(b.jsx)("button",{onClick:function(){return V(!R)},children:"X"})]})]})})]})]})}c(441);function fe(e){var t=e.notifyOp,c=t.isMsg,a=t.msg;return a?Object(b.jsxs)("section",{className:"notification-container",style:c?{maxWidth:"100%"}:{maxWidth:"0"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{className:"fa",icon:j.c}),"warning"===a.type&&Object(b.jsx)(u.a,{className:"fa",icon:j.i})]}),Object(b.jsx)("div",{children:"attached"!==a.type&&"removed"!==a.type?Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[a.member,":",Object(b.jsx)("br",{})]})," ",a.type," ",a.desc," ","deleted"===a.type?"from":"to"," ",Object(b.jsx)("span",{children:a.card}),"board"===a.card?"":" card","."]}):Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[a.member,":"]}),Object(b.jsx)("br",{})," ",a.type," ",a.desc," ","removed"===a.type?"from":"to"," ",Object(b.jsx)("span",{children:a.card})," task."]})})]}):Object(b.jsx)("div",{})}c(442);function Oe(e){var t=Object(l.c)(),c=Object(G.a)(),n=c.register,s=c.handleSubmit,r=c.reset,i=S.getEmptyCard(),o=S.getUsers(),d=Object(l.d)((function(e){return e.boardReducer.currBoard})),m=Object(a.useState)(null),p=Object(O.a)(m,2),x=p[0],v=p[1],k=Object(a.useState)(null),g=Object(O.a)(k,2),C=g[0],y=g[1],N=Object(a.useState)(!1),w=Object(O.a)(N,2),_=w[0],D=w[1],T=Object(a.useState)(null),A=Object(O.a)(T,2),B=A[0],L=A[1],E=Object(a.useRef)(),I=function(e,t){Object(a.useEffect)((function(){var c=function(c){e.current&&!e.current.contains(c.target)&&t(c)};return document.addEventListener("mousedown",c),document.addEventListener("touchstart",c),function(){document.removeEventListener("mousedown",c),document.removeEventListener("touchstart",c)}}),[e,t])};Object(a.useEffect)((function(){t(P()),t(q(!1));var c=e.match.params.id;Q.emit("board topic",c),d?ke||(ge(d.cards),Q.on("task add-task",(function(e){V(e)})),Q.on("task update-task",(function(e){F(e)})),Q.on("card add-card",(function(e){K(e)})),Q.on("card delete-card",(function(e){Z(e)})),Q.on("board add-label",(function(e){X(e)})),Q.on("card update-card",(function(e){z(e)})),Q.on("card update-card-title",(function(e){R(e)})),Q.on("board add-activity",(function(e){J(e)}))):t(W(c))}),[d]);var z=function(e){console.log("card:",e);var c=d.cards.findIndex((function(t){return t._id===e._id}));d.cards.splice(c,1,e),t(W(d._id)),setTimeout((function(){return t(W(d._id))}),500)},F=function(e){var c=d.cards.find((function(t){return t._id===e.card._id})),a=c.tasks.findIndex((function(t){return t._id===e.task._id}));c.tasks.splice(a,1,e.task),t(W(d._id))},R=function(e){d.cards.find((function(t){return t._id===e._id})).title=e.title,t(W(d._id))},V=function(e){d.cards.find((function(t){return t._id===e.card})).tasks.push(e.task),t(W(d._id))},Z=function(e){var c=d.cards.findIndex((function(t){return t._id===e.card}));d.cards.splice(c,1),t(W(d._id))},K=function(e){d.cards.push(e),t(W(d._id))},X=function(e){if(console.log("data:",e),e.task.labels.length)if(e.task.labels.some((function(t){return t.color===e.label.color}))){var c=e.task.labels.findIndex((function(t){return t.color===e.label.color}));e.task.labels.splice(c,1)}else e.task.labels.push(e.label);else e.task.labels.push(e.label);S.updateCard(e.task,e.card,d),t(W(d._id))},J=function(e){d.activity.unshift(e),Xe(e.member,e.type,e.desc,e.card),t(W(d._id))};I(E,(function(){return y(!1)}));var ee=Object(a.useState)(!1),te=Object(O.a)(ee,2),ce=te[0],ae=te[1],ne=Object(a.useRef)();I(ne,(function(){return ae(!1)}));var se=Object(a.useState)(null),re=Object(O.a)(se,2),ie=re[0],le=re[1],oe=Object(a.useRef)();I(oe,(function(){return Me(!1)}));var de=Object(a.useRef)();I(de,(function(){return we(!1)}));var ue=Object(a.useState)(null),me=Object(O.a)(ue,2),Oe=me[0],pe=me[1],xe=Object(a.useState)((null===d||void 0===d?void 0:d.cards)?d.cards:null),ve=Object(O.a)(xe,2),ke=ve[0],ge=ve[1],Ce=Object(a.useState)(null),ye=Object(O.a)(Ce,2),Ne=ye[0],we=ye[1],_e=Object(a.useState)(null),De=Object(O.a)(_e,2),Te=De[0],Me=De[1],Ae=Object(a.useState)(null),Se=Object(O.a)(Ae,2),Be=Se[0],Le=Se[1],Ee=Object(a.useState)(null),Ie=Object(O.a)(Ee,2),ze=Ie[0],Fe=Ie[1],Re=Object(a.useState)(null),Ve=Object(O.a)(Re,2),Pe=Ve[0],Ye=Ve[1],We=Object(a.useState)(!1),qe=Object(O.a)(We,2),Ge=qe[0],He=qe[1],Ue=function(){le(null),Me(!1)},Ze=function(e){(i=S.getEmptyCard()).title=e.newCardTitle,d.cards.push(i),ge(d.cards),t(Y(Object(f.a)(Object(f.a)({},d),{},{cards:Object(h.a)(d.cards)}))),setTimeout((function(){return t(W(d._id))}),150),pe(!Oe),r(),Ke("Aviv Zohar","added","card"),Q.emit("card to-add-card",i)},Ke=function(e,c,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"board",s={_id:M.makeId(),member:e,type:c,desc:a,card:n,createdAt:Date.now()};d.activity.unshift(s),Q.emit("board to-add-activity",s),Xe(e,c,a,n),t(Y(d)),t(W(d._id))},Xe=function(e,c,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"board";L({member:e,type:c,desc:a,card:n}),D(!0),setTimeout((function(){D(!1)}),3e3),t(W(d._id))};if(!d||!ke||!ke.length)return Object(b.jsx)("div",{className:"loader-container",children:Object(b.jsx)("img",{src:je,alt:""})});var Je={openCardModal:function(e,t){Le(e.clientX),Fe(e.clientY),Me(!0),le(t)},closeModal:Ue,addActivity:Ke,setCurrCard:v,setCurrTask:y,isDescShown:Ge,setIsDescShown:He},Qe={setIsMenu:ae,isMenu:ce,changeBackground:function(e,c){c?(Ke("Aviv Zohar","change","color"),t(Y(Object(f.a)(Object(f.a)({},d),{},{background:{color:e,img:null}})))):(Ke("Aviv Zohar","change","image"),t(Y(Object(f.a)(Object(f.a)({},d),{},{background:{color:null,img:e}})))),setTimeout((function(){return t(W(d._id))}),100)},members:d.members,filterTasks:function(e){if(e.task||e.labels.length){var t=[];""!==e.task&&d.cards.map((function(c){return c.tasks.filter((function(a){a.title.includes(e.task)&&t.push(c)}))})),e.labels.length&&d.cards.map((function(c){return c.tasks.map((function(a){return a.labels.map((function(a){e.labels.includes(a.desc)&&t.push(c)}))}))}));var c=[];if((t=t.filter((function(e){if(!c.includes(e._id))return c.push(e._id),e})))&&Object.keys(t).length)ge(t);else{var a=S.getEmptyCard();a.title="There are no matched tasks.",ge([a])}}else ge(d.cards)},labels:d.labels,addActivity:Ke},$e={setCurrTask:y,currTask:C,addLabel:function(e){if(C.labels.length)if(C.labels.some((function(t){return t.color===e.color}))){var c=C.labels.findIndex((function(t){return t.color===e.color}));C.labels.splice(c,1)}else C.labels.push(e);else C.labels.push(e);var a=S.updateCard(C,x,d);t(Y(a)),t(W(a._id)),Ke("Aviv Zohar","added","label",x.title),Q.emit("task to-update-task",{card:x,task:C})},addMember:function(e){if(C.members.length)if(C.members.some((function(t){return t._id===e._id}))){var c=e.tasks.findIndex((function(e){return e===C._id}));e.tasks.splice(c,1);var a=C.members.findIndex((function(t){return t._id===e._id}));C.members.splice(a,1),Ke("Aviv Zohar","removed",e.name,C.title)}else e.tasks.push(C._id),C.members.push(e),Ke("Aviv Zohar","attached",e.name,C.title);else e.tasks.push(C._id),C.members.push(e),Ke("Aviv Zohar","attached",e.name,C.title);console.log("member",e);var n=S.updateCard(C,x,d);Q.emit("task to-update-task",{card:x,task:C}),t(Y(n)),t(W(n._id))},addChecklist:function(e){"object"===typeof e?C.checklists.push(e):C.checklists.splice(e,1);var c=S.updateCard(C,x,d);Q.emit("task to-update-task",{card:x,task:C}),t(Y(c)),t(W(c._id))},addDueDate:function(e){C.dueDate=e;var c=S.updateCard(C,x,d);Q.emit("task to-update-task",{card:x,task:C}),t(Y(c)),t(W(c._id))},addCover:function(e){C.cover=e;var c=S.updateCard(C,x,d);Q.emit("task to-update-task",{card:x,task:C}),t(Y(c)),t(W(c._id))},currBoard:d},et={isMsg:_,msg:B};return Object(b.jsxs)("div",{className:"board-details sub-container",children:[Object(b.jsxs)("div",{className:"board-header flex",children:[Object(b.jsxs)("div",{className:"flex ",children:[Object(b.jsx)("form",{onBlur:s((function(e){var c=e.boardTitle;t(Y(Object(f.a)(Object(f.a)({},d),{},{title:c})))})),children:Object(b.jsx)("input",Object(f.a)(Object(f.a)({type:"text",id:"title",name:"title"},n("boardTitle")),{},{defaultValue:d.title}))}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("div",{className:"avatars",children:d.members.map((function(e,t){return Object(b.jsx)(U.a,{name:e.name,size:"30",round:!0},t)}))}),Object(b.jsx)("button",{onClick:function(){return we(!Ne)},children:"Invite"}),Ne&&Object(b.jsxs)("div",{ref:de,className:"invite-members-modal",children:[Object(b.jsx)("form",{onChange:s((function(e){var t=[];d.members.map((function(e){return t.push(e._id)}));var c=o.filter((function(c){if(""!==e.member)return t.includes(c._id)?void 0:c.name.toLowerCase().includes(e.member.toLowerCase())}));Ye(c)})),children:Object(b.jsxs)("div",{className:"invite-title",children:[Object(b.jsxs)("div",{className:"close-btn",children:[Object(b.jsx)("p",{children:"Invite to board:"}),Object(b.jsx)("button",{onClick:function(){return we(!Ne)},children:"x"})]}),Object(b.jsx)("input",Object(f.a)({type:"text",autoComplete:"off",placeholder:"Search Taskman Members..",id:"member",name:"member"},n("member")))]})}),Pe&&Object(b.jsx)("div",{className:"exist-members",children:Object(b.jsx)("ul",{children:Pe.map((function(e,c){return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:"Add members:"}),Object(b.jsxs)("button",{onClick:function(){return function(e){d.members.push(e),t(Y(d)),t(W(d._id))}(e)},className:"suggested-user",children:[Object(b.jsx)(U.a,{name:e.name,size:"30",round:!0},c),Object(b.jsx)("p",{children:e.name}),Object(b.jsx)("p",{children:Object(b.jsx)(u.a,{icon:j.o})})]})]},e._id)}))})}),Object(b.jsxs)("div",{className:"exist-members",children:[Object(b.jsx)("p",{children:"In This Board:"}),d.members.map((function(e,c){return Object(b.jsxs)("button",{onClick:function(){return function(e){var c=d.members.findIndex((function(t){return t._id===e}));d.members.splice(c,1),t(Y(d)),t(W(d._id))}(e._id)},className:"suggested-user",children:[Object(b.jsx)(U.a,{name:e.name,size:"30",round:!0},c),Object(b.jsx)("p",{children:e.name}),Object(b.jsx)("p",{children:Object(b.jsx)(u.a,{icon:j.c})})]},e._id)}))]})]})]})]}),Object(b.jsxs)("div",{ref:ne,className:"flex",children:[Object(b.jsx)("p",{className:"open-menu-btn",onClick:function(){return ae(!0)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.b})}),Object(b.jsx)(he,{boardMenuOp:Qe})]})]}),Object(b.jsx)(H.a,{onDragEnd:function(e){if(e.destination){var t=ke,c=t.splice(e.source.index,1),a=Object(O.a)(c,1)[0];t.splice(e.destination.index,0,a),ge(t)}},children:Object(b.jsx)(H.c,{droppableId:"cards",type:"CARD",children:function(e){return Object(b.jsx)("div",Object(f.a)(Object(f.a)({},e.droppableProps),{},{ref:e.innerRef,className:"cards-container flex",children:Object(b.jsxs)("div",{className:"flex",children:[ke.map((function(t,c){return Object(b.jsxs)("div",{className:"test",children:[" ",Object(b.jsx)(H.b,{draggableId:t._id,index:c,children:function(e){return Object(b.jsx)("div",Object(f.a)(Object(f.a)(Object(f.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:Object(b.jsx)($,{cardPreviewOp:Je,card:t},t._id)}),t._id)}},t._id),e.placeholder]},t._id)})),!Oe&&Object(b.jsxs)("button",{className:"add-card-btn",onClick:function(){return pe(!Oe)},children:[Object(b.jsx)(u.a,{className:"fa",icon:j.o})," Add another card"]}),Oe&&Object(b.jsxs)("div",{className:"add-card",children:[" ",Object(b.jsxs)("form",{className:"add-card-container",onSubmit:s(Ze),children:[Object(b.jsx)("input",Object(f.a)({type:"text",autoComplete:"off",placeholder:"Card name",id:"title",name:"title"},n("newCardTitle"))),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("button",{children:"Add Card"}),Object(b.jsx)("p",{onClick:function(){return pe(!Oe)},children:Object(b.jsx)(u.a,{className:"fa",icon:j.r})})]})]})]})]})}))}})}),Te&&Object(b.jsxs)("div",{ref:oe,style:{left:"".concat(Be,"px"),top:"".concat(ze,"px")},className:"card-modal",children:[Object(b.jsxs)("div",{className:"card-title-modal",children:[Object(b.jsx)("p",{children:ie.title}),Object(b.jsx)("button",{onClick:function(){return Ue()},children:"x"})]}),Object(b.jsx)("div",{className:"card-modal-btns",children:Object(b.jsx)("button",{onClick:function(){return function(){var e=d.cards.findIndex((function(e){return e._id===x._id})),c=S.updateBoard(e,d);Q.emit("card to-delete-card",e),Ke("Aviv Zohar","deleted","card"),ge(d.cards),t(Y(c)),t(W(c._id)),Ue()}()},children:"Delete This Card"})})]}),C&&Object(b.jsx)("div",{ref:E,children:Object(b.jsx)(be,{taskModalOp:$e})}),Object(b.jsx)(fe,{notifyOp:et})]})}c(443);function pe(){var e=Object(l.c)();return Object(a.useEffect)((function(){e(q(!1))})),Object(b.jsxs)("section",{className:"sub-container landing-page-container",children:[Object(b.jsxs)("div",{className:"landing-page-section",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:["T",Object(b.jsx)("span",{children:"a"}),"skm",Object(b.jsx)("span",{children:"a"}),"n"]}),Object(b.jsx)("p",{children:"Taskman helps teams move work forward. Collaborate, manage projects, and reach new productivity peaks. From high rises to the home office, the way your team works is unique-accomplish it all with Taskman."}),Object(b.jsxs)(o.b,{to:"/profile",children:["Join now",Object(b.jsx)("span",{children:"."})]})]}),Object(b.jsx)("img",{src:"https://cdn.dribbble.com/users/2851002/screenshots/9667092/media/09648e273e248e7cfd22ade4010b2a6e.gif",alt:""})]}),Object(b.jsxs)("div",{className:"landing-page-section",children:[Object(b.jsx)("img",{src:"https://cdn.dribbble.com/users/2851002/screenshots/9073688/media/bb69af3d8f2404f4cfcc7cecdc558be6.gif",alt:""}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Keep Track Of Your Team"}),Object(b.jsx)("p",{children:"Taskman has statistics panel to see your team progress. Keep track of your team's assignment and completion of tasks easily!"})]})]}),Object(b.jsxs)("div",{className:"landing-page-section",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Live Updates & Push Notifications"}),Object(b.jsx)("p",{children:"Always be up-to-date with recent activities in your project. our unique system of real-time push notifications will make sure you always know all about the recent developments."})]}),Object(b.jsx)("img",{src:"https://cdn.dribbble.com/users/2851002/screenshots/7736965/media/e08e0676dd54ae8715c2d72bbdd51eb2.gif",alt:""})]}),Object(b.jsx)("div",{className:"flex try-btn",children:Object(b.jsx)(o.b,{to:"/boards",className:"link",children:"Try Taskman!"})}),Object(b.jsx)("div",{className:"landing-page-header",children:Object(b.jsxs)(o.b,{to:"/boards",className:"link",children:["T",Object(b.jsx)("span",{children:"a"}),"skm",Object(b.jsx)("span",{children:"a"}),"n"]})})]})}c(444);function xe(e){var t=e.board;return Object(b.jsx)("div",{className:"board-link links",style:t.background.img?{backgroundImage:"url(".concat(t.background.img,")")}:{backgroundColor:t.background.color},children:Object(b.jsx)(o.b,{className:"link",to:"/board/".concat(t._id),children:Object(b.jsx)(oe.a,{src:t.background.img,format:"hex",children:function(e){var c=e.data;e.loading,e.error;return Object(b.jsx)("h4",{style:{color:c},children:t.title})}})})})}c(445);function ve(e){var t=e.boardListOp,c=Object(G.a)(),n=c.register,s=c.handleSubmit,r=Object(a.useState)(null),i=Object(O.a)(r,2),l=i[0],o=i[1];return Object(b.jsxs)("ul",{className:"board-container",children:[t.boards.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(xe,{board:e})},e._id)})),Object(b.jsxs)("li",{className:"board-link add-board",children:[!l&&Object(b.jsx)("button",{onClick:function(){return o(!l)},children:"Create board"}),l&&Object(b.jsxs)("form",{onSubmit:s((function(e){t.addBoard(e.newBoardTitle),o(!l)})),children:[Object(b.jsx)("input",Object(f.a)(Object(f.a)({type:"text",id:"title",name:"title"},n("newBoardTitle")),{},{placeholder:"Board name"})),Object(b.jsx)("h4",{children:"Create board"})]})]})]})}c(446);function ke(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.boardReducer.boards})),c=S.getEmptyBoard();Object(a.useEffect)((function(){Q.setup(),e(P()),e(q(!0))}),[]);if(!t||!t.length)return Object(b.jsx)("div",{className:"loader-container",children:Object(b.jsx)("img",{src:je,alt:""})});var n={boards:t,addBoard:function(t){c.title=t,e(Y(c)),e(P())}};return Object(b.jsxs)("div",{className:"sub-container taskman-container",children:[Object(b.jsx)("h2",{children:"Your Workspace boards"}),Object(b.jsx)(ve,{boardListOp:n})]})}var ge=function(){var e=Object(l.d)((function(e){return e.boardReducer.background})),t=Object(l.d)((function(e){return e.boardReducer.currBoard}));return Object(b.jsx)(o.a,{children:Object(b.jsxs)("div",{className:"App container",style:e?{backgroundColor:"white"}:t?t.background.color?{backgroundColor:t.background.color}:{backgroundImage:t.background.img?"url(".concat(t.background.img,")"):""}:{backgroundColor:"white"},children:[Object(b.jsx)(m,{}),Object(b.jsx)(i.b,{}),Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{component:Oe,path:"/board/:id?"}),Object(b.jsx)(d.a,{component:ke,path:"/boards"}),Object(b.jsx)(d.a,{component:pe,path:"/"})]})]})})},Ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,472)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))},ye=c(31),Ne=c(215),we={boards:[],currBoard:null,background:!1,filterBy:null};var _e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d,De=Object(ye.c)({boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(f.a)(Object(f.a)({},e),{},{boards:t.boards});case"SET_BOARD":return Object(f.a)(Object(f.a)({},e),{},{currBoard:t.board});case"ADD_BOARD":return Object(f.a)(Object(f.a)({},e),{},{boards:[].concat(Object(h.a)(e.boards),[t.board])});case"REMOVE_BOARD":return Object(f.a)(Object(f.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t.boardId}))});case"UPDATE_BOARD":var c=t.updatedBoard;return Object(f.a)(Object(f.a)({},e),{},{boards:e.boards.map((function(e){return e._id===c._id?c:e}))});case"UPDATE_BACKGROUND":return Object(f.a)(Object(f.a)({},e),{},{background:t.background});case"UPDATE_FILTERBY":return Object(f.a)(Object(f.a)({},e),{},{filterBy:t.filterBy});default:return e}}}),Te=Object(ye.e)(De,_e(Object(ye.a)(Ne.a)));r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(l.a,{store:Te,children:Object(b.jsx)(ge,{})})}),document.getElementById("root")),Ce()}},[[447,1,2]]]);
//# sourceMappingURL=main.ca5a07fd.chunk.js.map